(function(e, t) {
    "use strict";
    if (typeof module === "object" && typeof module.exports === "object") {
        module.exports = e.document ? t(e, true) : function(e) {
            if (!e.document) {
                throw new Error("jQuery requires a window with a document")
            }
            return t(e)
        }
    } else {
        t(e)
    }
})(typeof window !== "undefined" ? window : this, function(E, e) {
    "use strict";
    var t = [];
    var k = E.document;
    var r = Object.getPrototypeOf;
    var u = t.slice;
    var m = t.concat;
    var s = t.push;
    var i = t.indexOf;
    var n = {};
    var o = n.toString;
    var g = n.hasOwnProperty;
    var a = g.toString;
    var l = a.call(Object);
    var v = {};
    var y = function e(t) {
        return typeof t === "function" && typeof t.nodeType !== "number"
    };
    var b = function e(t) {
        return t != null && t === t.window
    };
    var f = {
        type: true,
        src: true,
        noModule: true
    };

    function x(e, t, n) {
        t = t || k;
        var r, i = t.createElement("script");
        i.text = e;
        if (n) {
            for (r in f) {
                if (n[r]) {
                    i[r] = n[r]
                }
            }
        }
        t.head.appendChild(i).parentNode.removeChild(i)
    }

    function w(e) {
        if (e == null) {
            return e + ""
        }
        return typeof e === "object" || typeof e === "function" ? n[o.call(e)] || "object" : typeof e
    }
    var c = "3.3.1",
        S = function(e, t) {
            return new S.fn.init(e, t)
        },
        d = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
    S.fn = S.prototype = {
        jquery: c,
        constructor: S,
        length: 0,
        toArray: function() {
            return u.call(this)
        },
        get: function(e) {
            if (e == null) {
                return u.call(this)
            }
            return e < 0 ? this[e + this.length] : this[e]
        },
        pushStack: function(e) {
            var t = S.merge(this.constructor(), e);
            t.prevObject = this;
            return t
        },
        each: function(e) {
            return S.each(this, e)
        },
        map: function(n) {
            return this.pushStack(S.map(this, function(e, t) {
                return n.call(e, t, e)
            }))
        },
        slice: function() {
            return this.pushStack(u.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(e) {
            var t = this.length,
                n = +e + (e < 0 ? t : 0);
            return this.pushStack(n >= 0 && n < t ? [this[n]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor()
        },
        push: s,
        sort: t.sort,
        splice: t.splice
    };
    S.extend = S.fn.extend = function() {
        var e, t, n, r, i, o, a = arguments[0] || {},
            u = 1,
            s = arguments.length,
            l = false;
        if (typeof a === "boolean") {
            l = a;
            a = arguments[u] || {};
            u++
        }
        if (typeof a !== "object" && !y(a)) {
            a = {}
        }
        if (u === s) {
            a = this;
            u--
        }
        for (; u < s; u++) {
            if ((e = arguments[u]) != null) {
                for (t in e) {
                    n = a[t];
                    r = e[t];
                    if (a === r) {
                        continue
                    }
                    if (l && r && (S.isPlainObject(r) || (i = Array.isArray(r)))) {
                        if (i) {
                            i = false;
                            o = n && Array.isArray(n) ? n : []
                        } else {
                            o = n && S.isPlainObject(n) ? n : {}
                        }
                        a[t] = S.extend(l, o, r)
                    } else if (r !== undefined) {
                        a[t] = r
                    }
                }
            }
        }
        return a
    };
    S.extend({
        expando: "jQuery" + (c + Math.random()).replace(/\D/g, ""),
        isReady: true,
        error: function(e) {
            throw new Error(e)
        },
        noop: function() {},
        isPlainObject: function(e) {
            var t, n;
            if (!e || o.call(e) !== "[object Object]") {
                return false
            }
            t = r(e);
            if (!t) {
                return true
            }
            n = g.call(t, "constructor") && t.constructor;
            return typeof n === "function" && a.call(n) === l
        },
        isEmptyObject: function(e) {
            var t;
            for (t in e) {
                return false
            }
            return true
        },
        globalEval: function(e) {
            x(e)
        },
        each: function(e, t) {
            var n, r = 0;
            if (p(e)) {
                n = e.length;
                for (; r < n; r++) {
                    if (t.call(e[r], r, e[r]) === false) {
                        break
                    }
                }
            } else {
                for (r in e) {
                    if (t.call(e[r], r, e[r]) === false) {
                        break
                    }
                }
            }
            return e
        },
        trim: function(e) {
            return e == null ? "" : (e + "").replace(d, "")
        },
        makeArray: function(e, t) {
            var n = t || [];
            if (e != null) {
                if (p(Object(e))) {
                    S.merge(n, typeof e === "string" ? [e] : e)
                } else {
                    s.call(n, e)
                }
            }
            return n
        },
        inArray: function(e, t, n) {
            return t == null ? -1 : i.call(t, e, n)
        },
        merge: function(e, t) {
            var n = +t.length,
                r = 0,
                i = e.length;
            for (; r < n; r++) {
                e[i++] = t[r]
            }
            e.length = i;
            return e
        },
        grep: function(e, t, n) {
            var r, i = [],
                o = 0,
                a = e.length,
                u = !n;
            for (; o < a; o++) {
                r = !t(e[o], o);
                if (r !== u) {
                    i.push(e[o])
                }
            }
            return i
        },
        map: function(e, t, n) {
            var r, i, o = 0,
                a = [];
            if (p(e)) {
                r = e.length;
                for (; o < r; o++) {
                    i = t(e[o], o, n);
                    if (i != null) {
                        a.push(i)
                    }
                }
            } else {
                for (o in e) {
                    i = t(e[o], o, n);
                    if (i != null) {
                        a.push(i)
                    }
                }
            }
            return m.apply([], a)
        },
        guid: 1,
        support: v
    });
    if (typeof Symbol === "function") {
        S.fn[Symbol.iterator] = t[Symbol.iterator]
    }
    S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(e, t) {
        n["[object " + t + "]"] = t.toLowerCase()
    });

    function p(e) {
        var t = !!e && "length" in e && e.length,
            n = w(e);
        if (y(e) || b(e)) {
            return false
        }
        return n === "array" || t === 0 || typeof t === "number" && t > 0 && t - 1 in e
    }
    var h = function(n) {
        var e, p, x, o, i, h, c, m, w, s, l, C, E, a, k, g, u, f, v, S = "sizzle" + 1 * new Date,
            y = n.document,
            N = 0,
            r = 0,
            d = ae(),
            b = ae(),
            T = ae(),
            A = function(e, t) {
                if (e === t) {
                    l = true
                }
                return 0
            },
            D = {}.hasOwnProperty,
            t = [],
            _ = t.pop,
            R = t.push,
            O = t.push,
            F = t.slice,
            B = function(e, t) {
                var n = 0,
                    r = e.length;
                for (; n < r; n++) {
                    if (e[n] === t) {
                        return n
                    }
                }
                return -1
            },
            P = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            L = "[\\x20\\t\\r\\n\\f]",
            I = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",
            j = "\\[" + L + "*(" + I + ")(?:" + L + "*([*^$|!~]?=)" + L + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + I + "))|)" + L + "*\\]",
            M = ":(" + I + ")(?:\\((" + "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" + "((?:\\\\.|[^\\\\()[\\]]|" + j + ")*)|" + ".*" + ")\\)|)",
            q = new RegExp(L + "+", "g"),
            H = new RegExp("^" + L + "+|((?:^|[^\\\\])(?:\\\\.)*)" + L + "+$", "g"),
            z = new RegExp("^" + L + "*," + L + "*"),
            U = new RegExp("^" + L + "*([>+~]|" + L + ")" + L + "*"),
            $ = new RegExp("=" + L + "*([^\\]'\"]*?)" + L + "*\\]", "g"),
            V = new RegExp(M),
            W = new RegExp("^" + I + "$"),
            X = {
                ID: new RegExp("^#(" + I + ")"),
                CLASS: new RegExp("^\\.(" + I + ")"),
                TAG: new RegExp("^(" + I + "|[*])"),
                ATTR: new RegExp("^" + j),
                PSEUDO: new RegExp("^" + M),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + L + "*(even|odd|(([+-]|)(\\d*)n|)" + L + "*(?:([+-]|)" + L + "*(\\d+)|))" + L + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + P + ")$", "i"),
                needsContext: new RegExp("^" + L + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + L + "*((?:-\\d)?\\d*)" + L + "*\\)|)(?=[^-]|$)", "i")
            },
            K = /^(?:input|select|textarea|button)$/i,
            Y = /^h\d$/i,
            G = /^[^{]+\{\s*\[native \w/,
            Q = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            J = /[+~]/,
            Z = new RegExp("\\\\([\\da-f]{1,6}" + L + "?|(" + L + ")|.)", "ig"),
            ee = function(e, t, n) {
                var r = "0x" + t - 65536;
                return r !== r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, r & 1023 | 56320)
            },
            te = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
            ne = function(e, t) {
                if (t) {
                    if (e === "\0") {
                        return "ï¿½"
                    }
                    return e.slice(0, -1) + "\\" + e.charCodeAt(e.length - 1).toString(16) + " "
                }
                return "\\" + e
            },
            re = function() {
                C()
            },
            ie = ye(function(e) {
                return e.disabled === true && ("form" in e || "label" in e)
            }, {
                dir: "parentNode",
                next: "legend"
            });
        try {
            O.apply(t = F.call(y.childNodes), y.childNodes);
            t[y.childNodes.length].nodeType
        } catch (e) {
            O = {
                apply: t.length ? function(e, t) {
                    R.apply(e, F.call(t))
                } : function(e, t) {
                    var n = e.length,
                        r = 0;
                    while (e[n++] = t[r++]) {}
                    e.length = n - 1
                }
            }
        }

        function oe(e, t, n, r) {
            var i, o, a, u, s, l, f, c = t && t.ownerDocument,
                d = t ? t.nodeType : 9;
            n = n || [];
            if (typeof e !== "string" || !e || d !== 1 && d !== 9 && d !== 11) {
                return n
            }
            if (!r) {
                if ((t ? t.ownerDocument || t : y) !== E) {
                    C(t)
                }
                t = t || E;
                if (k) {
                    if (d !== 11 && (s = Q.exec(e))) {
                        if (i = s[1]) {
                            if (d === 9) {
                                if (a = t.getElementById(i)) {
                                    if (a.id === i) {
                                        n.push(a);
                                        return n
                                    }
                                } else {
                                    return n
                                }
                            } else {
                                if (c && (a = c.getElementById(i)) && v(t, a) && a.id === i) {
                                    n.push(a);
                                    return n
                                }
                            }
                        } else if (s[2]) {
                            O.apply(n, t.getElementsByTagName(e));
                            return n
                        } else if ((i = s[3]) && p.getElementsByClassName && t.getElementsByClassName) {
                            O.apply(n, t.getElementsByClassName(i));
                            return n
                        }
                    }
                    if (p.qsa && !T[e + " "] && (!g || !g.test(e))) {
                        if (d !== 1) {
                            c = t;
                            f = e
                        } else if (t.nodeName.toLowerCase() !== "object") {
                            if (u = t.getAttribute("id")) {
                                u = u.replace(te, ne)
                            } else {
                                t.setAttribute("id", u = S)
                            }
                            l = h(e);
                            o = l.length;
                            while (o--) {
                                l[o] = "#" + u + " " + ve(l[o])
                            }
                            f = l.join(",");
                            c = J.test(e) && me(t.parentNode) || t
                        }
                        if (f) {
                            try {
                                O.apply(n, c.querySelectorAll(f));
                                return n
                            } catch (e) {} finally {
                                if (u === S) {
                                    t.removeAttribute("id")
                                }
                            }
                        }
                    }
                }
            }
            return m(e.replace(H, "$1"), t, n, r)
        }

        function ae() {
            var n = [];

            function r(e, t) {
                if (n.push(e + " ") > x.cacheLength) {
                    delete r[n.shift()]
                }
                return r[e + " "] = t
            }
            return r
        }

        function ue(e) {
            e[S] = true;
            return e
        }

        function se(e) {
            var t = E.createElement("fieldset");
            try {
                return !!e(t)
            } catch (e) {
                return false
            } finally {
                if (t.parentNode) {
                    t.parentNode.removeChild(t)
                }
                t = null
            }
        }

        function le(e, t) {
            var n = e.split("|"),
                r = n.length;
            while (r--) {
                x.attrHandle[n[r]] = t
            }
        }

        function fe(e, t) {
            var n = t && e,
                r = n && e.nodeType === 1 && t.nodeType === 1 && e.sourceIndex - t.sourceIndex;
            if (r) {
                return r
            }
            if (n) {
                while (n = n.nextSibling) {
                    if (n === t) {
                        return -1
                    }
                }
            }
            return e ? 1 : -1
        }

        function ce(n) {
            return function(e) {
                var t = e.nodeName.toLowerCase();
                return t === "input" && e.type === n
            }
        }

        function de(n) {
            return function(e) {
                var t = e.nodeName.toLowerCase();
                return (t === "input" || t === "button") && e.type === n
            }
        }

        function pe(t) {
            return function(e) {
                if ("form" in e) {
                    if (e.parentNode && e.disabled === false) {
                        if ("label" in e) {
                            if ("label" in e.parentNode) {
                                return e.parentNode.disabled === t
                            } else {
                                return e.disabled === t
                            }
                        }
                        return e.isDisabled === t || e.isDisabled !== !t && ie(e) === t
                    }
                    return e.disabled === t
                } else if ("label" in e) {
                    return e.disabled === t
                }
                return false
            }
        }

        function he(a) {
            return ue(function(o) {
                o = +o;
                return ue(function(e, t) {
                    var n, r = a([], e.length, o),
                        i = r.length;
                    while (i--) {
                        if (e[n = r[i]]) {
                            e[n] = !(t[n] = e[n])
                        }
                    }
                })
            })
        }

        function me(e) {
            return e && typeof e.getElementsByTagName !== "undefined" && e
        }
        p = oe.support = {};
        i = oe.isXML = function(e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return t ? t.nodeName !== "HTML" : false
        };
        C = oe.setDocument = function(e) {
            var t, n, r = e ? e.ownerDocument || e : y;
            if (r === E || r.nodeType !== 9 || !r.documentElement) {
                return E
            }
            E = r;
            a = E.documentElement;
            k = !i(E);
            if (y !== E && (n = E.defaultView) && n.top !== n) {
                if (n.addEventListener) {
                    n.addEventListener("unload", re, false)
                } else if (n.attachEvent) {
                    n.attachEvent("onunload", re)
                }
            }
            p.attributes = se(function(e) {
                e.className = "i";
                return !e.getAttribute("className")
            });
            p.getElementsByTagName = se(function(e) {
                e.appendChild(E.createComment(""));
                return !e.getElementsByTagName("*").length
            });
            p.getElementsByClassName = G.test(E.getElementsByClassName);
            p.getById = se(function(e) {
                a.appendChild(e).id = S;
                return !E.getElementsByName || !E.getElementsByName(S).length
            });
            if (p.getById) {
                x.filter["ID"] = function(e) {
                    var t = e.replace(Z, ee);
                    return function(e) {
                        return e.getAttribute("id") === t
                    }
                };
                x.find["ID"] = function(e, t) {
                    if (typeof t.getElementById !== "undefined" && k) {
                        var n = t.getElementById(e);
                        return n ? [n] : []
                    }
                }
            } else {
                x.filter["ID"] = function(e) {
                    var n = e.replace(Z, ee);
                    return function(e) {
                        var t = typeof e.getAttributeNode !== "undefined" && e.getAttributeNode("id");
                        return t && t.value === n
                    }
                };
                x.find["ID"] = function(e, t) {
                    if (typeof t.getElementById !== "undefined" && k) {
                        var n, r, i, o = t.getElementById(e);
                        if (o) {
                            n = o.getAttributeNode("id");
                            if (n && n.value === e) {
                                return [o]
                            }
                            i = t.getElementsByName(e);
                            r = 0;
                            while (o = i[r++]) {
                                n = o.getAttributeNode("id");
                                if (n && n.value === e) {
                                    return [o]
                                }
                            }
                        }
                        return []
                    }
                }
            }
            x.find["TAG"] = p.getElementsByTagName ? function(e, t) {
                if (typeof t.getElementsByTagName !== "undefined") {
                    return t.getElementsByTagName(e)
                } else if (p.qsa) {
                    return t.querySelectorAll(e)
                }
            } : function(e, t) {
                var n, r = [],
                    i = 0,
                    o = t.getElementsByTagName(e);
                if (e === "*") {
                    while (n = o[i++]) {
                        if (n.nodeType === 1) {
                            r.push(n)
                        }
                    }
                    return r
                }
                return o
            };
            x.find["CLASS"] = p.getElementsByClassName && function(e, t) {
                if (typeof t.getElementsByClassName !== "undefined" && k) {
                    return t.getElementsByClassName(e)
                }
            };
            u = [];
            g = [];
            if (p.qsa = G.test(E.querySelectorAll)) {
                se(function(e) {
                    a.appendChild(e).innerHTML = "<a id='" + S + "'></a>" + "<select id='" + S + "-\r\\' msallowcapture=''>" + "<option selected=''></option></select>";
                    if (e.querySelectorAll("[msallowcapture^='']").length) {
                        g.push("[*^$]=" + L + "*(?:''|\"\")")
                    }
                    if (!e.querySelectorAll("[selected]").length) {
                        g.push("\\[" + L + "*(?:value|" + P + ")")
                    }
                    if (!e.querySelectorAll("[id~=" + S + "-]").length) {
                        g.push("~=")
                    }
                    if (!e.querySelectorAll(":checked").length) {
                        g.push(":checked")
                    }
                    if (!e.querySelectorAll("a#" + S + "+*").length) {
                        g.push(".#.+[+~]")
                    }
                });
                se(function(e) {
                    e.innerHTML = "<a href='' disabled='disabled'></a>" + "<select disabled='disabled'><option/></select>";
                    var t = E.createElement("input");
                    t.setAttribute("type", "hidden");
                    e.appendChild(t).setAttribute("name", "D");
                    if (e.querySelectorAll("[name=d]").length) {
                        g.push("name" + L + "*[*^$|!~]?=")
                    }
                    if (e.querySelectorAll(":enabled").length !== 2) {
                        g.push(":enabled", ":disabled")
                    }
                    a.appendChild(e).disabled = true;
                    if (e.querySelectorAll(":disabled").length !== 2) {
                        g.push(":enabled", ":disabled")
                    }
                    e.querySelectorAll("*,:x");
                    g.push(",.*:")
                })
            }
            if (p.matchesSelector = G.test(f = a.matches || a.webkitMatchesSelector || a.mozMatchesSelector || a.oMatchesSelector || a.msMatchesSelector)) {
                se(function(e) {
                    p.disconnectedMatch = f.call(e, "*");
                    f.call(e, "[s!='']:x");
                    u.push("!=", M)
                })
            }
            g = g.length && new RegExp(g.join("|"));
            u = u.length && new RegExp(u.join("|"));
            t = G.test(a.compareDocumentPosition);
            v = t || G.test(a.contains) ? function(e, t) {
                var n = e.nodeType === 9 ? e.documentElement : e,
                    r = t && t.parentNode;
                return e === r || !!(r && r.nodeType === 1 && (n.contains ? n.contains(r) : e.compareDocumentPosition && e.compareDocumentPosition(r) & 16))
            } : function(e, t) {
                if (t) {
                    while (t = t.parentNode) {
                        if (t === e) {
                            return true
                        }
                    }
                }
                return false
            };
            A = t ? function(e, t) {
                if (e === t) {
                    l = true;
                    return 0
                }
                var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
                if (n) {
                    return n
                }
                n = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1;
                if (n & 1 || !p.sortDetached && t.compareDocumentPosition(e) === n) {
                    if (e === E || e.ownerDocument === y && v(y, e)) {
                        return -1
                    }
                    if (t === E || t.ownerDocument === y && v(y, t)) {
                        return 1
                    }
                    return s ? B(s, e) - B(s, t) : 0
                }
                return n & 4 ? -1 : 1
            } : function(e, t) {
                if (e === t) {
                    l = true;
                    return 0
                }
                var n, r = 0,
                    i = e.parentNode,
                    o = t.parentNode,
                    a = [e],
                    u = [t];
                if (!i || !o) {
                    return e === E ? -1 : t === E ? 1 : i ? -1 : o ? 1 : s ? B(s, e) - B(s, t) : 0
                } else if (i === o) {
                    return fe(e, t)
                }
                n = e;
                while (n = n.parentNode) {
                    a.unshift(n)
                }
                n = t;
                while (n = n.parentNode) {
                    u.unshift(n)
                }
                while (a[r] === u[r]) {
                    r++
                }
                return r ? fe(a[r], u[r]) : a[r] === y ? -1 : u[r] === y ? 1 : 0
            };
            return E
        };
        oe.matches = function(e, t) {
            return oe(e, null, null, t)
        };
        oe.matchesSelector = function(e, t) {
            if ((e.ownerDocument || e) !== E) {
                C(e)
            }
            t = t.replace($, "='$1']");
            if (p.matchesSelector && k && !T[t + " "] && (!u || !u.test(t)) && (!g || !g.test(t))) {
                try {
                    var n = f.call(e, t);
                    if (n || p.disconnectedMatch || e.document && e.document.nodeType !== 11) {
                        return n
                    }
                } catch (e) {}
            }
            return oe(t, E, null, [e]).length > 0
        };
        oe.contains = function(e, t) {
            if ((e.ownerDocument || e) !== E) {
                C(e)
            }
            return v(e, t)
        };
        oe.attr = function(e, t) {
            if ((e.ownerDocument || e) !== E) {
                C(e)
            }
            var n = x.attrHandle[t.toLowerCase()],
                r = n && D.call(x.attrHandle, t.toLowerCase()) ? n(e, t, !k) : undefined;
            return r !== undefined ? r : p.attributes || !k ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
        };
        oe.escape = function(e) {
            return (e + "").replace(te, ne)
        };
        oe.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        };
        oe.uniqueSort = function(e) {
            var t, n = [],
                r = 0,
                i = 0;
            l = !p.detectDuplicates;
            s = !p.sortStable && e.slice(0);
            e.sort(A);
            if (l) {
                while (t = e[i++]) {
                    if (t === e[i]) {
                        r = n.push(i)
                    }
                }
                while (r--) {
                    e.splice(n[r], 1)
                }
            }
            s = null;
            return e
        };
        o = oe.getText = function(e) {
            var t, n = "",
                r = 0,
                i = e.nodeType;
            if (!i) {
                while (t = e[r++]) {
                    n += o(t)
                }
            } else if (i === 1 || i === 9 || i === 11) {
                if (typeof e.textContent === "string") {
                    return e.textContent
                } else {
                    for (e = e.firstChild; e; e = e.nextSibling) {
                        n += o(e)
                    }
                }
            } else if (i === 3 || i === 4) {
                return e.nodeValue
            }
            return n
        };
        x = oe.selectors = {
            cacheLength: 50,
            createPseudo: ue,
            match: X,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: true
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: true
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    e[1] = e[1].replace(Z, ee);
                    e[3] = (e[3] || e[4] || e[5] || "").replace(Z, ee);
                    if (e[2] === "~=") {
                        e[3] = " " + e[3] + " "
                    }
                    return e.slice(0, 4)
                },
                CHILD: function(e) {
                    e[1] = e[1].toLowerCase();
                    if (e[1].slice(0, 3) === "nth") {
                        if (!e[3]) {
                            oe.error(e[0])
                        }
                        e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * (e[3] === "even" || e[3] === "odd"));
                        e[5] = +(e[7] + e[8] || e[3] === "odd")
                    } else if (e[3]) {
                        oe.error(e[0])
                    }
                    return e
                },
                PSEUDO: function(e) {
                    var t, n = !e[6] && e[2];
                    if (X["CHILD"].test(e[0])) {
                        return null
                    }
                    if (e[3]) {
                        e[2] = e[4] || e[5] || ""
                    } else if (n && V.test(n) && (t = h(n, true)) && (t = n.indexOf(")", n.length - t) - n.length)) {
                        e[0] = e[0].slice(0, t);
                        e[2] = n.slice(0, t)
                    }
                    return e.slice(0, 3)
                }
            },
            filter: {
                TAG: function(e) {
                    var t = e.replace(Z, ee).toLowerCase();
                    return e === "*" ? function() {
                        return true
                    } : function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                },
                CLASS: function(e) {
                    var t = d[e + " "];
                    return t || (t = new RegExp("(^|" + L + ")" + e + "(" + L + "|$)")) && d(e, function(e) {
                        return t.test(typeof e.className === "string" && e.className || typeof e.getAttribute !== "undefined" && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(n, r, i) {
                    return function(e) {
                        var t = oe.attr(e, n);
                        if (t == null) {
                            return r === "!="
                        }
                        if (!r) {
                            return true
                        }
                        t += "";
                        return r === "=" ? t === i : r === "!=" ? t !== i : r === "^=" ? i && t.indexOf(i) === 0 : r === "*=" ? i && t.indexOf(i) > -1 : r === "$=" ? i && t.slice(-i.length) === i : r === "~=" ? (" " + t.replace(q, " ") + " ").indexOf(i) > -1 : r === "|=" ? t === i || t.slice(0, i.length + 1) === i + "-" : false
                    }
                },
                CHILD: function(h, e, t, m, g) {
                    var v = h.slice(0, 3) !== "nth",
                        y = h.slice(-4) !== "last",
                        b = e === "of-type";
                    return m === 1 && g === 0 ? function(e) {
                        return !!e.parentNode
                    } : function(e, t, n) {
                        var r, i, o, a, u, s, l = v !== y ? "nextSibling" : "previousSibling",
                            f = e.parentNode,
                            c = b && e.nodeName.toLowerCase(),
                            d = !n && !b,
                            p = false;
                        if (f) {
                            if (v) {
                                while (l) {
                                    a = e;
                                    while (a = a[l]) {
                                        if (b ? a.nodeName.toLowerCase() === c : a.nodeType === 1) {
                                            return false
                                        }
                                    }
                                    s = l = h === "only" && !s && "nextSibling"
                                }
                                return true
                            }
                            s = [y ? f.firstChild : f.lastChild];
                            if (y && d) {
                                a = f;
                                o = a[S] || (a[S] = {});
                                i = o[a.uniqueID] || (o[a.uniqueID] = {});
                                r = i[h] || [];
                                u = r[0] === N && r[1];
                                p = u && r[2];
                                a = u && f.childNodes[u];
                                while (a = ++u && a && a[l] || (p = u = 0) || s.pop()) {
                                    if (a.nodeType === 1 && ++p && a === e) {
                                        i[h] = [N, u, p];
                                        break
                                    }
                                }
                            } else {
                                if (d) {
                                    a = e;
                                    o = a[S] || (a[S] = {});
                                    i = o[a.uniqueID] || (o[a.uniqueID] = {});
                                    r = i[h] || [];
                                    u = r[0] === N && r[1];
                                    p = u
                                }
                                if (p === false) {
                                    while (a = ++u && a && a[l] || (p = u = 0) || s.pop()) {
                                        if ((b ? a.nodeName.toLowerCase() === c : a.nodeType === 1) && ++p) {
                                            if (d) {
                                                o = a[S] || (a[S] = {});
                                                i = o[a.uniqueID] || (o[a.uniqueID] = {});
                                                i[h] = [N, p]
                                            }
                                            if (a === e) {
                                                break
                                            }
                                        }
                                    }
                                }
                            }
                            p -= g;
                            return p === m || p % m === 0 && p / m >= 0
                        }
                    }
                },
                PSEUDO: function(e, o) {
                    var t, a = x.pseudos[e] || x.setFilters[e.toLowerCase()] || oe.error("unsupported pseudo: " + e);
                    if (a[S]) {
                        return a(o)
                    }
                    if (a.length > 1) {
                        t = [e, e, "", o];
                        return x.setFilters.hasOwnProperty(e.toLowerCase()) ? ue(function(e, t) {
                            var n, r = a(e, o),
                                i = r.length;
                            while (i--) {
                                n = B(e, r[i]);
                                e[n] = !(t[n] = r[i])
                            }
                        }) : function(e) {
                            return a(e, 0, t)
                        }
                    }
                    return a
                }
            },
            pseudos: {
                not: ue(function(e) {
                    var r = [],
                        i = [],
                        u = c(e.replace(H, "$1"));
                    return u[S] ? ue(function(e, t, n, r) {
                        var i, o = u(e, null, r, []),
                            a = e.length;
                        while (a--) {
                            if (i = o[a]) {
                                e[a] = !(t[a] = i)
                            }
                        }
                    }) : function(e, t, n) {
                        r[0] = e;
                        u(r, null, n, i);
                        r[0] = null;
                        return !i.pop()
                    }
                }),
                has: ue(function(t) {
                    return function(e) {
                        return oe(t, e).length > 0
                    }
                }),
                contains: ue(function(t) {
                    t = t.replace(Z, ee);
                    return function(e) {
                        return (e.textContent || e.innerText || o(e)).indexOf(t) > -1
                    }
                }),
                lang: ue(function(n) {
                    if (!W.test(n || "")) {
                        oe.error("unsupported lang: " + n)
                    }
                    n = n.replace(Z, ee).toLowerCase();
                    return function(e) {
                        var t;
                        do {
                            if (t = k ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) {
                                t = t.toLowerCase();
                                return t === n || t.indexOf(n + "-") === 0
                            }
                        } while ((e = e.parentNode) && e.nodeType === 1);
                        return false
                    }
                }),
                target: function(e) {
                    var t = n.location && n.location.hash;
                    return t && t.slice(1) === e.id
                },
                root: function(e) {
                    return e === a
                },
                focus: function(e) {
                    return e === E.activeElement && (!E.hasFocus || E.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: pe(false),
                disabled: pe(true),
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return t === "input" && !!e.checked || t === "option" && !!e.selected
                },
                selected: function(e) {
                    if (e.parentNode) {
                        e.parentNode.selectedIndex
                    }
                    return e.selected === true
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling) {
                        if (e.nodeType < 6) {
                            return false
                        }
                    }
                    return true
                },
                parent: function(e) {
                    return !x.pseudos["empty"](e)
                },
                header: function(e) {
                    return Y.test(e.nodeName)
                },
                input: function(e) {
                    return K.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return t === "input" && e.type === "button" || t === "button"
                },
                text: function(e) {
                    var t;
                    return e.nodeName.toLowerCase() === "input" && e.type === "text" && ((t = e.getAttribute("type")) == null || t.toLowerCase() === "text")
                },
                first: he(function() {
                    return [0]
                }),
                last: he(function(e, t) {
                    return [t - 1]
                }),
                eq: he(function(e, t, n) {
                    return [n < 0 ? n + t : n]
                }),
                even: he(function(e, t) {
                    var n = 0;
                    for (; n < t; n += 2) {
                        e.push(n)
                    }
                    return e
                }),
                odd: he(function(e, t) {
                    var n = 1;
                    for (; n < t; n += 2) {
                        e.push(n)
                    }
                    return e
                }),
                lt: he(function(e, t, n) {
                    var r = n < 0 ? n + t : n;
                    for (; --r >= 0;) {
                        e.push(r)
                    }
                    return e
                }),
                gt: he(function(e, t, n) {
                    var r = n < 0 ? n + t : n;
                    for (; ++r < t;) {
                        e.push(r)
                    }
                    return e
                })
            }
        };
        x.pseudos["nth"] = x.pseudos["eq"];
        for (e in {
                radio: true,
                checkbox: true,
                file: true,
                password: true,
                image: true
            }) {
            x.pseudos[e] = ce(e)
        }
        for (e in {
                submit: true,
                reset: true
            }) {
            x.pseudos[e] = de(e)
        }

        function ge() {}
        ge.prototype = x.filters = x.pseudos;
        x.setFilters = new ge;
        h = oe.tokenize = function(e, t) {
            var n, r, i, o, a, u, s, l = b[e + " "];
            if (l) {
                return t ? 0 : l.slice(0)
            }
            a = e;
            u = [];
            s = x.preFilter;
            while (a) {
                if (!n || (r = z.exec(a))) {
                    if (r) {
                        a = a.slice(r[0].length) || a
                    }
                    u.push(i = [])
                }
                n = false;
                if (r = U.exec(a)) {
                    n = r.shift();
                    i.push({
                        value: n,
                        type: r[0].replace(H, " ")
                    });
                    a = a.slice(n.length)
                }
                for (o in x.filter) {
                    if ((r = X[o].exec(a)) && (!s[o] || (r = s[o](r)))) {
                        n = r.shift();
                        i.push({
                            value: n,
                            type: o,
                            matches: r
                        });
                        a = a.slice(n.length)
                    }
                }
                if (!n) {
                    break
                }
            }
            return t ? a.length : a ? oe.error(e) : b(e, u).slice(0)
        };

        function ve(e) {
            var t = 0,
                n = e.length,
                r = "";
            for (; t < n; t++) {
                r += e[t].value
            }
            return r
        }

        function ye(u, e, t) {
            var s = e.dir,
                l = e.next,
                f = l || s,
                c = t && f === "parentNode",
                d = r++;
            return e.first ? function(e, t, n) {
                while (e = e[s]) {
                    if (e.nodeType === 1 || c) {
                        return u(e, t, n)
                    }
                }
                return false
            } : function(e, t, n) {
                var r, i, o, a = [N, d];
                if (n) {
                    while (e = e[s]) {
                        if (e.nodeType === 1 || c) {
                            if (u(e, t, n)) {
                                return true
                            }
                        }
                    }
                } else {
                    while (e = e[s]) {
                        if (e.nodeType === 1 || c) {
                            o = e[S] || (e[S] = {});
                            i = o[e.uniqueID] || (o[e.uniqueID] = {});
                            if (l && l === e.nodeName.toLowerCase()) {
                                e = e[s] || e
                            } else if ((r = i[f]) && r[0] === N && r[1] === d) {
                                return a[2] = r[2]
                            } else {
                                i[f] = a;
                                if (a[2] = u(e, t, n)) {
                                    return true
                                }
                            }
                        }
                    }
                }
                return false
            }
        }

        function be(i) {
            return i.length > 1 ? function(e, t, n) {
                var r = i.length;
                while (r--) {
                    if (!i[r](e, t, n)) {
                        return false
                    }
                }
                return true
            } : i[0]
        }

        function xe(e, t, n) {
            var r = 0,
                i = t.length;
            for (; r < i; r++) {
                oe(e, t[r], n)
            }
            return n
        }

        function we(e, t, n, r, i) {
            var o, a = [],
                u = 0,
                s = e.length,
                l = t != null;
            for (; u < s; u++) {
                if (o = e[u]) {
                    if (!n || n(o, r, i)) {
                        a.push(o);
                        if (l) {
                            t.push(u)
                        }
                    }
                }
            }
            return a
        }

        function Ce(p, h, m, g, v, e) {
            if (g && !g[S]) {
                g = Ce(g)
            }
            if (v && !v[S]) {
                v = Ce(v, e)
            }
            return ue(function(e, t, n, r) {
                var i, o, a, u = [],
                    s = [],
                    l = t.length,
                    f = e || xe(h || "*", n.nodeType ? [n] : n, []),
                    c = p && (e || !h) ? we(f, u, p, n, r) : f,
                    d = m ? v || (e ? p : l || g) ? [] : t : c;
                if (m) {
                    m(c, d, n, r)
                }
                if (g) {
                    i = we(d, s);
                    g(i, [], n, r);
                    o = i.length;
                    while (o--) {
                        if (a = i[o]) {
                            d[s[o]] = !(c[s[o]] = a)
                        }
                    }
                }
                if (e) {
                    if (v || p) {
                        if (v) {
                            i = [];
                            o = d.length;
                            while (o--) {
                                if (a = d[o]) {
                                    i.push(c[o] = a)
                                }
                            }
                            v(null, d = [], i, r)
                        }
                        o = d.length;
                        while (o--) {
                            if ((a = d[o]) && (i = v ? B(e, a) : u[o]) > -1) {
                                e[i] = !(t[i] = a)
                            }
                        }
                    }
                } else {
                    d = we(d === t ? d.splice(l, d.length) : d);
                    if (v) {
                        v(null, t, d, r)
                    } else {
                        O.apply(t, d)
                    }
                }
            })
        }

        function Ee(e) {
            var i, t, n, r = e.length,
                o = x.relative[e[0].type],
                a = o || x.relative[" "],
                u = o ? 1 : 0,
                s = ye(function(e) {
                    return e === i
                }, a, true),
                l = ye(function(e) {
                    return B(i, e) > -1
                }, a, true),
                f = [function(e, t, n) {
                    var r = !o && (n || t !== w) || ((i = t).nodeType ? s(e, t, n) : l(e, t, n));
                    i = null;
                    return r
                }];
            for (; u < r; u++) {
                if (t = x.relative[e[u].type]) {
                    f = [ye(be(f), t)]
                } else {
                    t = x.filter[e[u].type].apply(null, e[u].matches);
                    if (t[S]) {
                        n = ++u;
                        for (; n < r; n++) {
                            if (x.relative[e[n].type]) {
                                break
                            }
                        }
                        return Ce(u > 1 && be(f), u > 1 && ve(e.slice(0, u - 1).concat({
                            value: e[u - 2].type === " " ? "*" : ""
                        })).replace(H, "$1"), t, u < n && Ee(e.slice(u, n)), n < r && Ee(e = e.slice(n)), n < r && ve(e))
                    }
                    f.push(t)
                }
            }
            return be(f)
        }

        function ke(g, v) {
            var y = v.length > 0,
                b = g.length > 0,
                e = function(e, t, n, r, i) {
                    var o, a, u, s = 0,
                        l = "0",
                        f = e && [],
                        c = [],
                        d = w,
                        p = e || b && x.find["TAG"]("*", i),
                        h = N += d == null ? 1 : Math.random() || .1,
                        m = p.length;
                    if (i) {
                        w = t === E || t || i
                    }
                    for (; l !== m && (o = p[l]) != null; l++) {
                        if (b && o) {
                            a = 0;
                            if (!t && o.ownerDocument !== E) {
                                C(o);
                                n = !k
                            }
                            while (u = g[a++]) {
                                if (u(o, t || E, n)) {
                                    r.push(o);
                                    break
                                }
                            }
                            if (i) {
                                N = h
                            }
                        }
                        if (y) {
                            if (o = !u && o) {
                                s--
                            }
                            if (e) {
                                f.push(o)
                            }
                        }
                    }
                    s += l;
                    if (y && l !== s) {
                        a = 0;
                        while (u = v[a++]) {
                            u(f, c, t, n)
                        }
                        if (e) {
                            if (s > 0) {
                                while (l--) {
                                    if (!(f[l] || c[l])) {
                                        c[l] = _.call(r)
                                    }
                                }
                            }
                            c = we(c)
                        }
                        O.apply(r, c);
                        if (i && !e && c.length > 0 && s + v.length > 1) {
                            oe.uniqueSort(r)
                        }
                    }
                    if (i) {
                        N = h;
                        w = d
                    }
                    return f
                };
            return y ? ue(e) : e
        }
        c = oe.compile = function(e, t) {
            var n, r = [],
                i = [],
                o = T[e + " "];
            if (!o) {
                if (!t) {
                    t = h(e)
                }
                n = t.length;
                while (n--) {
                    o = Ee(t[n]);
                    if (o[S]) {
                        r.push(o)
                    } else {
                        i.push(o)
                    }
                }
                o = T(e, ke(i, r));
                o.selector = e
            }
            return o
        };
        m = oe.select = function(e, t, n, r) {
            var i, o, a, u, s, l = typeof e === "function" && e,
                f = !r && h(e = l.selector || e);
            n = n || [];
            if (f.length === 1) {
                o = f[0] = f[0].slice(0);
                if (o.length > 2 && (a = o[0]).type === "ID" && t.nodeType === 9 && k && x.relative[o[1].type]) {
                    t = (x.find["ID"](a.matches[0].replace(Z, ee), t) || [])[0];
                    if (!t) {
                        return n
                    } else if (l) {
                        t = t.parentNode
                    }
                    e = e.slice(o.shift().value.length)
                }
                i = X["needsContext"].test(e) ? 0 : o.length;
                while (i--) {
                    a = o[i];
                    if (x.relative[u = a.type]) {
                        break
                    }
                    if (s = x.find[u]) {
                        if (r = s(a.matches[0].replace(Z, ee), J.test(o[0].type) && me(t.parentNode) || t)) {
                            o.splice(i, 1);
                            e = r.length && ve(o);
                            if (!e) {
                                O.apply(n, r);
                                return n
                            }
                            break
                        }
                    }
                }
            }(l || c(e, f))(r, t, !k, n, !t || J.test(e) && me(t.parentNode) || t);
            return n
        };
        p.sortStable = S.split("").sort(A).join("") === S;
        p.detectDuplicates = !!l;
        C();
        p.sortDetached = se(function(e) {
            return e.compareDocumentPosition(E.createElement("fieldset")) & 1
        });
        if (!se(function(e) {
                e.innerHTML = "<a href='#'></a>";
                return e.firstChild.getAttribute("href") === "#"
            })) {
            le("type|href|height|width", function(e, t, n) {
                if (!n) {
                    return e.getAttribute(t, t.toLowerCase() === "type" ? 1 : 2)
                }
            })
        }
        if (!p.attributes || !se(function(e) {
                e.innerHTML = "<input/>";
                e.firstChild.setAttribute("value", "");
                return e.firstChild.getAttribute("value") === ""
            })) {
            le("value", function(e, t, n) {
                if (!n && e.nodeName.toLowerCase() === "input") {
                    return e.defaultValue
                }
            })
        }
        if (!se(function(e) {
                return e.getAttribute("disabled") == null
            })) {
            le(P, function(e, t, n) {
                var r;
                if (!n) {
                    return e[t] === true ? t.toLowerCase() : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
                }
            })
        }
        return oe
    }(E);
    S.find = h;
    S.expr = h.selectors;
    S.expr[":"] = S.expr.pseudos;
    S.uniqueSort = S.unique = h.uniqueSort;
    S.text = h.getText;
    S.isXMLDoc = h.isXML;
    S.contains = h.contains;
    S.escapeSelector = h.escape;
    var C = function(e, t, n) {
        var r = [],
            i = n !== undefined;
        while ((e = e[t]) && e.nodeType !== 9) {
            if (e.nodeType === 1) {
                if (i && S(e).is(n)) {
                    break
                }
                r.push(e)
            }
        }
        return r
    };
    var N = function(e, t) {
        var n = [];
        for (; e; e = e.nextSibling) {
            if (e.nodeType === 1 && e !== t) {
                n.push(e)
            }
        }
        return n
    };
    var T = S.expr.match.needsContext;

    function A(e, t) {
        return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
    }
    var D = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;

    function _(e, n, r) {
        if (y(n)) {
            return S.grep(e, function(e, t) {
                return !!n.call(e, t, e) !== r
            })
        }
        if (n.nodeType) {
            return S.grep(e, function(e) {
                return e === n !== r
            })
        }
        if (typeof n !== "string") {
            return S.grep(e, function(e) {
                return i.call(n, e) > -1 !== r
            })
        }
        return S.filter(n, e, r)
    }
    S.filter = function(e, t, n) {
        var r = t[0];
        if (n) {
            e = ":not(" + e + ")"
        }
        if (t.length === 1 && r.nodeType === 1) {
            return S.find.matchesSelector(r, e) ? [r] : []
        }
        return S.find.matches(e, S.grep(t, function(e) {
            return e.nodeType === 1
        }))
    };
    S.fn.extend({
        find: function(e) {
            var t, n, r = this.length,
                i = this;
            if (typeof e !== "string") {
                return this.pushStack(S(e).filter(function() {
                    for (t = 0; t < r; t++) {
                        if (S.contains(i[t], this)) {
                            return true
                        }
                    }
                }))
            }
            n = this.pushStack([]);
            for (t = 0; t < r; t++) {
                S.find(e, i[t], n)
            }
            return r > 1 ? S.uniqueSort(n) : n
        },
        filter: function(e) {
            return this.pushStack(_(this, e || [], false))
        },
        not: function(e) {
            return this.pushStack(_(this, e || [], true))
        },
        is: function(e) {
            return !!_(this, typeof e === "string" && T.test(e) ? S(e) : e || [], false).length
        }
    });
    var R, O = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
        F = S.fn.init = function(e, t, n) {
            var r, i;
            if (!e) {
                return this
            }
            n = n || R;
            if (typeof e === "string") {
                if (e[0] === "<" && e[e.length - 1] === ">" && e.length >= 3) {
                    r = [null, e, null]
                } else {
                    r = O.exec(e)
                }
                if (r && (r[1] || !t)) {
                    if (r[1]) {
                        t = t instanceof S ? t[0] : t;
                        S.merge(this, S.parseHTML(r[1], t && t.nodeType ? t.ownerDocument || t : k, true));
                        if (D.test(r[1]) && S.isPlainObject(t)) {
                            for (r in t) {
                                if (y(this[r])) {
                                    this[r](t[r])
                                } else {
                                    this.attr(r, t[r])
                                }
                            }
                        }
                        return this
                    } else {
                        i = k.getElementById(r[2]);
                        if (i) {
                            this[0] = i;
                            this.length = 1
                        }
                        return this
                    }
                } else if (!t || t.jquery) {
                    return (t || n).find(e)
                } else {
                    return this.constructor(t).find(e)
                }
            } else if (e.nodeType) {
                this[0] = e;
                this.length = 1;
                return this
            } else if (y(e)) {
                return n.ready !== undefined ? n.ready(e) : e(S)
            }
            return S.makeArray(e, this)
        };
    F.prototype = S.fn;
    R = S(k);
    var B = /^(?:parents|prev(?:Until|All))/,
        P = {
            children: true,
            contents: true,
            next: true,
            prev: true
        };
    S.fn.extend({
        has: function(e) {
            var t = S(e, this),
                n = t.length;
            return this.filter(function() {
                var e = 0;
                for (; e < n; e++) {
                    if (S.contains(this, t[e])) {
                        return true
                    }
                }
            })
        },
        closest: function(e, t) {
            var n, r = 0,
                i = this.length,
                o = [],
                a = typeof e !== "string" && S(e);
            if (!T.test(e)) {
                for (; r < i; r++) {
                    for (n = this[r]; n && n !== t; n = n.parentNode) {
                        if (n.nodeType < 11 && (a ? a.index(n) > -1 : n.nodeType === 1 && S.find.matchesSelector(n, e))) {
                            o.push(n);
                            break
                        }
                    }
                }
            }
            return this.pushStack(o.length > 1 ? S.uniqueSort(o) : o)
        },
        index: function(e) {
            if (!e) {
                return this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            }
            if (typeof e === "string") {
                return i.call(S(e), this[0])
            }
            return i.call(this, e.jquery ? e[0] : e)
        },
        add: function(e, t) {
            return this.pushStack(S.uniqueSort(S.merge(this.get(), S(e, t))))
        },
        addBack: function(e) {
            return this.add(e == null ? this.prevObject : this.prevObject.filter(e))
        }
    });

    function L(e, t) {
        while ((e = e[t]) && e.nodeType !== 1) {}
        return e
    }
    S.each({
        parent: function(e) {
            var t = e.parentNode;
            return t && t.nodeType !== 11 ? t : null
        },
        parents: function(e) {
            return C(e, "parentNode")
        },
        parentsUntil: function(e, t, n) {
            return C(e, "parentNode", n)
        },
        next: function(e) {
            return L(e, "nextSibling")
        },
        prev: function(e) {
            return L(e, "previousSibling")
        },
        nextAll: function(e) {
            return C(e, "nextSibling")
        },
        prevAll: function(e) {
            return C(e, "previousSibling")
        },
        nextUntil: function(e, t, n) {
            return C(e, "nextSibling", n)
        },
        prevUntil: function(e, t, n) {
            return C(e, "previousSibling", n)
        },
        siblings: function(e) {
            return N((e.parentNode || {}).firstChild, e)
        },
        children: function(e) {
            return N(e.firstChild)
        },
        contents: function(e) {
            if (A(e, "iframe")) {
                return e.contentDocument
            }
            if (A(e, "template")) {
                e = e.content || e
            }
            return S.merge([], e.childNodes)
        }
    }, function(r, i) {
        S.fn[r] = function(e, t) {
            var n = S.map(this, i, e);
            if (r.slice(-5) !== "Until") {
                t = e
            }
            if (t && typeof t === "string") {
                n = S.filter(t, n)
            }
            if (this.length > 1) {
                if (!P[r]) {
                    S.uniqueSort(n)
                }
                if (B.test(r)) {
                    n.reverse()
                }
            }
            return this.pushStack(n)
        }
    });
    var I = /[^\x20\t\r\n\f]+/g;

    function j(e) {
        var n = {};
        S.each(e.match(I) || [], function(e, t) {
            n[t] = true
        });
        return n
    }
    S.Callbacks = function(r) {
        r = typeof r === "string" ? j(r) : S.extend({}, r);
        var n, e, t, i, o = [],
            a = [],
            u = -1,
            s = function() {
                i = i || r.once;
                t = n = true;
                for (; a.length; u = -1) {
                    e = a.shift();
                    while (++u < o.length) {
                        if (o[u].apply(e[0], e[1]) === false && r.stopOnFalse) {
                            u = o.length;
                            e = false
                        }
                    }
                }
                if (!r.memory) {
                    e = false
                }
                n = false;
                if (i) {
                    if (e) {
                        o = []
                    } else {
                        o = ""
                    }
                }
            },
            l = {
                add: function() {
                    if (o) {
                        if (e && !n) {
                            u = o.length - 1;
                            a.push(e)
                        }(function n(e) {
                            S.each(e, function(e, t) {
                                if (y(t)) {
                                    if (!r.unique || !l.has(t)) {
                                        o.push(t)
                                    }
                                } else if (t && t.length && w(t) !== "string") {
                                    n(t)
                                }
                            })
                        })(arguments);
                        if (e && !n) {
                            s()
                        }
                    }
                    return this
                },
                remove: function() {
                    S.each(arguments, function(e, t) {
                        var n;
                        while ((n = S.inArray(t, o, n)) > -1) {
                            o.splice(n, 1);
                            if (n <= u) {
                                u--
                            }
                        }
                    });
                    return this
                },
                has: function(e) {
                    return e ? S.inArray(e, o) > -1 : o.length > 0
                },
                empty: function() {
                    if (o) {
                        o = []
                    }
                    return this
                },
                disable: function() {
                    i = a = [];
                    o = e = "";
                    return this
                },
                disabled: function() {
                    return !o
                },
                lock: function() {
                    i = a = [];
                    if (!e && !n) {
                        o = e = ""
                    }
                    return this
                },
                locked: function() {
                    return !!i
                },
                fireWith: function(e, t) {
                    if (!i) {
                        t = t || [];
                        t = [e, t.slice ? t.slice() : t];
                        a.push(t);
                        if (!n) {
                            s()
                        }
                    }
                    return this
                },
                fire: function() {
                    l.fireWith(this, arguments);
                    return this
                },
                fired: function() {
                    return !!t
                }
            };
        return l
    };

    function M(e) {
        return e
    }

    function q(e) {
        throw e
    }

    function H(e, t, n, r) {
        var i;
        try {
            if (e && y(i = e.promise)) {
                i.call(e).done(t).fail(n)
            } else if (e && y(i = e.then)) {
                i.call(e, t, n)
            } else {
                t.apply(undefined, [e].slice(r))
            }
        } catch (e) {
            n.apply(undefined, [e])
        }
    }
    S.extend({
        Deferred: function(e) {
            var o = [
                    ["notify", "progress", S.Callbacks("memory"), S.Callbacks("memory"), 2],
                    ["resolve", "done", S.Callbacks("once memory"), S.Callbacks("once memory"), 0, "resolved"],
                    ["reject", "fail", S.Callbacks("once memory"), S.Callbacks("once memory"), 1, "rejected"]
                ],
                i = "pending",
                a = {
                    state: function() {
                        return i
                    },
                    always: function() {
                        u.done(arguments).fail(arguments);
                        return this
                    },
                    catch: function(e) {
                        return a.then(null, e)
                    },
                    pipe: function() {
                        var i = arguments;
                        return S.Deferred(function(r) {
                            S.each(o, function(e, t) {
                                var n = y(i[t[4]]) && i[t[4]];
                                u[t[1]](function() {
                                    var e = n && n.apply(this, arguments);
                                    if (e && y(e.promise)) {
                                        e.promise().progress(r.notify).done(r.resolve).fail(r.reject)
                                    } else {
                                        r[t[0] + "With"](this, n ? [e] : arguments)
                                    }
                                })
                            });
                            i = null
                        }).promise()
                    },
                    then: function(t, n, r) {
                        var s = 0;

                        function l(i, o, a, u) {
                            return function() {
                                var n = this,
                                    r = arguments,
                                    e = function() {
                                        var e, t;
                                        if (i < s) {
                                            return
                                        }
                                        e = a.apply(n, r);
                                        if (e === o.promise()) {
                                            throw new TypeError("Thenable self-resolution")
                                        }
                                        t = e && (typeof e === "object" || typeof e === "function") && e.then;
                                        if (y(t)) {
                                            if (u) {
                                                t.call(e, l(s, o, M, u), l(s, o, q, u))
                                            } else {
                                                s++;
                                                t.call(e, l(s, o, M, u), l(s, o, q, u), l(s, o, M, o.notifyWith))
                                            }
                                        } else {
                                            if (a !== M) {
                                                n = undefined;
                                                r = [e]
                                            }(u || o.resolveWith)(n, r)
                                        }
                                    },
                                    t = u ? e : function() {
                                        try {
                                            e()
                                        } catch (e) {
                                            if (S.Deferred.exceptionHook) {
                                                S.Deferred.exceptionHook(e, t.stackTrace)
                                            }
                                            if (i + 1 >= s) {
                                                if (a !== q) {
                                                    n = undefined;
                                                    r = [e]
                                                }
                                                o.rejectWith(n, r)
                                            }
                                        }
                                    };
                                if (i) {
                                    t()
                                } else {
                                    if (S.Deferred.getStackHook) {
                                        t.stackTrace = S.Deferred.getStackHook()
                                    }
                                    E.setTimeout(t)
                                }
                            }
                        }
                        return S.Deferred(function(e) {
                            o[0][3].add(l(0, e, y(r) ? r : M, e.notifyWith));
                            o[1][3].add(l(0, e, y(t) ? t : M));
                            o[2][3].add(l(0, e, y(n) ? n : q))
                        }).promise()
                    },
                    promise: function(e) {
                        return e != null ? S.extend(e, a) : a
                    }
                },
                u = {};
            S.each(o, function(e, t) {
                var n = t[2],
                    r = t[5];
                a[t[1]] = n.add;
                if (r) {
                    n.add(function() {
                        i = r
                    }, o[3 - e][2].disable, o[3 - e][3].disable, o[0][2].lock, o[0][3].lock)
                }
                n.add(t[3].fire);
                u[t[0]] = function() {
                    u[t[0] + "With"](this === u ? undefined : this, arguments);
                    return this
                };
                u[t[0] + "With"] = n.fireWith
            });
            a.promise(u);
            if (e) {
                e.call(u, u)
            }
            return u
        },
        when: function(e) {
            var n = arguments.length,
                t = n,
                r = Array(t),
                i = u.call(arguments),
                o = S.Deferred(),
                a = function(t) {
                    return function(e) {
                        r[t] = this;
                        i[t] = arguments.length > 1 ? u.call(arguments) : e;
                        if (!--n) {
                            o.resolveWith(r, i)
                        }
                    }
                };
            if (n <= 1) {
                H(e, o.done(a(t)).resolve, o.reject, !n);
                if (o.state() === "pending" || y(i[t] && i[t].then)) {
                    return o.then()
                }
            }
            while (t--) {
                H(i[t], a(t), o.reject)
            }
            return o.promise()
        }
    });
    var z = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
    S.Deferred.exceptionHook = function(e, t) {
        if (E.console && E.console.warn && e && z.test(e.name)) {
            E.console.warn("jQuery.Deferred exception: " + e.message, e.stack, t)
        }
    };
    S.readyException = function(e) {
        E.setTimeout(function() {
            throw e
        })
    };
    var U = S.Deferred();
    S.fn.ready = function(e) {
        U.then(e).catch(function(e) {
            S.readyException(e)
        });
        return this
    };
    S.extend({
        isReady: false,
        readyWait: 1,
        ready: function(e) {
            if (e === true ? --S.readyWait : S.isReady) {
                return
            }
            S.isReady = true;
            if (e !== true && --S.readyWait > 0) {
                return
            }
            U.resolveWith(k, [S])
        }
    });
    S.ready.then = U.then;

    function $() {
        k.removeEventListener("DOMContentLoaded", $);
        E.removeEventListener("load", $);
        S.ready()
    }
    if (k.readyState === "complete" || k.readyState !== "loading" && !k.documentElement.doScroll) {
        E.setTimeout(S.ready)
    } else {
        k.addEventListener("DOMContentLoaded", $);
        E.addEventListener("load", $)
    }
    var V = function(e, t, n, r, i, o, a) {
        var u = 0,
            s = e.length,
            l = n == null;
        if (w(n) === "object") {
            i = true;
            for (u in n) {
                V(e, t, u, n[u], true, o, a)
            }
        } else if (r !== undefined) {
            i = true;
            if (!y(r)) {
                a = true
            }
            if (l) {
                if (a) {
                    t.call(e, r);
                    t = null
                } else {
                    l = t;
                    t = function(e, t, n) {
                        return l.call(S(e), n)
                    }
                }
            }
            if (t) {
                for (; u < s; u++) {
                    t(e[u], n, a ? r : r.call(e[u], u, t(e[u], n)))
                }
            }
        }
        if (i) {
            return e
        }
        if (l) {
            return t.call(e)
        }
        return s ? t(e[0], n) : o
    };
    var W = /^-ms-/,
        X = /-([a-z])/g;

    function K(e, t) {
        return t.toUpperCase()
    }

    function Y(e) {
        return e.replace(W, "ms-").replace(X, K)
    }
    var G = function(e) {
        return e.nodeType === 1 || e.nodeType === 9 || !+e.nodeType
    };

    function Q() {
        this.expando = S.expando + Q.uid++
    }
    Q.uid = 1;
    Q.prototype = {
        cache: function(e) {
            var t = e[this.expando];
            if (!t) {
                t = {};
                if (G(e)) {
                    if (e.nodeType) {
                        e[this.expando] = t
                    } else {
                        Object.defineProperty(e, this.expando, {
                            value: t,
                            configurable: true
                        })
                    }
                }
            }
            return t
        },
        set: function(e, t, n) {
            var r, i = this.cache(e);
            if (typeof t === "string") {
                i[Y(t)] = n
            } else {
                for (r in t) {
                    i[Y(r)] = t[r]
                }
            }
            return i
        },
        get: function(e, t) {
            return t === undefined ? this.cache(e) : e[this.expando] && e[this.expando][Y(t)]
        },
        access: function(e, t, n) {
            if (t === undefined || t && typeof t === "string" && n === undefined) {
                return this.get(e, t)
            }
            this.set(e, t, n);
            return n !== undefined ? n : t
        },
        remove: function(e, t) {
            var n, r = e[this.expando];
            if (r === undefined) {
                return
            }
            if (t !== undefined) {
                if (Array.isArray(t)) {
                    t = t.map(Y)
                } else {
                    t = Y(t);
                    t = t in r ? [t] : t.match(I) || []
                }
                n = t.length;
                while (n--) {
                    delete r[t[n]]
                }
            }
            if (t === undefined || S.isEmptyObject(r)) {
                if (e.nodeType) {
                    e[this.expando] = undefined
                } else {
                    delete e[this.expando]
                }
            }
        },
        hasData: function(e) {
            var t = e[this.expando];
            return t !== undefined && !S.isEmptyObject(t)
        }
    };
    var J = new Q;
    var Z = new Q;
    var ee = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        te = /[A-Z]/g;

    function ne(e) {
        if (e === "true") {
            return true
        }
        if (e === "false") {
            return false
        }
        if (e === "null") {
            return null
        }
        if (e === +e + "") {
            return +e
        }
        if (ee.test(e)) {
            return JSON.parse(e)
        }
        return e
    }

    function re(e, t, n) {
        var r;
        if (n === undefined && e.nodeType === 1) {
            r = "data-" + t.replace(te, "-$&").toLowerCase();
            n = e.getAttribute(r);
            if (typeof n === "string") {
                try {
                    n = ne(n)
                } catch (e) {}
                Z.set(e, t, n)
            } else {
                n = undefined
            }
        }
        return n
    }
    S.extend({
        hasData: function(e) {
            return Z.hasData(e) || J.hasData(e)
        },
        data: function(e, t, n) {
            return Z.access(e, t, n)
        },
        removeData: function(e, t) {
            Z.remove(e, t)
        },
        _data: function(e, t, n) {
            return J.access(e, t, n)
        },
        _removeData: function(e, t) {
            J.remove(e, t)
        }
    });
    S.fn.extend({
        data: function(n, e) {
            var t, r, i, o = this[0],
                a = o && o.attributes;
            if (n === undefined) {
                if (this.length) {
                    i = Z.get(o);
                    if (o.nodeType === 1 && !J.get(o, "hasDataAttrs")) {
                        t = a.length;
                        while (t--) {
                            if (a[t]) {
                                r = a[t].name;
                                if (r.indexOf("data-") === 0) {
                                    r = Y(r.slice(5));
                                    re(o, r, i[r])
                                }
                            }
                        }
                        J.set(o, "hasDataAttrs", true)
                    }
                }
                return i
            }
            if (typeof n === "object") {
                return this.each(function() {
                    Z.set(this, n)
                })
            }
            return V(this, function(e) {
                var t;
                if (o && e === undefined) {
                    t = Z.get(o, n);
                    if (t !== undefined) {
                        return t
                    }
                    t = re(o, n);
                    if (t !== undefined) {
                        return t
                    }
                    return
                }
                this.each(function() {
                    Z.set(this, n, e)
                })
            }, null, e, arguments.length > 1, null, true)
        },
        removeData: function(e) {
            return this.each(function() {
                Z.remove(this, e)
            })
        }
    });
    S.extend({
        queue: function(e, t, n) {
            var r;
            if (e) {
                t = (t || "fx") + "queue";
                r = J.get(e, t);
                if (n) {
                    if (!r || Array.isArray(n)) {
                        r = J.access(e, t, S.makeArray(n))
                    } else {
                        r.push(n)
                    }
                }
                return r || []
            }
        },
        dequeue: function(e, t) {
            t = t || "fx";
            var n = S.queue(e, t),
                r = n.length,
                i = n.shift(),
                o = S._queueHooks(e, t),
                a = function() {
                    S.dequeue(e, t)
                };
            if (i === "inprogress") {
                i = n.shift();
                r--
            }
            if (i) {
                if (t === "fx") {
                    n.unshift("inprogress")
                }
                delete o.stop;
                i.call(e, a, o)
            }
            if (!r && o) {
                o.empty.fire()
            }
        },
        _queueHooks: function(e, t) {
            var n = t + "queueHooks";
            return J.get(e, n) || J.access(e, n, {
                empty: S.Callbacks("once memory").add(function() {
                    J.remove(e, [t + "queue", n])
                })
            })
        }
    });
    S.fn.extend({
        queue: function(t, n) {
            var e = 2;
            if (typeof t !== "string") {
                n = t;
                t = "fx";
                e--
            }
            if (arguments.length < e) {
                return S.queue(this[0], t)
            }
            return n === undefined ? this : this.each(function() {
                var e = S.queue(this, t, n);
                S._queueHooks(this, t);
                if (t === "fx" && e[0] !== "inprogress") {
                    S.dequeue(this, t)
                }
            })
        },
        dequeue: function(e) {
            return this.each(function() {
                S.dequeue(this, e)
            })
        },
        clearQueue: function(e) {
            return this.queue(e || "fx", [])
        },
        promise: function(e, t) {
            var n, r = 1,
                i = S.Deferred(),
                o = this,
                a = this.length,
                u = function() {
                    if (!--r) {
                        i.resolveWith(o, [o])
                    }
                };
            if (typeof e !== "string") {
                t = e;
                e = undefined
            }
            e = e || "fx";
            while (a--) {
                n = J.get(o[a], e + "queueHooks");
                if (n && n.empty) {
                    r++;
                    n.empty.add(u)
                }
            }
            u();
            return i.promise(t)
        }
    });
    var ie = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;
    var oe = new RegExp("^(?:([+-])=|)(" + ie + ")([a-z%]*)$", "i");
    var ae = ["Top", "Right", "Bottom", "Left"];
    var ue = function(e, t) {
        e = t || e;
        return e.style.display === "none" || e.style.display === "" && S.contains(e.ownerDocument, e) && S.css(e, "display") === "none"
    };
    var se = function(e, t, n, r) {
        var i, o, a = {};
        for (o in t) {
            a[o] = e.style[o];
            e.style[o] = t[o]
        }
        i = n.apply(e, r || []);
        for (o in t) {
            e.style[o] = a[o]
        }
        return i
    };

    function le(e, t, n, r) {
        var i, o, a = 20,
            u = r ? function() {
                return r.cur()
            } : function() {
                return S.css(e, t, "")
            },
            s = u(),
            l = n && n[3] || (S.cssNumber[t] ? "" : "px"),
            f = (S.cssNumber[t] || l !== "px" && +s) && oe.exec(S.css(e, t));
        if (f && f[3] !== l) {
            s = s / 2;
            l = l || f[3];
            f = +s || 1;
            while (a--) {
                S.style(e, t, f + l);
                if ((1 - o) * (1 - (o = u() / s || .5)) <= 0) {
                    a = 0
                }
                f = f / o
            }
            f = f * 2;
            S.style(e, t, f + l);
            n = n || []
        }
        if (n) {
            f = +f || +s || 0;
            i = n[1] ? f + (n[1] + 1) * n[2] : +n[2];
            if (r) {
                r.unit = l;
                r.start = f;
                r.end = i
            }
        }
        return i
    }
    var fe = {};

    function ce(e) {
        var t, n = e.ownerDocument,
            r = e.nodeName,
            i = fe[r];
        if (i) {
            return i
        }
        t = n.body.appendChild(n.createElement(r));
        i = S.css(t, "display");
        t.parentNode.removeChild(t);
        if (i === "none") {
            i = "block"
        }
        fe[r] = i;
        return i
    }

    function de(e, t) {
        var n, r, i = [],
            o = 0,
            a = e.length;
        for (; o < a; o++) {
            r = e[o];
            if (!r.style) {
                continue
            }
            n = r.style.display;
            if (t) {
                if (n === "none") {
                    i[o] = J.get(r, "display") || null;
                    if (!i[o]) {
                        r.style.display = ""
                    }
                }
                if (r.style.display === "" && ue(r)) {
                    i[o] = ce(r)
                }
            } else {
                if (n !== "none") {
                    i[o] = "none";
                    J.set(r, "display", n)
                }
            }
        }
        for (o = 0; o < a; o++) {
            if (i[o] != null) {
                e[o].style.display = i[o]
            }
        }
        return e
    }
    S.fn.extend({
        show: function() {
            return de(this, true)
        },
        hide: function() {
            return de(this)
        },
        toggle: function(e) {
            if (typeof e === "boolean") {
                return e ? this.show() : this.hide()
            }
            return this.each(function() {
                if (ue(this)) {
                    S(this).show()
                } else {
                    S(this).hide()
                }
            })
        }
    });
    var pe = /^(?:checkbox|radio)$/i;
    var he = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i;
    var me = /^$|^module$|\/(?:java|ecma)script/i;
    var ge = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };
    ge.optgroup = ge.option;
    ge.tbody = ge.tfoot = ge.colgroup = ge.caption = ge.thead;
    ge.th = ge.td;

    function ve(e, t) {
        var n;
        if (typeof e.getElementsByTagName !== "undefined") {
            n = e.getElementsByTagName(t || "*")
        } else if (typeof e.querySelectorAll !== "undefined") {
            n = e.querySelectorAll(t || "*")
        } else {
            n = []
        }
        if (t === undefined || t && A(e, t)) {
            return S.merge([e], n)
        }
        return n
    }

    function ye(e, t) {
        var n = 0,
            r = e.length;
        for (; n < r; n++) {
            J.set(e[n], "globalEval", !t || J.get(t[n], "globalEval"))
        }
    }
    var be = /<|&#?\w+;/;

    function xe(e, t, n, r, i) {
        var o, a, u, s, l, f, c = t.createDocumentFragment(),
            d = [],
            p = 0,
            h = e.length;
        for (; p < h; p++) {
            o = e[p];
            if (o || o === 0) {
                if (w(o) === "object") {
                    S.merge(d, o.nodeType ? [o] : o)
                } else if (!be.test(o)) {
                    d.push(t.createTextNode(o))
                } else {
                    a = a || c.appendChild(t.createElement("div"));
                    u = (he.exec(o) || ["", ""])[1].toLowerCase();
                    s = ge[u] || ge._default;
                    a.innerHTML = s[1] + S.htmlPrefilter(o) + s[2];
                    f = s[0];
                    while (f--) {
                        a = a.lastChild
                    }
                    S.merge(d, a.childNodes);
                    a = c.firstChild;
                    a.textContent = ""
                }
            }
        }
        c.textContent = "";
        p = 0;
        while (o = d[p++]) {
            if (r && S.inArray(o, r) > -1) {
                if (i) {
                    i.push(o)
                }
                continue
            }
            l = S.contains(o.ownerDocument, o);
            a = ve(c.appendChild(o), "script");
            if (l) {
                ye(a)
            }
            if (n) {
                f = 0;
                while (o = a[f++]) {
                    if (me.test(o.type || "")) {
                        n.push(o)
                    }
                }
            }
        }
        return c
    }(function() {
        var e = k.createDocumentFragment(),
            t = e.appendChild(k.createElement("div")),
            n = k.createElement("input");
        n.setAttribute("type", "radio");
        n.setAttribute("checked", "checked");
        n.setAttribute("name", "t");
        t.appendChild(n);
        v.checkClone = t.cloneNode(true).cloneNode(true).lastChild.checked;
        t.innerHTML = "<textarea>x</textarea>";
        v.noCloneChecked = !!t.cloneNode(true).lastChild.defaultValue
    })();
    var we = k.documentElement;
    var Ce = /^key/,
        Ee = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        ke = /^([^.]*)(?:\.(.+)|)/;

    function Se() {
        return true
    }

    function Ne() {
        return false
    }

    function Te() {
        try {
            return k.activeElement
        } catch (e) {}
    }

    function Ae(e, t, n, r, i, o) {
        var a, u;
        if (typeof t === "object") {
            if (typeof n !== "string") {
                r = r || n;
                n = undefined
            }
            for (u in t) {
                Ae(e, u, n, r, t[u], o)
            }
            return e
        }
        if (r == null && i == null) {
            i = n;
            r = n = undefined
        } else if (i == null) {
            if (typeof n === "string") {
                i = r;
                r = undefined
            } else {
                i = r;
                r = n;
                n = undefined
            }
        }
        if (i === false) {
            i = Ne
        } else if (!i) {
            return e
        }
        if (o === 1) {
            a = i;
            i = function(e) {
                S().off(e);
                return a.apply(this, arguments)
            };
            i.guid = a.guid || (a.guid = S.guid++)
        }
        return e.each(function() {
            S.event.add(this, t, i, r, n)
        })
    }
    S.event = {
        global: {},
        add: function(t, e, n, r, i) {
            var o, a, u, s, l, f, c, d, p, h, m, g = J.get(t);
            if (!g) {
                return
            }
            if (n.handler) {
                o = n;
                n = o.handler;
                i = o.selector
            }
            if (i) {
                S.find.matchesSelector(we, i)
            }
            if (!n.guid) {
                n.guid = S.guid++
            }
            if (!(s = g.events)) {
                s = g.events = {}
            }
            if (!(a = g.handle)) {
                a = g.handle = function(e) {
                    return typeof S !== "undefined" && S.event.triggered !== e.type ? S.event.dispatch.apply(t, arguments) : undefined
                }
            }
            e = (e || "").match(I) || [""];
            l = e.length;
            while (l--) {
                u = ke.exec(e[l]) || [];
                p = m = u[1];
                h = (u[2] || "").split(".").sort();
                if (!p) {
                    continue
                }
                c = S.event.special[p] || {};
                p = (i ? c.delegateType : c.bindType) || p;
                c = S.event.special[p] || {};
                f = S.extend({
                    type: p,
                    origType: m,
                    data: r,
                    handler: n,
                    guid: n.guid,
                    selector: i,
                    needsContext: i && S.expr.match.needsContext.test(i),
                    namespace: h.join(".")
                }, o);
                if (!(d = s[p])) {
                    d = s[p] = [];
                    d.delegateCount = 0;
                    if (!c.setup || c.setup.call(t, r, h, a) === false) {
                        if (t.addEventListener) {
                            t.addEventListener(p, a)
                        }
                    }
                }
                if (c.add) {
                    c.add.call(t, f);
                    if (!f.handler.guid) {
                        f.handler.guid = n.guid
                    }
                }
                if (i) {
                    d.splice(d.delegateCount++, 0, f)
                } else {
                    d.push(f)
                }
                S.event.global[p] = true
            }
        },
        remove: function(e, t, n, r, i) {
            var o, a, u, s, l, f, c, d, p, h, m, g = J.hasData(e) && J.get(e);
            if (!g || !(s = g.events)) {
                return
            }
            t = (t || "").match(I) || [""];
            l = t.length;
            while (l--) {
                u = ke.exec(t[l]) || [];
                p = m = u[1];
                h = (u[2] || "").split(".").sort();
                if (!p) {
                    for (p in s) {
                        S.event.remove(e, p + t[l], n, r, true)
                    }
                    continue
                }
                c = S.event.special[p] || {};
                p = (r ? c.delegateType : c.bindType) || p;
                d = s[p] || [];
                u = u[2] && new RegExp("(^|\\.)" + h.join("\\.(?:.*\\.|)") + "(\\.|$)");
                a = o = d.length;
                while (o--) {
                    f = d[o];
                    if ((i || m === f.origType) && (!n || n.guid === f.guid) && (!u || u.test(f.namespace)) && (!r || r === f.selector || r === "**" && f.selector)) {
                        d.splice(o, 1);
                        if (f.selector) {
                            d.delegateCount--
                        }
                        if (c.remove) {
                            c.remove.call(e, f)
                        }
                    }
                }
                if (a && !d.length) {
                    if (!c.teardown || c.teardown.call(e, h, g.handle) === false) {
                        S.removeEvent(e, p, g.handle)
                    }
                    delete s[p]
                }
            }
            if (S.isEmptyObject(s)) {
                J.remove(e, "handle events")
            }
        },
        dispatch: function(e) {
            var t = S.event.fix(e);
            var n, r, i, o, a, u, s = new Array(arguments.length),
                l = (J.get(this, "events") || {})[t.type] || [],
                f = S.event.special[t.type] || {};
            s[0] = t;
            for (n = 1; n < arguments.length; n++) {
                s[n] = arguments[n]
            }
            t.delegateTarget = this;
            if (f.preDispatch && f.preDispatch.call(this, t) === false) {
                return
            }
            u = S.event.handlers.call(this, t, l);
            n = 0;
            while ((o = u[n++]) && !t.isPropagationStopped()) {
                t.currentTarget = o.elem;
                r = 0;
                while ((a = o.handlers[r++]) && !t.isImmediatePropagationStopped()) {
                    if (!t.rnamespace || t.rnamespace.test(a.namespace)) {
                        t.handleObj = a;
                        t.data = a.data;
                        i = ((S.event.special[a.origType] || {}).handle || a.handler).apply(o.elem, s);
                        if (i !== undefined) {
                            if ((t.result = i) === false) {
                                t.preventDefault();
                                t.stopPropagation()
                            }
                        }
                    }
                }
            }
            if (f.postDispatch) {
                f.postDispatch.call(this, t)
            }
            return t.result
        },
        handlers: function(e, t) {
            var n, r, i, o, a, u = [],
                s = t.delegateCount,
                l = e.target;
            if (s && l.nodeType && !(e.type === "click" && e.button >= 1)) {
                for (; l !== this; l = l.parentNode || this) {
                    if (l.nodeType === 1 && !(e.type === "click" && l.disabled === true)) {
                        o = [];
                        a = {};
                        for (n = 0; n < s; n++) {
                            r = t[n];
                            i = r.selector + " ";
                            if (a[i] === undefined) {
                                a[i] = r.needsContext ? S(i, this).index(l) > -1 : S.find(i, this, null, [l]).length
                            }
                            if (a[i]) {
                                o.push(r)
                            }
                        }
                        if (o.length) {
                            u.push({
                                elem: l,
                                handlers: o
                            })
                        }
                    }
                }
            }
            l = this;
            if (s < t.length) {
                u.push({
                    elem: l,
                    handlers: t.slice(s)
                })
            }
            return u
        },
        addProp: function(t, e) {
            Object.defineProperty(S.Event.prototype, t, {
                enumerable: true,
                configurable: true,
                get: y(e) ? function() {
                    if (this.originalEvent) {
                        return e(this.originalEvent)
                    }
                } : function() {
                    if (this.originalEvent) {
                        return this.originalEvent[t]
                    }
                },
                set: function(e) {
                    Object.defineProperty(this, t, {
                        enumerable: true,
                        configurable: true,
                        writable: true,
                        value: e
                    })
                }
            })
        },
        fix: function(e) {
            return e[S.expando] ? e : new S.Event(e)
        },
        special: {
            load: {
                noBubble: true
            },
            focus: {
                trigger: function() {
                    if (this !== Te() && this.focus) {
                        this.focus();
                        return false
                    }
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    if (this === Te() && this.blur) {
                        this.blur();
                        return false
                    }
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    if (this.type === "checkbox" && this.click && A(this, "input")) {
                        this.click();
                        return false
                    }
                },
                _default: function(e) {
                    return A(e.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(e) {
                    if (e.result !== undefined && e.originalEvent) {
                        e.originalEvent.returnValue = e.result
                    }
                }
            }
        }
    };
    S.removeEvent = function(e, t, n) {
        if (e.removeEventListener) {
            e.removeEventListener(t, n)
        }
    };
    S.Event = function(e, t) {
        if (!(this instanceof S.Event)) {
            return new S.Event(e, t)
        }
        if (e && e.type) {
            this.originalEvent = e;
            this.type = e.type;
            this.isDefaultPrevented = e.defaultPrevented || e.defaultPrevented === undefined && e.returnValue === false ? Se : Ne;
            this.target = e.target && e.target.nodeType === 3 ? e.target.parentNode : e.target;
            this.currentTarget = e.currentTarget;
            this.relatedTarget = e.relatedTarget
        } else {
            this.type = e
        }
        if (t) {
            S.extend(this, t)
        }
        this.timeStamp = e && e.timeStamp || Date.now();
        this[S.expando] = true
    };
    S.Event.prototype = {
        constructor: S.Event,
        isDefaultPrevented: Ne,
        isPropagationStopped: Ne,
        isImmediatePropagationStopped: Ne,
        isSimulated: false,
        preventDefault: function() {
            var e = this.originalEvent;
            this.isDefaultPrevented = Se;
            if (e && !this.isSimulated) {
                e.preventDefault()
            }
        },
        stopPropagation: function() {
            var e = this.originalEvent;
            this.isPropagationStopped = Se;
            if (e && !this.isSimulated) {
                e.stopPropagation()
            }
        },
        stopImmediatePropagation: function() {
            var e = this.originalEvent;
            this.isImmediatePropagationStopped = Se;
            if (e && !this.isSimulated) {
                e.stopImmediatePropagation()
            }
            this.stopPropagation()
        }
    };
    S.each({
        altKey: true,
        bubbles: true,
        cancelable: true,
        changedTouches: true,
        ctrlKey: true,
        detail: true,
        eventPhase: true,
        metaKey: true,
        pageX: true,
        pageY: true,
        shiftKey: true,
        view: true,
        char: true,
        charCode: true,
        key: true,
        keyCode: true,
        button: true,
        buttons: true,
        clientX: true,
        clientY: true,
        offsetX: true,
        offsetY: true,
        pointerId: true,
        pointerType: true,
        screenX: true,
        screenY: true,
        targetTouches: true,
        toElement: true,
        touches: true,
        which: function(e) {
            var t = e.button;
            if (e.which == null && Ce.test(e.type)) {
                return e.charCode != null ? e.charCode : e.keyCode
            }
            if (!e.which && t !== undefined && Ee.test(e.type)) {
                if (t & 1) {
                    return 1
                }
                if (t & 2) {
                    return 3
                }
                if (t & 4) {
                    return 2
                }
                return 0
            }
            return e.which
        }
    }, S.event.addProp);
    S.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(e, o) {
        S.event.special[e] = {
            delegateType: o,
            bindType: o,
            handle: function(e) {
                var t, n = this,
                    r = e.relatedTarget,
                    i = e.handleObj;
                if (!r || r !== n && !S.contains(n, r)) {
                    e.type = i.origType;
                    t = i.handler.apply(this, arguments);
                    e.type = o
                }
                return t
            }
        }
    });
    S.fn.extend({
        on: function(e, t, n, r) {
            return Ae(this, e, t, n, r)
        },
        one: function(e, t, n, r) {
            return Ae(this, e, t, n, r, 1)
        },
        off: function(e, t, n) {
            var r, i;
            if (e && e.preventDefault && e.handleObj) {
                r = e.handleObj;
                S(e.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler);
                return this
            }
            if (typeof e === "object") {
                for (i in e) {
                    this.off(i, t, e[i])
                }
                return this
            }
            if (t === false || typeof t === "function") {
                n = t;
                t = undefined
            }
            if (n === false) {
                n = Ne
            }
            return this.each(function() {
                S.event.remove(this, e, n, t)
            })
        }
    });
    var De = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
        _e = /<script|<style|<link/i,
        Re = /checked\s*(?:[^=]|=\s*.checked.)/i,
        Oe = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

    function Fe(e, t) {
        if (A(e, "table") && A(t.nodeType !== 11 ? t : t.firstChild, "tr")) {
            return S(e).children("tbody")[0] || e
        }
        return e
    }

    function Be(e) {
        e.type = (e.getAttribute("type") !== null) + "/" + e.type;
        return e
    }

    function Pe(e) {
        if ((e.type || "").slice(0, 5) === "true/") {
            e.type = e.type.slice(5)
        } else {
            e.removeAttribute("type")
        }
        return e
    }

    function Le(e, t) {
        var n, r, i, o, a, u, s, l;
        if (t.nodeType !== 1) {
            return
        }
        if (J.hasData(e)) {
            o = J.access(e);
            a = J.set(t, o);
            l = o.events;
            if (l) {
                delete a.handle;
                a.events = {};
                for (i in l) {
                    for (n = 0, r = l[i].length; n < r; n++) {
                        S.event.add(t, i, l[i][n])
                    }
                }
            }
        }
        if (Z.hasData(e)) {
            u = Z.access(e);
            s = S.extend({}, u);
            Z.set(t, s)
        }
    }

    function Ie(e, t) {
        var n = t.nodeName.toLowerCase();
        if (n === "input" && pe.test(e.type)) {
            t.checked = e.checked
        } else if (n === "input" || n === "textarea") {
            t.defaultValue = e.defaultValue
        }
    }

    function je(n, r, i, o) {
        r = m.apply([], r);
        var e, t, a, u, s, l, f = 0,
            c = n.length,
            d = c - 1,
            p = r[0],
            h = y(p);
        if (h || c > 1 && typeof p === "string" && !v.checkClone && Re.test(p)) {
            return n.each(function(e) {
                var t = n.eq(e);
                if (h) {
                    r[0] = p.call(this, e, t.html())
                }
                je(t, r, i, o)
            })
        }
        if (c) {
            e = xe(r, n[0].ownerDocument, false, n, o);
            t = e.firstChild;
            if (e.childNodes.length === 1) {
                e = t
            }
            if (t || o) {
                a = S.map(ve(e, "script"), Be);
                u = a.length;
                for (; f < c; f++) {
                    s = e;
                    if (f !== d) {
                        s = S.clone(s, true, true);
                        if (u) {
                            S.merge(a, ve(s, "script"))
                        }
                    }
                    i.call(n[f], s, f)
                }
                if (u) {
                    l = a[a.length - 1].ownerDocument;
                    S.map(a, Pe);
                    for (f = 0; f < u; f++) {
                        s = a[f];
                        if (me.test(s.type || "") && !J.access(s, "globalEval") && S.contains(l, s)) {
                            if (s.src && (s.type || "").toLowerCase() !== "module") {
                                if (S._evalUrl) {
                                    S._evalUrl(s.src)
                                }
                            } else {
                                x(s.textContent.replace(Oe, ""), l, s)
                            }
                        }
                    }
                }
            }
        }
        return n
    }

    function Me(e, t, n) {
        var r, i = t ? S.filter(t, e) : e,
            o = 0;
        for (;
            (r = i[o]) != null; o++) {
            if (!n && r.nodeType === 1) {
                S.cleanData(ve(r))
            }
            if (r.parentNode) {
                if (n && S.contains(r.ownerDocument, r)) {
                    ye(ve(r, "script"))
                }
                r.parentNode.removeChild(r)
            }
        }
        return e
    }
    S.extend({
        htmlPrefilter: function(e) {
            return e.replace(De, "<$1></$2>")
        },
        clone: function(e, t, n) {
            var r, i, o, a, u = e.cloneNode(true),
                s = S.contains(e.ownerDocument, e);
            if (!v.noCloneChecked && (e.nodeType === 1 || e.nodeType === 11) && !S.isXMLDoc(e)) {
                a = ve(u);
                o = ve(e);
                for (r = 0, i = o.length; r < i; r++) {
                    Ie(o[r], a[r])
                }
            }
            if (t) {
                if (n) {
                    o = o || ve(e);
                    a = a || ve(u);
                    for (r = 0, i = o.length; r < i; r++) {
                        Le(o[r], a[r])
                    }
                } else {
                    Le(e, u)
                }
            }
            a = ve(u, "script");
            if (a.length > 0) {
                ye(a, !s && ve(e, "script"))
            }
            return u
        },
        cleanData: function(e) {
            var t, n, r, i = S.event.special,
                o = 0;
            for (;
                (n = e[o]) !== undefined; o++) {
                if (G(n)) {
                    if (t = n[J.expando]) {
                        if (t.events) {
                            for (r in t.events) {
                                if (i[r]) {
                                    S.event.remove(n, r)
                                } else {
                                    S.removeEvent(n, r, t.handle)
                                }
                            }
                        }
                        n[J.expando] = undefined
                    }
                    if (n[Z.expando]) {
                        n[Z.expando] = undefined
                    }
                }
            }
        }
    });
    S.fn.extend({
        detach: function(e) {
            return Me(this, e, true)
        },
        remove: function(e) {
            return Me(this, e)
        },
        text: function(e) {
            return V(this, function(e) {
                return e === undefined ? S.text(this) : this.empty().each(function() {
                    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                        this.textContent = e
                    }
                })
            }, null, e, arguments.length)
        },
        append: function() {
            return je(this, arguments, function(e) {
                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                    var t = Fe(this, e);
                    t.appendChild(e)
                }
            })
        },
        prepend: function() {
            return je(this, arguments, function(e) {
                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                    var t = Fe(this, e);
                    t.insertBefore(e, t.firstChild)
                }
            })
        },
        before: function() {
            return je(this, arguments, function(e) {
                if (this.parentNode) {
                    this.parentNode.insertBefore(e, this)
                }
            })
        },
        after: function() {
            return je(this, arguments, function(e) {
                if (this.parentNode) {
                    this.parentNode.insertBefore(e, this.nextSibling)
                }
            })
        },
        empty: function() {
            var e, t = 0;
            for (;
                (e = this[t]) != null; t++) {
                if (e.nodeType === 1) {
                    S.cleanData(ve(e, false));
                    e.textContent = ""
                }
            }
            return this
        },
        clone: function(e, t) {
            e = e == null ? false : e;
            t = t == null ? e : t;
            return this.map(function() {
                return S.clone(this, e, t)
            })
        },
        html: function(e) {
            return V(this, function(e) {
                var t = this[0] || {},
                    n = 0,
                    r = this.length;
                if (e === undefined && t.nodeType === 1) {
                    return t.innerHTML
                }
                if (typeof e === "string" && !_e.test(e) && !ge[(he.exec(e) || ["", ""])[1].toLowerCase()]) {
                    e = S.htmlPrefilter(e);
                    try {
                        for (; n < r; n++) {
                            t = this[n] || {};
                            if (t.nodeType === 1) {
                                S.cleanData(ve(t, false));
                                t.innerHTML = e
                            }
                        }
                        t = 0
                    } catch (e) {}
                }
                if (t) {
                    this.empty().append(e)
                }
            }, null, e, arguments.length)
        },
        replaceWith: function() {
            var n = [];
            return je(this, arguments, function(e) {
                var t = this.parentNode;
                if (S.inArray(this, n) < 0) {
                    S.cleanData(ve(this));
                    if (t) {
                        t.replaceChild(e, this)
                    }
                }
            }, n)
        }
    });
    S.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(e, a) {
        S.fn[e] = function(e) {
            var t, n = [],
                r = S(e),
                i = r.length - 1,
                o = 0;
            for (; o <= i; o++) {
                t = o === i ? this : this.clone(true);
                S(r[o])[a](t);
                s.apply(n, t.get())
            }
            return this.pushStack(n)
        }
    });
    var qe = new RegExp("^(" + ie + ")(?!px)[a-z%]+$", "i");
    var He = function(e) {
        var t = e.ownerDocument.defaultView;
        if (!t || !t.opener) {
            t = E
        }
        return t.getComputedStyle(e)
    };
    var ze = new RegExp(ae.join("|"), "i");
    (function() {
        function e() {
            if (!s) {
                return
            }
            u.style.cssText = "position:absolute;left:-11111px;width:60px;" + "margin-top:1px;padding:0;border:0";
            s.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;" + "margin:auto;border:1px;padding:1px;" + "width:60%;top:1%";
            we.appendChild(u).appendChild(s);
            var e = E.getComputedStyle(s);
            n = e.top !== "1%";
            a = t(e.marginLeft) === 12;
            s.style.right = "60%";
            o = t(e.right) === 36;
            r = t(e.width) === 36;
            s.style.position = "absolute";
            i = s.offsetWidth === 36 || "absolute";
            we.removeChild(u);
            s = null
        }

        function t(e) {
            return Math.round(parseFloat(e))
        }
        var n, r, i, o, a, u = k.createElement("div"),
            s = k.createElement("div");
        if (!s.style) {
            return
        }
        s.style.backgroundClip = "content-box";
        s.cloneNode(true).style.backgroundClip = "";
        v.clearCloneStyle = s.style.backgroundClip === "content-box";
        S.extend(v, {
            boxSizingReliable: function() {
                e();
                return r
            },
            pixelBoxStyles: function() {
                e();
                return o
            },
            pixelPosition: function() {
                e();
                return n
            },
            reliableMarginLeft: function() {
                e();
                return a
            },
            scrollboxSize: function() {
                e();
                return i
            }
        })
    })();

    function Ue(e, t, n) {
        var r, i, o, a, u = e.style;
        n = n || He(e);
        if (n) {
            a = n.getPropertyValue(t) || n[t];
            if (a === "" && !S.contains(e.ownerDocument, e)) {
                a = S.style(e, t)
            }
            if (!v.pixelBoxStyles() && qe.test(a) && ze.test(t)) {
                r = u.width;
                i = u.minWidth;
                o = u.maxWidth;
                u.minWidth = u.maxWidth = u.width = a;
                a = n.width;
                u.width = r;
                u.minWidth = i;
                u.maxWidth = o
            }
        }
        return a !== undefined ? a + "" : a
    }

    function $e(e, t) {
        return {
            get: function() {
                if (e()) {
                    delete this.get;
                    return
                }
                return (this.get = t).apply(this, arguments)
            }
        }
    }
    var Ve = /^(none|table(?!-c[ea]).+)/,
        We = /^--/,
        Xe = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Ke = {
            letterSpacing: "0",
            fontWeight: "400"
        },
        Ye = ["Webkit", "Moz", "ms"],
        Ge = k.createElement("div").style;

    function Qe(e) {
        if (e in Ge) {
            return e
        }
        var t = e[0].toUpperCase() + e.slice(1),
            n = Ye.length;
        while (n--) {
            e = Ye[n] + t;
            if (e in Ge) {
                return e
            }
        }
    }

    function Je(e) {
        var t = S.cssProps[e];
        if (!t) {
            t = S.cssProps[e] = Qe(e) || e
        }
        return t
    }

    function Ze(e, t, n) {
        var r = oe.exec(t);
        return r ? Math.max(0, r[2] - (n || 0)) + (r[3] || "px") : t
    }

    function et(e, t, n, r, i, o) {
        var a = t === "width" ? 1 : 0,
            u = 0,
            s = 0;
        if (n === (r ? "border" : "content")) {
            return 0
        }
        for (; a < 4; a += 2) {
            if (n === "margin") {
                s += S.css(e, n + ae[a], true, i)
            }
            if (!r) {
                s += S.css(e, "padding" + ae[a], true, i);
                if (n !== "padding") {
                    s += S.css(e, "border" + ae[a] + "Width", true, i)
                } else {
                    u += S.css(e, "border" + ae[a] + "Width", true, i)
                }
            } else {
                if (n === "content") {
                    s -= S.css(e, "padding" + ae[a], true, i)
                }
                if (n !== "margin") {
                    s -= S.css(e, "border" + ae[a] + "Width", true, i)
                }
            }
        }
        if (!r && o >= 0) {
            s += Math.max(0, Math.ceil(e["offset" + t[0].toUpperCase() + t.slice(1)] - o - s - u - .5))
        }
        return s
    }

    function tt(e, t, n) {
        var r = He(e),
            i = Ue(e, t, r),
            o = S.css(e, "boxSizing", false, r) === "border-box",
            a = o;
        if (qe.test(i)) {
            if (!n) {
                return i
            }
            i = "auto"
        }
        a = a && (v.boxSizingReliable() || i === e.style[t]);
        if (i === "auto" || !parseFloat(i) && S.css(e, "display", false, r) === "inline") {
            i = e["offset" + t[0].toUpperCase() + t.slice(1)];
            a = true
        }
        i = parseFloat(i) || 0;
        return i + et(e, t, n || (o ? "border" : "content"), a, r, i) + "px"
    }
    S.extend({
        cssHooks: {
            opacity: {
                get: function(e, t) {
                    if (t) {
                        var n = Ue(e, "opacity");
                        return n === "" ? "1" : n
                    }
                }
            }
        },
        cssNumber: {
            animationIterationCount: true,
            columnCount: true,
            fillOpacity: true,
            flexGrow: true,
            flexShrink: true,
            fontWeight: true,
            lineHeight: true,
            opacity: true,
            order: true,
            orphans: true,
            widows: true,
            zIndex: true,
            zoom: true
        },
        cssProps: {},
        style: function(e, t, n, r) {
            if (!e || e.nodeType === 3 || e.nodeType === 8 || !e.style) {
                return
            }
            var i, o, a, u = Y(t),
                s = We.test(t),
                l = e.style;
            if (!s) {
                t = Je(u)
            }
            a = S.cssHooks[t] || S.cssHooks[u];
            if (n !== undefined) {
                o = typeof n;
                if (o === "string" && (i = oe.exec(n)) && i[1]) {
                    n = le(e, t, i);
                    o = "number"
                }
                if (n == null || n !== n) {
                    return
                }
                if (o === "number") {
                    n += i && i[3] || (S.cssNumber[u] ? "" : "px")
                }
                if (!v.clearCloneStyle && n === "" && t.indexOf("background") === 0) {
                    l[t] = "inherit"
                }
                if (!a || !("set" in a) || (n = a.set(e, n, r)) !== undefined) {
                    if (s) {
                        l.setProperty(t, n)
                    } else {
                        l[t] = n
                    }
                }
            } else {
                if (a && "get" in a && (i = a.get(e, false, r)) !== undefined) {
                    return i
                }
                return l[t]
            }
        },
        css: function(e, t, n, r) {
            var i, o, a, u = Y(t),
                s = We.test(t);
            if (!s) {
                t = Je(u)
            }
            a = S.cssHooks[t] || S.cssHooks[u];
            if (a && "get" in a) {
                i = a.get(e, true, n)
            }
            if (i === undefined) {
                i = Ue(e, t, r)
            }
            if (i === "normal" && t in Ke) {
                i = Ke[t]
            }
            if (n === "" || n) {
                o = parseFloat(i);
                return n === true || isFinite(o) ? o || 0 : i
            }
            return i
        }
    });
    S.each(["height", "width"], function(e, u) {
        S.cssHooks[u] = {
            get: function(e, t, n) {
                if (t) {
                    return Ve.test(S.css(e, "display")) && (!e.getClientRects().length || !e.getBoundingClientRect().width) ? se(e, Xe, function() {
                        return tt(e, u, n)
                    }) : tt(e, u, n)
                }
            },
            set: function(e, t, n) {
                var r, i = He(e),
                    o = S.css(e, "boxSizing", false, i) === "border-box",
                    a = n && et(e, u, n, o, i);
                if (o && v.scrollboxSize() === i.position) {
                    a -= Math.ceil(e["offset" + u[0].toUpperCase() + u.slice(1)] - parseFloat(i[u]) - et(e, u, "border", false, i) - .5)
                }
                if (a && (r = oe.exec(t)) && (r[3] || "px") !== "px") {
                    e.style[u] = t;
                    t = S.css(e, u)
                }
                return Ze(e, t, a)
            }
        }
    });
    S.cssHooks.marginLeft = $e(v.reliableMarginLeft, function(e, t) {
        if (t) {
            return (parseFloat(Ue(e, "marginLeft")) || e.getBoundingClientRect().left - se(e, {
                marginLeft: 0
            }, function() {
                return e.getBoundingClientRect().left
            })) + "px"
        }
    });
    S.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(i, o) {
        S.cssHooks[i + o] = {
            expand: function(e) {
                var t = 0,
                    n = {},
                    r = typeof e === "string" ? e.split(" ") : [e];
                for (; t < 4; t++) {
                    n[i + ae[t] + o] = r[t] || r[t - 2] || r[0]
                }
                return n
            }
        };
        if (i !== "margin") {
            S.cssHooks[i + o].set = Ze
        }
    });
    S.fn.extend({
        css: function(e, t) {
            return V(this, function(e, t, n) {
                var r, i, o = {},
                    a = 0;
                if (Array.isArray(t)) {
                    r = He(e);
                    i = t.length;
                    for (; a < i; a++) {
                        o[t[a]] = S.css(e, t[a], false, r)
                    }
                    return o
                }
                return n !== undefined ? S.style(e, t, n) : S.css(e, t)
            }, e, t, arguments.length > 1)
        }
    });

    function nt(e, t, n, r, i) {
        return new nt.prototype.init(e, t, n, r, i)
    }
    S.Tween = nt;
    nt.prototype = {
        constructor: nt,
        init: function(e, t, n, r, i, o) {
            this.elem = e;
            this.prop = n;
            this.easing = i || S.easing._default;
            this.options = t;
            this.start = this.now = this.cur();
            this.end = r;
            this.unit = o || (S.cssNumber[n] ? "" : "px")
        },
        cur: function() {
            var e = nt.propHooks[this.prop];
            return e && e.get ? e.get(this) : nt.propHooks._default.get(this)
        },
        run: function(e) {
            var t, n = nt.propHooks[this.prop];
            if (this.options.duration) {
                this.pos = t = S.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration)
            } else {
                this.pos = t = e
            }
            this.now = (this.end - this.start) * t + this.start;
            if (this.options.step) {
                this.options.step.call(this.elem, this.now, this)
            }
            if (n && n.set) {
                n.set(this)
            } else {
                nt.propHooks._default.set(this)
            }
            return this
        }
    };
    nt.prototype.init.prototype = nt.prototype;
    nt.propHooks = {
        _default: {
            get: function(e) {
                var t;
                if (e.elem.nodeType !== 1 || e.elem[e.prop] != null && e.elem.style[e.prop] == null) {
                    return e.elem[e.prop]
                }
                t = S.css(e.elem, e.prop, "");
                return !t || t === "auto" ? 0 : t
            },
            set: function(e) {
                if (S.fx.step[e.prop]) {
                    S.fx.step[e.prop](e)
                } else if (e.elem.nodeType === 1 && (e.elem.style[S.cssProps[e.prop]] != null || S.cssHooks[e.prop])) {
                    S.style(e.elem, e.prop, e.now + e.unit)
                } else {
                    e.elem[e.prop] = e.now
                }
            }
        }
    };
    nt.propHooks.scrollTop = nt.propHooks.scrollLeft = {
        set: function(e) {
            if (e.elem.nodeType && e.elem.parentNode) {
                e.elem[e.prop] = e.now
            }
        }
    };
    S.easing = {
        linear: function(e) {
            return e
        },
        swing: function(e) {
            return .5 - Math.cos(e * Math.PI) / 2
        },
        _default: "swing"
    };
    S.fx = nt.prototype.init;
    S.fx.step = {};
    var rt, it, ot = /^(?:toggle|show|hide)$/,
        at = /queueHooks$/;

    function ut() {
        if (it) {
            if (k.hidden === false && E.requestAnimationFrame) {
                E.requestAnimationFrame(ut)
            } else {
                E.setTimeout(ut, S.fx.interval)
            }
            S.fx.tick()
        }
    }

    function st() {
        E.setTimeout(function() {
            rt = undefined
        });
        return rt = Date.now()
    }

    function lt(e, t) {
        var n, r = 0,
            i = {
                height: e
            };
        t = t ? 1 : 0;
        for (; r < 4; r += 2 - t) {
            n = ae[r];
            i["margin" + n] = i["padding" + n] = e
        }
        if (t) {
            i.opacity = i.width = e
        }
        return i
    }

    function ft(e, t, n) {
        var r, i = (pt.tweeners[t] || []).concat(pt.tweeners["*"]),
            o = 0,
            a = i.length;
        for (; o < a; o++) {
            if (r = i[o].call(n, t, e)) {
                return r
            }
        }
    }

    function ct(e, t, n) {
        var r, i, o, a, u, s, l, f, c = "width" in t || "height" in t,
            d = this,
            p = {},
            h = e.style,
            m = e.nodeType && ue(e),
            g = J.get(e, "fxshow");
        if (!n.queue) {
            a = S._queueHooks(e, "fx");
            if (a.unqueued == null) {
                a.unqueued = 0;
                u = a.empty.fire;
                a.empty.fire = function() {
                    if (!a.unqueued) {
                        u()
                    }
                }
            }
            a.unqueued++;
            d.always(function() {
                d.always(function() {
                    a.unqueued--;
                    if (!S.queue(e, "fx").length) {
                        a.empty.fire()
                    }
                })
            })
        }
        for (r in t) {
            i = t[r];
            if (ot.test(i)) {
                delete t[r];
                o = o || i === "toggle";
                if (i === (m ? "hide" : "show")) {
                    if (i === "show" && g && g[r] !== undefined) {
                        m = true
                    } else {
                        continue
                    }
                }
                p[r] = g && g[r] || S.style(e, r)
            }
        }
        s = !S.isEmptyObject(t);
        if (!s && S.isEmptyObject(p)) {
            return
        }
        if (c && e.nodeType === 1) {
            n.overflow = [h.overflow, h.overflowX, h.overflowY];
            l = g && g.display;
            if (l == null) {
                l = J.get(e, "display")
            }
            f = S.css(e, "display");
            if (f === "none") {
                if (l) {
                    f = l
                } else {
                    de([e], true);
                    l = e.style.display || l;
                    f = S.css(e, "display");
                    de([e])
                }
            }
            if (f === "inline" || f === "inline-block" && l != null) {
                if (S.css(e, "float") === "none") {
                    if (!s) {
                        d.done(function() {
                            h.display = l
                        });
                        if (l == null) {
                            f = h.display;
                            l = f === "none" ? "" : f
                        }
                    }
                    h.display = "inline-block"
                }
            }
        }
        if (n.overflow) {
            h.overflow = "hidden";
            d.always(function() {
                h.overflow = n.overflow[0];
                h.overflowX = n.overflow[1];
                h.overflowY = n.overflow[2]
            })
        }
        s = false;
        for (r in p) {
            if (!s) {
                if (g) {
                    if ("hidden" in g) {
                        m = g.hidden
                    }
                } else {
                    g = J.access(e, "fxshow", {
                        display: l
                    })
                }
                if (o) {
                    g.hidden = !m
                }
                if (m) {
                    de([e], true)
                }
                d.done(function() {
                    if (!m) {
                        de([e])
                    }
                    J.remove(e, "fxshow");
                    for (r in p) {
                        S.style(e, r, p[r])
                    }
                })
            }
            s = ft(m ? g[r] : 0, r, d);
            if (!(r in g)) {
                g[r] = s.start;
                if (m) {
                    s.end = s.start;
                    s.start = 0
                }
            }
        }
    }

    function dt(e, t) {
        var n, r, i, o, a;
        for (n in e) {
            r = Y(n);
            i = t[r];
            o = e[n];
            if (Array.isArray(o)) {
                i = o[1];
                o = e[n] = o[0]
            }
            if (n !== r) {
                e[r] = o;
                delete e[n]
            }
            a = S.cssHooks[r];
            if (a && "expand" in a) {
                o = a.expand(o);
                delete e[r];
                for (n in o) {
                    if (!(n in e)) {
                        e[n] = o[n];
                        t[n] = i
                    }
                }
            } else {
                t[r] = i
            }
        }
    }

    function pt(a, e, t) {
        var n, u, r = 0,
            i = pt.prefilters.length,
            s = S.Deferred().always(function() {
                delete o.elem
            }),
            o = function() {
                if (u) {
                    return false
                }
                var e = rt || st(),
                    t = Math.max(0, l.startTime + l.duration - e),
                    n = t / l.duration || 0,
                    r = 1 - n,
                    i = 0,
                    o = l.tweens.length;
                for (; i < o; i++) {
                    l.tweens[i].run(r)
                }
                s.notifyWith(a, [l, r, t]);
                if (r < 1 && o) {
                    return t
                }
                if (!o) {
                    s.notifyWith(a, [l, 1, 0])
                }
                s.resolveWith(a, [l]);
                return false
            },
            l = s.promise({
                elem: a,
                props: S.extend({}, e),
                opts: S.extend(true, {
                    specialEasing: {},
                    easing: S.easing._default
                }, t),
                originalProperties: e,
                originalOptions: t,
                startTime: rt || st(),
                duration: t.duration,
                tweens: [],
                createTween: function(e, t) {
                    var n = S.Tween(a, l.opts, e, t, l.opts.specialEasing[e] || l.opts.easing);
                    l.tweens.push(n);
                    return n
                },
                stop: function(e) {
                    var t = 0,
                        n = e ? l.tweens.length : 0;
                    if (u) {
                        return this
                    }
                    u = true;
                    for (; t < n; t++) {
                        l.tweens[t].run(1)
                    }
                    if (e) {
                        s.notifyWith(a, [l, 1, 0]);
                        s.resolveWith(a, [l, e])
                    } else {
                        s.rejectWith(a, [l, e])
                    }
                    return this
                }
            }),
            f = l.props;
        dt(f, l.opts.specialEasing);
        for (; r < i; r++) {
            n = pt.prefilters[r].call(l, a, f, l.opts);
            if (n) {
                if (y(n.stop)) {
                    S._queueHooks(l.elem, l.opts.queue).stop = n.stop.bind(n)
                }
                return n
            }
        }
        S.map(f, ft, l);
        if (y(l.opts.start)) {
            l.opts.start.call(a, l)
        }
        l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always);
        S.fx.timer(S.extend(o, {
            elem: a,
            anim: l,
            queue: l.opts.queue
        }));
        return l
    }
    S.Animation = S.extend(pt, {
        tweeners: {
            "*": [function(e, t) {
                var n = this.createTween(e, t);
                le(n.elem, e, oe.exec(t), n);
                return n
            }]
        },
        tweener: function(e, t) {
            if (y(e)) {
                t = e;
                e = ["*"]
            } else {
                e = e.match(I)
            }
            var n, r = 0,
                i = e.length;
            for (; r < i; r++) {
                n = e[r];
                pt.tweeners[n] = pt.tweeners[n] || [];
                pt.tweeners[n].unshift(t)
            }
        },
        prefilters: [ct],
        prefilter: function(e, t) {
            if (t) {
                pt.prefilters.unshift(e)
            } else {
                pt.prefilters.push(e)
            }
        }
    });
    S.speed = function(e, t, n) {
        var r = e && typeof e === "object" ? S.extend({}, e) : {
            complete: n || !n && t || y(e) && e,
            duration: e,
            easing: n && t || t && !y(t) && t
        };
        if (S.fx.off) {
            r.duration = 0
        } else {
            if (typeof r.duration !== "number") {
                if (r.duration in S.fx.speeds) {
                    r.duration = S.fx.speeds[r.duration]
                } else {
                    r.duration = S.fx.speeds._default
                }
            }
        }
        if (r.queue == null || r.queue === true) {
            r.queue = "fx"
        }
        r.old = r.complete;
        r.complete = function() {
            if (y(r.old)) {
                r.old.call(this)
            }
            if (r.queue) {
                S.dequeue(this, r.queue)
            }
        };
        return r
    };
    S.fn.extend({
        fadeTo: function(e, t, n, r) {
            return this.filter(ue).css("opacity", 0).show().end().animate({
                opacity: t
            }, e, n, r)
        },
        animate: function(t, e, n, r) {
            var i = S.isEmptyObject(t),
                o = S.speed(e, n, r),
                a = function() {
                    var e = pt(this, S.extend({}, t), o);
                    if (i || J.get(this, "finish")) {
                        e.stop(true)
                    }
                };
            a.finish = a;
            return i || o.queue === false ? this.each(a) : this.queue(o.queue, a)
        },
        stop: function(i, e, o) {
            var a = function(e) {
                var t = e.stop;
                delete e.stop;
                t(o)
            };
            if (typeof i !== "string") {
                o = e;
                e = i;
                i = undefined
            }
            if (e && i !== false) {
                this.queue(i || "fx", [])
            }
            return this.each(function() {
                var e = true,
                    t = i != null && i + "queueHooks",
                    n = S.timers,
                    r = J.get(this);
                if (t) {
                    if (r[t] && r[t].stop) {
                        a(r[t])
                    }
                } else {
                    for (t in r) {
                        if (r[t] && r[t].stop && at.test(t)) {
                            a(r[t])
                        }
                    }
                }
                for (t = n.length; t--;) {
                    if (n[t].elem === this && (i == null || n[t].queue === i)) {
                        n[t].anim.stop(o);
                        e = false;
                        n.splice(t, 1)
                    }
                }
                if (e || !o) {
                    S.dequeue(this, i)
                }
            })
        },
        finish: function(a) {
            if (a !== false) {
                a = a || "fx"
            }
            return this.each(function() {
                var e, t = J.get(this),
                    n = t[a + "queue"],
                    r = t[a + "queueHooks"],
                    i = S.timers,
                    o = n ? n.length : 0;
                t.finish = true;
                S.queue(this, a, []);
                if (r && r.stop) {
                    r.stop.call(this, true)
                }
                for (e = i.length; e--;) {
                    if (i[e].elem === this && i[e].queue === a) {
                        i[e].anim.stop(true);
                        i.splice(e, 1)
                    }
                }
                for (e = 0; e < o; e++) {
                    if (n[e] && n[e].finish) {
                        n[e].finish.call(this)
                    }
                }
                delete t.finish
            })
        }
    });
    S.each(["toggle", "show", "hide"], function(e, r) {
        var i = S.fn[r];
        S.fn[r] = function(e, t, n) {
            return e == null || typeof e === "boolean" ? i.apply(this, arguments) : this.animate(lt(r, true), e, t, n)
        }
    });
    S.each({
        slideDown: lt("show"),
        slideUp: lt("hide"),
        slideToggle: lt("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(e, r) {
        S.fn[e] = function(e, t, n) {
            return this.animate(r, e, t, n)
        }
    });
    S.timers = [];
    S.fx.tick = function() {
        var e, t = 0,
            n = S.timers;
        rt = Date.now();
        for (; t < n.length; t++) {
            e = n[t];
            if (!e() && n[t] === e) {
                n.splice(t--, 1)
            }
        }
        if (!n.length) {
            S.fx.stop()
        }
        rt = undefined
    };
    S.fx.timer = function(e) {
        S.timers.push(e);
        S.fx.start()
    };
    S.fx.interval = 13;
    S.fx.start = function() {
        if (it) {
            return
        }
        it = true;
        ut()
    };
    S.fx.stop = function() {
        it = null
    };
    S.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    };
    S.fn.delay = function(r, e) {
        r = S.fx ? S.fx.speeds[r] || r : r;
        e = e || "fx";
        return this.queue(e, function(e, t) {
            var n = E.setTimeout(e, r);
            t.stop = function() {
                E.clearTimeout(n)
            }
        })
    };
    (function() {
        var e = k.createElement("input"),
            t = k.createElement("select"),
            n = t.appendChild(k.createElement("option"));
        e.type = "checkbox";
        v.checkOn = e.value !== "";
        v.optSelected = n.selected;
        e = k.createElement("input");
        e.value = "t";
        e.type = "radio";
        v.radioValue = e.value === "t"
    })();
    var ht, mt = S.expr.attrHandle;
    S.fn.extend({
        attr: function(e, t) {
            return V(this, S.attr, e, t, arguments.length > 1)
        },
        removeAttr: function(e) {
            return this.each(function() {
                S.removeAttr(this, e)
            })
        }
    });
    S.extend({
        attr: function(e, t, n) {
            var r, i, o = e.nodeType;
            if (o === 3 || o === 8 || o === 2) {
                return
            }
            if (typeof e.getAttribute === "undefined") {
                return S.prop(e, t, n)
            }
            if (o !== 1 || !S.isXMLDoc(e)) {
                i = S.attrHooks[t.toLowerCase()] || (S.expr.match.bool.test(t) ? ht : undefined)
            }
            if (n !== undefined) {
                if (n === null) {
                    S.removeAttr(e, t);
                    return
                }
                if (i && "set" in i && (r = i.set(e, n, t)) !== undefined) {
                    return r
                }
                e.setAttribute(t, n + "");
                return n
            }
            if (i && "get" in i && (r = i.get(e, t)) !== null) {
                return r
            }
            r = S.find.attr(e, t);
            return r == null ? undefined : r
        },
        attrHooks: {
            type: {
                set: function(e, t) {
                    if (!v.radioValue && t === "radio" && A(e, "input")) {
                        var n = e.value;
                        e.setAttribute("type", t);
                        if (n) {
                            e.value = n
                        }
                        return t
                    }
                }
            }
        },
        removeAttr: function(e, t) {
            var n, r = 0,
                i = t && t.match(I);
            if (i && e.nodeType === 1) {
                while (n = i[r++]) {
                    e.removeAttribute(n)
                }
            }
        }
    });
    ht = {
        set: function(e, t, n) {
            if (t === false) {
                S.removeAttr(e, n)
            } else {
                e.setAttribute(n, n)
            }
            return n
        }
    };
    S.each(S.expr.match.bool.source.match(/\w+/g), function(e, t) {
        var a = mt[t] || S.find.attr;
        mt[t] = function(e, t, n) {
            var r, i, o = t.toLowerCase();
            if (!n) {
                i = mt[o];
                mt[o] = r;
                r = a(e, t, n) != null ? o : null;
                mt[o] = i
            }
            return r
        }
    });
    var gt = /^(?:input|select|textarea|button)$/i,
        vt = /^(?:a|area)$/i;
    S.fn.extend({
        prop: function(e, t) {
            return V(this, S.prop, e, t, arguments.length > 1)
        },
        removeProp: function(e) {
            return this.each(function() {
                delete this[S.propFix[e] || e]
            })
        }
    });
    S.extend({
        prop: function(e, t, n) {
            var r, i, o = e.nodeType;
            if (o === 3 || o === 8 || o === 2) {
                return
            }
            if (o !== 1 || !S.isXMLDoc(e)) {
                t = S.propFix[t] || t;
                i = S.propHooks[t]
            }
            if (n !== undefined) {
                if (i && "set" in i && (r = i.set(e, n, t)) !== undefined) {
                    return r
                }
                return e[t] = n
            }
            if (i && "get" in i && (r = i.get(e, t)) !== null) {
                return r
            }
            return e[t]
        },
        propHooks: {
            tabIndex: {
                get: function(e) {
                    var t = S.find.attr(e, "tabindex");
                    if (t) {
                        return parseInt(t, 10)
                    }
                    if (gt.test(e.nodeName) || vt.test(e.nodeName) && e.href) {
                        return 0
                    }
                    return -1
                }
            }
        },
        propFix: {
            for: "htmlFor",
            class: "className"
        }
    });
    if (!v.optSelected) {
        S.propHooks.selected = {
            get: function(e) {
                var t = e.parentNode;
                if (t && t.parentNode) {
                    t.parentNode.selectedIndex
                }
                return null
            },
            set: function(e) {
                var t = e.parentNode;
                if (t) {
                    t.selectedIndex;
                    if (t.parentNode) {
                        t.parentNode.selectedIndex
                    }
                }
            }
        }
    }
    S.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        S.propFix[this.toLowerCase()] = this
    });

    function yt(e) {
        var t = e.match(I) || [];
        return t.join(" ")
    }

    function bt(e) {
        return e.getAttribute && e.getAttribute("class") || ""
    }

    function xt(e) {
        if (Array.isArray(e)) {
            return e
        }
        if (typeof e === "string") {
            return e.match(I) || []
        }
        return []
    }
    S.fn.extend({
        addClass: function(t) {
            var e, n, r, i, o, a, u, s = 0;
            if (y(t)) {
                return this.each(function(e) {
                    S(this).addClass(t.call(this, e, bt(this)))
                })
            }
            e = xt(t);
            if (e.length) {
                while (n = this[s++]) {
                    i = bt(n);
                    r = n.nodeType === 1 && " " + yt(i) + " ";
                    if (r) {
                        a = 0;
                        while (o = e[a++]) {
                            if (r.indexOf(" " + o + " ") < 0) {
                                r += o + " "
                            }
                        }
                        u = yt(r);
                        if (i !== u) {
                            n.setAttribute("class", u)
                        }
                    }
                }
            }
            return this
        },
        removeClass: function(t) {
            var e, n, r, i, o, a, u, s = 0;
            if (y(t)) {
                return this.each(function(e) {
                    S(this).removeClass(t.call(this, e, bt(this)))
                })
            }
            if (!arguments.length) {
                return this.attr("class", "")
            }
            e = xt(t);
            if (e.length) {
                while (n = this[s++]) {
                    i = bt(n);
                    r = n.nodeType === 1 && " " + yt(i) + " ";
                    if (r) {
                        a = 0;
                        while (o = e[a++]) {
                            while (r.indexOf(" " + o + " ") > -1) {
                                r = r.replace(" " + o + " ", " ")
                            }
                        }
                        u = yt(r);
                        if (i !== u) {
                            n.setAttribute("class", u)
                        }
                    }
                }
            }
            return this
        },
        toggleClass: function(i, t) {
            var o = typeof i,
                a = o === "string" || Array.isArray(i);
            if (typeof t === "boolean" && a) {
                return t ? this.addClass(i) : this.removeClass(i)
            }
            if (y(i)) {
                return this.each(function(e) {
                    S(this).toggleClass(i.call(this, e, bt(this), t), t)
                })
            }
            return this.each(function() {
                var e, t, n, r;
                if (a) {
                    t = 0;
                    n = S(this);
                    r = xt(i);
                    while (e = r[t++]) {
                        if (n.hasClass(e)) {
                            n.removeClass(e)
                        } else {
                            n.addClass(e)
                        }
                    }
                } else if (i === undefined || o === "boolean") {
                    e = bt(this);
                    if (e) {
                        J.set(this, "__className__", e)
                    }
                    if (this.setAttribute) {
                        this.setAttribute("class", e || i === false ? "" : J.get(this, "__className__") || "")
                    }
                }
            })
        },
        hasClass: function(e) {
            var t, n, r = 0;
            t = " " + e + " ";
            while (n = this[r++]) {
                if (n.nodeType === 1 && (" " + yt(bt(n)) + " ").indexOf(t) > -1) {
                    return true
                }
            }
            return false
        }
    });
    var wt = /\r/g;
    S.fn.extend({
        val: function(n) {
            var r, e, i, t = this[0];
            if (!arguments.length) {
                if (t) {
                    r = S.valHooks[t.type] || S.valHooks[t.nodeName.toLowerCase()];
                    if (r && "get" in r && (e = r.get(t, "value")) !== undefined) {
                        return e
                    }
                    e = t.value;
                    if (typeof e === "string") {
                        return e.replace(wt, "")
                    }
                    return e == null ? "" : e
                }
                return
            }
            i = y(n);
            return this.each(function(e) {
                var t;
                if (this.nodeType !== 1) {
                    return
                }
                if (i) {
                    t = n.call(this, e, S(this).val())
                } else {
                    t = n
                }
                if (t == null) {
                    t = ""
                } else if (typeof t === "number") {
                    t += ""
                } else if (Array.isArray(t)) {
                    t = S.map(t, function(e) {
                        return e == null ? "" : e + ""
                    })
                }
                r = S.valHooks[this.type] || S.valHooks[this.nodeName.toLowerCase()];
                if (!r || !("set" in r) || r.set(this, t, "value") === undefined) {
                    this.value = t
                }
            })
        }
    });
    S.extend({
        valHooks: {
            option: {
                get: function(e) {
                    var t = S.find.attr(e, "value");
                    return t != null ? t : yt(S.text(e))
                }
            },
            select: {
                get: function(e) {
                    var t, n, r, i = e.options,
                        o = e.selectedIndex,
                        a = e.type === "select-one",
                        u = a ? null : [],
                        s = a ? o + 1 : i.length;
                    if (o < 0) {
                        r = s
                    } else {
                        r = a ? o : 0
                    }
                    for (; r < s; r++) {
                        n = i[r];
                        if ((n.selected || r === o) && !n.disabled && (!n.parentNode.disabled || !A(n.parentNode, "optgroup"))) {
                            t = S(n).val();
                            if (a) {
                                return t
                            }
                            u.push(t)
                        }
                    }
                    return u
                },
                set: function(e, t) {
                    var n, r, i = e.options,
                        o = S.makeArray(t),
                        a = i.length;
                    while (a--) {
                        r = i[a];
                        if (r.selected = S.inArray(S.valHooks.option.get(r), o) > -1) {
                            n = true
                        }
                    }
                    if (!n) {
                        e.selectedIndex = -1
                    }
                    return o
                }
            }
        }
    });
    S.each(["radio", "checkbox"], function() {
        S.valHooks[this] = {
            set: function(e, t) {
                if (Array.isArray(t)) {
                    return e.checked = S.inArray(S(e).val(), t) > -1
                }
            }
        };
        if (!v.checkOn) {
            S.valHooks[this].get = function(e) {
                return e.getAttribute("value") === null ? "on" : e.value
            }
        }
    });
    v.focusin = "onfocusin" in E;
    var Ct = /^(?:focusinfocus|focusoutblur)$/,
        Et = function(e) {
            e.stopPropagation()
        };
    S.extend(S.event, {
        trigger: function(e, t, n, r) {
            var i, o, a, u, s, l, f, c, d = [n || k],
                p = g.call(e, "type") ? e.type : e,
                h = g.call(e, "namespace") ? e.namespace.split(".") : [];
            o = c = a = n = n || k;
            if (n.nodeType === 3 || n.nodeType === 8) {
                return
            }
            if (Ct.test(p + S.event.triggered)) {
                return
            }
            if (p.indexOf(".") > -1) {
                h = p.split(".");
                p = h.shift();
                h.sort()
            }
            s = p.indexOf(":") < 0 && "on" + p;
            e = e[S.expando] ? e : new S.Event(p, typeof e === "object" && e);
            e.isTrigger = r ? 2 : 3;
            e.namespace = h.join(".");
            e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + h.join("\\.(?:.*\\.|)") + "(\\.|$)") : null;
            e.result = undefined;
            if (!e.target) {
                e.target = n
            }
            t = t == null ? [e] : S.makeArray(t, [e]);
            f = S.event.special[p] || {};
            if (!r && f.trigger && f.trigger.apply(n, t) === false) {
                return
            }
            if (!r && !f.noBubble && !b(n)) {
                u = f.delegateType || p;
                if (!Ct.test(u + p)) {
                    o = o.parentNode
                }
                for (; o; o = o.parentNode) {
                    d.push(o);
                    a = o
                }
                if (a === (n.ownerDocument || k)) {
                    d.push(a.defaultView || a.parentWindow || E)
                }
            }
            i = 0;
            while ((o = d[i++]) && !e.isPropagationStopped()) {
                c = o;
                e.type = i > 1 ? u : f.bindType || p;
                l = (J.get(o, "events") || {})[e.type] && J.get(o, "handle");
                if (l) {
                    l.apply(o, t)
                }
                l = s && o[s];
                if (l && l.apply && G(o)) {
                    e.result = l.apply(o, t);
                    if (e.result === false) {
                        e.preventDefault()
                    }
                }
            }
            e.type = p;
            if (!r && !e.isDefaultPrevented()) {
                if ((!f._default || f._default.apply(d.pop(), t) === false) && G(n)) {
                    if (s && y(n[p]) && !b(n)) {
                        a = n[s];
                        if (a) {
                            n[s] = null
                        }
                        S.event.triggered = p;
                        if (e.isPropagationStopped()) {
                            c.addEventListener(p, Et)
                        }
                        n[p]();
                        if (e.isPropagationStopped()) {
                            c.removeEventListener(p, Et)
                        }
                        S.event.triggered = undefined;
                        if (a) {
                            n[s] = a
                        }
                    }
                }
            }
            return e.result
        },
        simulate: function(e, t, n) {
            var r = S.extend(new S.Event, n, {
                type: e,
                isSimulated: true
            });
            S.event.trigger(r, null, t)
        }
    });
    S.fn.extend({
        trigger: function(e, t) {
            return this.each(function() {
                S.event.trigger(e, t, this)
            })
        },
        triggerHandler: function(e, t) {
            var n = this[0];
            if (n) {
                return S.event.trigger(e, t, n, true)
            }
        }
    });
    if (!v.focusin) {
        S.each({
            focus: "focusin",
            blur: "focusout"
        }, function(n, r) {
            var i = function(e) {
                S.event.simulate(r, e.target, S.event.fix(e))
            };
            S.event.special[r] = {
                setup: function() {
                    var e = this.ownerDocument || this,
                        t = J.access(e, r);
                    if (!t) {
                        e.addEventListener(n, i, true)
                    }
                    J.access(e, r, (t || 0) + 1)
                },
                teardown: function() {
                    var e = this.ownerDocument || this,
                        t = J.access(e, r) - 1;
                    if (!t) {
                        e.removeEventListener(n, i, true);
                        J.remove(e, r)
                    } else {
                        J.access(e, r, t)
                    }
                }
            }
        })
    }
    var kt = E.location;
    var St = Date.now();
    var Nt = /\?/;
    S.parseXML = function(e) {
        var t;
        if (!e || typeof e !== "string") {
            return null
        }
        try {
            t = (new E.DOMParser).parseFromString(e, "text/xml")
        } catch (e) {
            t = undefined
        }
        if (!t || t.getElementsByTagName("parsererror").length) {
            S.error("Invalid XML: " + e)
        }
        return t
    };
    var Tt = /\[\]$/,
        At = /\r?\n/g,
        Dt = /^(?:submit|button|image|reset|file)$/i,
        _t = /^(?:input|select|textarea|keygen)/i;

    function Rt(n, e, r, i) {
        var t;
        if (Array.isArray(e)) {
            S.each(e, function(e, t) {
                if (r || Tt.test(n)) {
                    i(n, t)
                } else {
                    Rt(n + "[" + (typeof t === "object" && t != null ? e : "") + "]", t, r, i)
                }
            })
        } else if (!r && w(e) === "object") {
            for (t in e) {
                Rt(n + "[" + t + "]", e[t], r, i)
            }
        } else {
            i(n, e)
        }
    }
    S.param = function(e, t) {
        var n, r = [],
            i = function(e, t) {
                var n = y(t) ? t() : t;
                r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(n == null ? "" : n)
            };
        if (Array.isArray(e) || e.jquery && !S.isPlainObject(e)) {
            S.each(e, function() {
                i(this.name, this.value)
            })
        } else {
            for (n in e) {
                Rt(n, e[n], t, i)
            }
        }
        return r.join("&")
    };
    S.fn.extend({
        serialize: function() {
            return S.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var e = S.prop(this, "elements");
                return e ? S.makeArray(e) : this
            }).filter(function() {
                var e = this.type;
                return this.name && !S(this).is(":disabled") && _t.test(this.nodeName) && !Dt.test(e) && (this.checked || !pe.test(e))
            }).map(function(e, t) {
                var n = S(this).val();
                if (n == null) {
                    return null
                }
                if (Array.isArray(n)) {
                    return S.map(n, function(e) {
                        return {
                            name: t.name,
                            value: e.replace(At, "\r\n")
                        }
                    })
                }
                return {
                    name: t.name,
                    value: n.replace(At, "\r\n")
                }
            }).get()
        }
    });
    var Ot = /%20/g,
        Ft = /#.*$/,
        Bt = /([?&])_=[^&]*/,
        Pt = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        Lt = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
        It = /^(?:GET|HEAD)$/,
        jt = /^\/\//,
        Mt = {},
        qt = {},
        Ht = "*/".concat("*"),
        zt = k.createElement("a");
    zt.href = kt.href;

    function Ut(o) {
        return function(e, t) {
            if (typeof e !== "string") {
                t = e;
                e = "*"
            }
            var n, r = 0,
                i = e.toLowerCase().match(I) || [];
            if (y(t)) {
                while (n = i[r++]) {
                    if (n[0] === "+") {
                        n = n.slice(1) || "*";
                        (o[n] = o[n] || []).unshift(t)
                    } else {
                        (o[n] = o[n] || []).push(t)
                    }
                }
            }
        }
    }

    function $t(t, i, o, a) {
        var u = {},
            s = t === qt;

        function l(e) {
            var r;
            u[e] = true;
            S.each(t[e] || [], function(e, t) {
                var n = t(i, o, a);
                if (typeof n === "string" && !s && !u[n]) {
                    i.dataTypes.unshift(n);
                    l(n);
                    return false
                } else if (s) {
                    return !(r = n)
                }
            });
            return r
        }
        return l(i.dataTypes[0]) || !u["*"] && l("*")
    }

    function Vt(e, t) {
        var n, r, i = S.ajaxSettings.flatOptions || {};
        for (n in t) {
            if (t[n] !== undefined) {
                (i[n] ? e : r || (r = {}))[n] = t[n]
            }
        }
        if (r) {
            S.extend(true, e, r)
        }
        return e
    }

    function Wt(e, t, n) {
        var r, i, o, a, u = e.contents,
            s = e.dataTypes;
        while (s[0] === "*") {
            s.shift();
            if (r === undefined) {
                r = e.mimeType || t.getResponseHeader("Content-Type")
            }
        }
        if (r) {
            for (i in u) {
                if (u[i] && u[i].test(r)) {
                    s.unshift(i);
                    break
                }
            }
        }
        if (s[0] in n) {
            o = s[0]
        } else {
            for (i in n) {
                if (!s[0] || e.converters[i + " " + s[0]]) {
                    o = i;
                    break
                }
                if (!a) {
                    a = i
                }
            }
            o = o || a
        }
        if (o) {
            if (o !== s[0]) {
                s.unshift(o)
            }
            return n[o]
        }
    }

    function Xt(e, t, n, r) {
        var i, o, a, u, s, l = {},
            f = e.dataTypes.slice();
        if (f[1]) {
            for (a in e.converters) {
                l[a.toLowerCase()] = e.converters[a]
            }
        }
        o = f.shift();
        while (o) {
            if (e.responseFields[o]) {
                n[e.responseFields[o]] = t
            }
            if (!s && r && e.dataFilter) {
                t = e.dataFilter(t, e.dataType)
            }
            s = o;
            o = f.shift();
            if (o) {
                if (o === "*") {
                    o = s
                } else if (s !== "*" && s !== o) {
                    a = l[s + " " + o] || l["* " + o];
                    if (!a) {
                        for (i in l) {
                            u = i.split(" ");
                            if (u[1] === o) {
                                a = l[s + " " + u[0]] || l["* " + u[0]];
                                if (a) {
                                    if (a === true) {
                                        a = l[i]
                                    } else if (l[i] !== true) {
                                        o = u[0];
                                        f.unshift(u[1])
                                    }
                                    break
                                }
                            }
                        }
                    }
                    if (a !== true) {
                        if (a && e.throws) {
                            t = a(t)
                        } else {
                            try {
                                t = a(t)
                            } catch (e) {
                                return {
                                    state: "parsererror",
                                    error: a ? e : "No conversion from " + s + " to " + o
                                }
                            }
                        }
                    }
                }
            }
        }
        return {
            state: "success",
            data: t
        }
    }
    S.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: kt.href,
            type: "GET",
            isLocal: Lt.test(kt.protocol),
            global: true,
            processData: true,
            async: true,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Ht,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": true,
                "text json": JSON.parse,
                "text xml": S.parseXML
            },
            flatOptions: {
                url: true,
                context: true
            }
        },
        ajaxSetup: function(e, t) {
            return t ? Vt(Vt(e, S.ajaxSettings), t) : Vt(S.ajaxSettings, e)
        },
        ajaxPrefilter: Ut(Mt),
        ajaxTransport: Ut(qt),
        ajax: function(e, t) {
            if (typeof e === "object") {
                t = e;
                e = undefined
            }
            t = t || {};
            var f, c, d, n, p, r, h, m, i, o, g = S.ajaxSetup({}, t),
                v = g.context || g,
                y = g.context && (v.nodeType || v.jquery) ? S(v) : S.event,
                b = S.Deferred(),
                x = S.Callbacks("once memory"),
                w = g.statusCode || {},
                a = {},
                u = {},
                s = "canceled",
                C = {
                    readyState: 0,
                    getResponseHeader: function(e) {
                        var t;
                        if (h) {
                            if (!n) {
                                n = {};
                                while (t = Pt.exec(d)) {
                                    n[t[1].toLowerCase()] = t[2]
                                }
                            }
                            t = n[e.toLowerCase()]
                        }
                        return t == null ? null : t
                    },
                    getAllResponseHeaders: function() {
                        return h ? d : null
                    },
                    setRequestHeader: function(e, t) {
                        if (h == null) {
                            e = u[e.toLowerCase()] = u[e.toLowerCase()] || e;
                            a[e] = t
                        }
                        return this
                    },
                    overrideMimeType: function(e) {
                        if (h == null) {
                            g.mimeType = e
                        }
                        return this
                    },
                    statusCode: function(e) {
                        var t;
                        if (e) {
                            if (h) {
                                C.always(e[C.status])
                            } else {
                                for (t in e) {
                                    w[t] = [w[t], e[t]]
                                }
                            }
                        }
                        return this
                    },
                    abort: function(e) {
                        var t = e || s;
                        if (f) {
                            f.abort(t)
                        }
                        l(0, t);
                        return this
                    }
                };
            b.promise(C);
            g.url = ((e || g.url || kt.href) + "").replace(jt, kt.protocol + "//");
            g.type = t.method || t.type || g.method || g.type;
            g.dataTypes = (g.dataType || "*").toLowerCase().match(I) || [""];
            if (g.crossDomain == null) {
                r = k.createElement("a");
                try {
                    r.href = g.url;
                    r.href = r.href;
                    g.crossDomain = zt.protocol + "//" + zt.host !== r.protocol + "//" + r.host
                } catch (e) {
                    g.crossDomain = true
                }
            }
            if (g.data && g.processData && typeof g.data !== "string") {
                g.data = S.param(g.data, g.traditional)
            }
            $t(Mt, g, t, C);
            if (h) {
                return C
            }
            m = S.event && g.global;
            if (m && S.active++ === 0) {
                S.event.trigger("ajaxStart")
            }
            g.type = g.type.toUpperCase();
            g.hasContent = !It.test(g.type);
            c = g.url.replace(Ft, "");
            if (!g.hasContent) {
                o = g.url.slice(c.length);
                if (g.data && (g.processData || typeof g.data === "string")) {
                    c += (Nt.test(c) ? "&" : "?") + g.data;
                    delete g.data
                }
                if (g.cache === false) {
                    c = c.replace(Bt, "$1");
                    o = (Nt.test(c) ? "&" : "?") + "_=" + St++ + o
                }
                g.url = c + o
            } else if (g.data && g.processData && (g.contentType || "").indexOf("application/x-www-form-urlencoded") === 0) {
                g.data = g.data.replace(Ot, "+")
            }
            if (g.ifModified) {
                if (S.lastModified[c]) {
                    C.setRequestHeader("If-Modified-Since", S.lastModified[c])
                }
                if (S.etag[c]) {
                    C.setRequestHeader("If-None-Match", S.etag[c])
                }
            }
            if (g.data && g.hasContent && g.contentType !== false || t.contentType) {
                C.setRequestHeader("Content-Type", g.contentType)
            }
            C.setRequestHeader("Accept", g.dataTypes[0] && g.accepts[g.dataTypes[0]] ? g.accepts[g.dataTypes[0]] + (g.dataTypes[0] !== "*" ? ", " + Ht + "; q=0.01" : "") : g.accepts["*"]);
            for (i in g.headers) {
                C.setRequestHeader(i, g.headers[i])
            }
            if (g.beforeSend && (g.beforeSend.call(v, C, g) === false || h)) {
                return C.abort()
            }
            s = "abort";
            x.add(g.complete);
            C.done(g.success);
            C.fail(g.error);
            f = $t(qt, g, t, C);
            if (!f) {
                l(-1, "No Transport")
            } else {
                C.readyState = 1;
                if (m) {
                    y.trigger("ajaxSend", [C, g])
                }
                if (h) {
                    return C
                }
                if (g.async && g.timeout > 0) {
                    p = E.setTimeout(function() {
                        C.abort("timeout")
                    }, g.timeout)
                }
                try {
                    h = false;
                    f.send(a, l)
                } catch (e) {
                    if (h) {
                        throw e
                    }
                    l(-1, e)
                }
            }

            function l(e, t, n, r) {
                var i, o, a, u, s, l = t;
                if (h) {
                    return
                }
                h = true;
                if (p) {
                    E.clearTimeout(p)
                }
                f = undefined;
                d = r || "";
                C.readyState = e > 0 ? 4 : 0;
                i = e >= 200 && e < 300 || e === 304;
                if (n) {
                    u = Wt(g, C, n)
                }
                u = Xt(g, u, C, i);
                if (i) {
                    if (g.ifModified) {
                        s = C.getResponseHeader("Last-Modified");
                        if (s) {
                            S.lastModified[c] = s
                        }
                        s = C.getResponseHeader("etag");
                        if (s) {
                            S.etag[c] = s
                        }
                    }
                    if (e === 204 || g.type === "HEAD") {
                        l = "nocontent"
                    } else if (e === 304) {
                        l = "notmodified"
                    } else {
                        l = u.state;
                        o = u.data;
                        a = u.error;
                        i = !a
                    }
                } else {
                    a = l;
                    if (e || !l) {
                        l = "error";
                        if (e < 0) {
                            e = 0
                        }
                    }
                }
                C.status = e;
                C.statusText = (t || l) + "";
                if (i) {
                    b.resolveWith(v, [o, l, C])
                } else {
                    b.rejectWith(v, [C, l, a])
                }
                C.statusCode(w);
                w = undefined;
                if (m) {
                    y.trigger(i ? "ajaxSuccess" : "ajaxError", [C, g, i ? o : a])
                }
                x.fireWith(v, [C, l]);
                if (m) {
                    y.trigger("ajaxComplete", [C, g]);
                    if (!--S.active) {
                        S.event.trigger("ajaxStop")
                    }
                }
            }
            return C
        },
        getJSON: function(e, t, n) {
            return S.get(e, t, n, "json")
        },
        getScript: function(e, t) {
            return S.get(e, undefined, t, "script")
        }
    });
    S.each(["get", "post"], function(e, i) {
        S[i] = function(e, t, n, r) {
            if (y(t)) {
                r = r || n;
                n = t;
                t = undefined
            }
            return S.ajax(S.extend({
                url: e,
                type: i,
                dataType: r,
                data: t,
                success: n
            }, S.isPlainObject(e) && e))
        }
    });
    S._evalUrl = function(e) {
        return S.ajax({
            url: e,
            type: "GET",
            dataType: "script",
            cache: true,
            async: false,
            global: false,
            throws: true
        })
    };
    S.fn.extend({
        wrapAll: function(e) {
            var t;
            if (this[0]) {
                if (y(e)) {
                    e = e.call(this[0])
                }
                t = S(e, this[0].ownerDocument).eq(0).clone(true);
                if (this[0].parentNode) {
                    t.insertBefore(this[0])
                }
                t.map(function() {
                    var e = this;
                    while (e.firstElementChild) {
                        e = e.firstElementChild
                    }
                    return e
                }).append(this)
            }
            return this
        },
        wrapInner: function(n) {
            if (y(n)) {
                return this.each(function(e) {
                    S(this).wrapInner(n.call(this, e))
                })
            }
            return this.each(function() {
                var e = S(this),
                    t = e.contents();
                if (t.length) {
                    t.wrapAll(n)
                } else {
                    e.append(n)
                }
            })
        },
        wrap: function(t) {
            var n = y(t);
            return this.each(function(e) {
                S(this).wrapAll(n ? t.call(this, e) : t)
            })
        },
        unwrap: function(e) {
            this.parent(e).not("body").each(function() {
                S(this).replaceWith(this.childNodes)
            });
            return this
        }
    });
    S.expr.pseudos.hidden = function(e) {
        return !S.expr.pseudos.visible(e)
    };
    S.expr.pseudos.visible = function(e) {
        return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length)
    };
    S.ajaxSettings.xhr = function() {
        try {
            return new E.XMLHttpRequest
        } catch (e) {}
    };
    var Kt = {
            0: 200,
            1223: 204
        },
        Yt = S.ajaxSettings.xhr();
    v.cors = !!Yt && "withCredentials" in Yt;
    v.ajax = Yt = !!Yt;
    S.ajaxTransport(function(i) {
        var o, a;
        if (v.cors || Yt && !i.crossDomain) {
            return {
                send: function(e, t) {
                    var n, r = i.xhr();
                    r.open(i.type, i.url, i.async, i.username, i.password);
                    if (i.xhrFields) {
                        for (n in i.xhrFields) {
                            r[n] = i.xhrFields[n]
                        }
                    }
                    if (i.mimeType && r.overrideMimeType) {
                        r.overrideMimeType(i.mimeType)
                    }
                    if (!i.crossDomain && !e["X-Requested-With"]) {
                        e["X-Requested-With"] = "XMLHttpRequest"
                    }
                    for (n in e) {
                        r.setRequestHeader(n, e[n])
                    }
                    o = function(e) {
                        return function() {
                            if (o) {
                                o = a = r.onload = r.onerror = r.onabort = r.ontimeout = r.onreadystatechange = null;
                                if (e === "abort") {
                                    r.abort()
                                } else if (e === "error") {
                                    if (typeof r.status !== "number") {
                                        t(0, "error")
                                    } else {
                                        t(r.status, r.statusText)
                                    }
                                } else {
                                    t(Kt[r.status] || r.status, r.statusText, (r.responseType || "text") !== "text" || typeof r.responseText !== "string" ? {
                                        binary: r.response
                                    } : {
                                        text: r.responseText
                                    }, r.getAllResponseHeaders())
                                }
                            }
                        }
                    };
                    r.onload = o();
                    a = r.onerror = r.ontimeout = o("error");
                    if (r.onabort !== undefined) {
                        r.onabort = a
                    } else {
                        r.onreadystatechange = function() {
                            if (r.readyState === 4) {
                                E.setTimeout(function() {
                                    if (o) {
                                        a()
                                    }
                                })
                            }
                        }
                    }
                    o = o("abort");
                    try {
                        r.send(i.hasContent && i.data || null)
                    } catch (e) {
                        if (o) {
                            throw e
                        }
                    }
                },
                abort: function() {
                    if (o) {
                        o()
                    }
                }
            }
        }
    });
    S.ajaxPrefilter(function(e) {
        if (e.crossDomain) {
            e.contents.script = false
        }
    });
    S.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, " + "application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function(e) {
                S.globalEval(e);
                return e
            }
        }
    });
    S.ajaxPrefilter("script", function(e) {
        if (e.cache === undefined) {
            e.cache = false
        }
        if (e.crossDomain) {
            e.type = "GET"
        }
    });
    S.ajaxTransport("script", function(n) {
        if (n.crossDomain) {
            var r, i;
            return {
                send: function(e, t) {
                    r = S("<script>").prop({
                        charset: n.scriptCharset,
                        src: n.url
                    }).on("load error", i = function(e) {
                        r.remove();
                        i = null;
                        if (e) {
                            t(e.type === "error" ? 404 : 200, e.type)
                        }
                    });
                    k.head.appendChild(r[0])
                },
                abort: function() {
                    if (i) {
                        i()
                    }
                }
            }
        }
    });
    var Gt = [],
        Qt = /(=)\?(?=&|$)|\?\?/;
    S.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var e = Gt.pop() || S.expando + "_" + St++;
            this[e] = true;
            return e
        }
    });
    S.ajaxPrefilter("json jsonp", function(e, t, n) {
        var r, i, o, a = e.jsonp !== false && (Qt.test(e.url) ? "url" : typeof e.data === "string" && (e.contentType || "").indexOf("application/x-www-form-urlencoded") === 0 && Qt.test(e.data) && "data");
        if (a || e.dataTypes[0] === "jsonp") {
            r = e.jsonpCallback = y(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback;
            if (a) {
                e[a] = e[a].replace(Qt, "$1" + r)
            } else if (e.jsonp !== false) {
                e.url += (Nt.test(e.url) ? "&" : "?") + e.jsonp + "=" + r
            }
            e.converters["script json"] = function() {
                if (!o) {
                    S.error(r + " was not called")
                }
                return o[0]
            };
            e.dataTypes[0] = "json";
            i = E[r];
            E[r] = function() {
                o = arguments
            };
            n.always(function() {
                if (i === undefined) {
                    S(E).removeProp(r)
                } else {
                    E[r] = i
                }
                if (e[r]) {
                    e.jsonpCallback = t.jsonpCallback;
                    Gt.push(r)
                }
                if (o && y(i)) {
                    i(o[0])
                }
                o = i = undefined
            });
            return "script"
        }
    });
    v.createHTMLDocument = function() {
        var e = k.implementation.createHTMLDocument("").body;
        e.innerHTML = "<form></form><form></form>";
        return e.childNodes.length === 2
    }();
    S.parseHTML = function(e, t, n) {
        if (typeof e !== "string") {
            return []
        }
        if (typeof t === "boolean") {
            n = t;
            t = false
        }
        var r, i, o;
        if (!t) {
            if (v.createHTMLDocument) {
                t = k.implementation.createHTMLDocument("");
                r = t.createElement("base");
                r.href = k.location.href;
                t.head.appendChild(r)
            } else {
                t = k
            }
        }
        i = D.exec(e);
        o = !n && [];
        if (i) {
            return [t.createElement(i[1])]
        }
        i = xe([e], t, o);
        if (o && o.length) {
            S(o).remove()
        }
        return S.merge([], i.childNodes)
    };
    S.fn.load = function(e, t, n) {
        var r, i, o, a = this,
            u = e.indexOf(" ");
        if (u > -1) {
            r = yt(e.slice(u));
            e = e.slice(0, u)
        }
        if (y(t)) {
            n = t;
            t = undefined
        } else if (t && typeof t === "object") {
            i = "POST"
        }
        if (a.length > 0) {
            S.ajax({
                url: e,
                type: i || "GET",
                dataType: "html",
                data: t
            }).done(function(e) {
                o = arguments;
                a.html(r ? S("<div>").append(S.parseHTML(e)).find(r) : e)
            }).always(n && function(e, t) {
                a.each(function() {
                    n.apply(this, o || [e.responseText, t, e])
                })
            })
        }
        return this
    };
    S.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
        S.fn[t] = function(e) {
            return this.on(t, e)
        }
    });
    S.expr.pseudos.animated = function(t) {
        return S.grep(S.timers, function(e) {
            return t === e.elem
        }).length
    };
    S.offset = {
        setOffset: function(e, t, n) {
            var r, i, o, a, u, s, l, f = S.css(e, "position"),
                c = S(e),
                d = {};
            if (f === "static") {
                e.style.position = "relative"
            }
            u = c.offset();
            o = S.css(e, "top");
            s = S.css(e, "left");
            l = (f === "absolute" || f === "fixed") && (o + s).indexOf("auto") > -1;
            if (l) {
                r = c.position();
                a = r.top;
                i = r.left
            } else {
                a = parseFloat(o) || 0;
                i = parseFloat(s) || 0
            }
            if (y(t)) {
                t = t.call(e, n, S.extend({}, u))
            }
            if (t.top != null) {
                d.top = t.top - u.top + a
            }
            if (t.left != null) {
                d.left = t.left - u.left + i
            }
            if ("using" in t) {
                t.using.call(e, d)
            } else {
                c.css(d)
            }
        }
    };
    S.fn.extend({
        offset: function(t) {
            if (arguments.length) {
                return t === undefined ? this : this.each(function(e) {
                    S.offset.setOffset(this, t, e)
                })
            }
            var e, n, r = this[0];
            if (!r) {
                return
            }
            if (!r.getClientRects().length) {
                return {
                    top: 0,
                    left: 0
                }
            }
            e = r.getBoundingClientRect();
            n = r.ownerDocument.defaultView;
            return {
                top: e.top + n.pageYOffset,
                left: e.left + n.pageXOffset
            }
        },
        position: function() {
            if (!this[0]) {
                return
            }
            var e, t, n, r = this[0],
                i = {
                    top: 0,
                    left: 0
                };
            if (S.css(r, "position") === "fixed") {
                t = r.getBoundingClientRect()
            } else {
                t = this.offset();
                n = r.ownerDocument;
                e = r.offsetParent || n.documentElement;
                while (e && (e === n.body || e === n.documentElement) && S.css(e, "position") === "static") {
                    e = e.parentNode
                }
                if (e && e !== r && e.nodeType === 1) {
                    i = S(e).offset();
                    i.top += S.css(e, "borderTopWidth", true);
                    i.left += S.css(e, "borderLeftWidth", true)
                }
            }
            return {
                top: t.top - i.top - S.css(r, "marginTop", true),
                left: t.left - i.left - S.css(r, "marginLeft", true)
            }
        },
        offsetParent: function() {
            return this.map(function() {
                var e = this.offsetParent;
                while (e && S.css(e, "position") === "static") {
                    e = e.offsetParent
                }
                return e || we
            })
        }
    });
    S.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(t, i) {
        var o = "pageYOffset" === i;
        S.fn[t] = function(e) {
            return V(this, function(e, t, n) {
                var r;
                if (b(e)) {
                    r = e
                } else if (e.nodeType === 9) {
                    r = e.defaultView
                }
                if (n === undefined) {
                    return r ? r[i] : e[t]
                }
                if (r) {
                    r.scrollTo(!o ? n : r.pageXOffset, o ? n : r.pageYOffset)
                } else {
                    e[t] = n
                }
            }, t, e, arguments.length)
        }
    });
    S.each(["top", "left"], function(e, n) {
        S.cssHooks[n] = $e(v.pixelPosition, function(e, t) {
            if (t) {
                t = Ue(e, n);
                return qe.test(t) ? S(e).position()[n] + "px" : t
            }
        })
    });
    S.each({
        Height: "height",
        Width: "width"
    }, function(a, u) {
        S.each({
            padding: "inner" + a,
            content: u,
            "": "outer" + a
        }, function(r, o) {
            S.fn[o] = function(e, t) {
                var n = arguments.length && (r || typeof e !== "boolean"),
                    i = r || (e === true || t === true ? "margin" : "border");
                return V(this, function(e, t, n) {
                    var r;
                    if (b(e)) {
                        return o.indexOf("outer") === 0 ? e["inner" + a] : e.document.documentElement["client" + a]
                    }
                    if (e.nodeType === 9) {
                        r = e.documentElement;
                        return Math.max(e.body["scroll" + a], r["scroll" + a], e.body["offset" + a], r["offset" + a], r["client" + a])
                    }
                    return n === undefined ? S.css(e, t, i) : S.style(e, t, n, i)
                }, u, n ? e : undefined, n)
            }
        })
    });
    S.each(("blur focus focusin focusout resize scroll click dblclick " + "mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " + "change select submit keydown keypress keyup contextmenu").split(" "), function(e, n) {
        S.fn[n] = function(e, t) {
            return arguments.length > 0 ? this.on(n, null, e, t) : this.trigger(n)
        }
    });
    S.fn.extend({
        hover: function(e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        }
    });
    S.fn.extend({
        bind: function(e, t, n) {
            return this.on(e, null, t, n)
        },
        unbind: function(e, t) {
            return this.off(e, null, t)
        },
        delegate: function(e, t, n, r) {
            return this.on(t, e, n, r)
        },
        undelegate: function(e, t, n) {
            return arguments.length === 1 ? this.off(e, "**") : this.off(t, e || "**", n)
        }
    });
    S.proxy = function(e, t) {
        var n, r, i;
        if (typeof t === "string") {
            n = e[t];
            t = e;
            e = n
        }
        if (!y(e)) {
            return undefined
        }
        r = u.call(arguments, 2);
        i = function() {
            return e.apply(t || this, r.concat(u.call(arguments)))
        };
        i.guid = e.guid = e.guid || S.guid++;
        return i
    };
    S.holdReady = function(e) {
        if (e) {
            S.readyWait++
        } else {
            S.ready(true)
        }
    };
    S.isArray = Array.isArray;
    S.parseJSON = JSON.parse;
    S.nodeName = A;
    S.isFunction = y;
    S.isWindow = b;
    S.camelCase = Y;
    S.type = w;
    S.now = Date.now;
    S.isNumeric = function(e) {
        var t = S.type(e);
        return (t === "number" || t === "string") && !isNaN(e - parseFloat(e))
    };
    if (typeof define === "function" && define.amd) {
        define("jquery", [], function() {
            return S
        })
    }
    var Jt = E.jQuery,
        Zt = E.$;
    S.noConflict = function(e) {
        if (E.$ === S) {
            E.$ = Zt
        }
        if (e && E.jQuery === S) {
            E.jQuery = Jt
        }
        return S
    };
    if (!e) {
        E.jQuery = E.$ = S
    }
    return S
});
var $returnTo;
(function(p) {
    var o = [];
    var e = function(e, t, n) {
        var r = {
            months: ["Ð¯Ð½Ð²Ð°ÑÑ", "Ð¤ÐµÐ²ÑÐ°Ð»Ñ", "ÐÐ°ÑÑ", "ÐÐ¿ÑÐµÐ»Ñ", "ÐÐ°Ð¹", "ÐÑÐ½Ñ", "ÐÑÐ»Ñ", "ÐÐ²Ð³ÑÑÑ", "Ð¡ÐµÐ½ÑÑÐ±ÑÑ", "ÐÐºÑÑÐ±ÑÑ", "ÐÐ¾ÑÐ±ÑÑ", "ÐÐµÐºÐ°Ð±ÑÑ"],
            months_long: ["ÑÐ½Ð²Ð°ÑÑ", "ÑÐµÐ²ÑÐ°Ð»Ñ", "Ð¼Ð°ÑÑÐ°", "Ð°Ð¿ÑÐµÐ»Ñ", "Ð¼Ð°Ñ", "Ð¸ÑÐ½Ñ", "Ð¸ÑÐ»Ñ", "Ð°Ð²Ð³ÑÑÑÐ°", "ÑÐµÐ½ÑÑÐ±ÑÑ", "Ð¾ÐºÑÑÐ±ÑÑ", "Ð½Ð¾ÑÐ±ÑÑ", "Ð´ÐµÐºÐ°Ð±ÑÑ"],
            months_short: ["Ð¯Ð½Ð²", "Ð¤ÐµÐ²", "ÐÐ°Ñ", "ÐÐ¿Ñ", "ÐÐ°Ð¹", "ÐÑÐ½", "ÐÑÐ»", "ÐÐ²Ð³", "Ð¡ÐµÐ½", "ÐÐºÑ", "ÐÐ¾Ñ", "ÐÐµÐº"],
            monthlengths: [31, 0, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
            weekdays_short: ["ÐÑ", "ÐÐ½", "ÐÑ", "Ð¡Ñ", "Ð§Ñ", "ÐÑ", "Ð¡Ð±"],
            todayLabel: "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ",
            todayDate: "",
            dateFormat: "dd.mm.yyyy",
            firstDayOfWeek: 1,
            onDateSelected: function(e) {},
            weekendClass: "weekend",
            containerClass: "",
            monthYearTemplate: "{month}, {year}",
            isHebrew: false,
            isArabic: false,
            showTodayButton: true
        };
        for (var i = 0; i < n; i++) {
            o.push([e[i], p.extend(r, t)])
        }
    };
    var k = function(e) {
        var t = e || $returnTo;
        for (var n = 0, r = o.length; n < r; n += 1) {
            if (o[n][0] == t) {
                return o[n][1]
            }
        }
        return t && t.settings
    };

    function a(e, t) {
        var n = k(t);
        return n.weekdays_short[(e + n.firstDayOfWeek) % 7]
    }

    function i(e) {
        var t = '<ul class="week">';
        var n = k(e);
        for (var r = 0; r < 7; r++) {
            var i = (r + n.firstDayOfWeek + 1) % 7 < 2 ? ' class="' + n.weekendClass + '"' : "";
            t += "<li" + i + ">" + a(r, e) + "</li>"
        }
        t += "</ul>";
        return t
    }
    var h, m, g, u, v, y, S, N, T, s, l, f, c, d, b, x, w, C, t = false,
        E;
    var A, D = 1,
        _ = 1,
        R = 1;

    function n(e) {
        var t = k(e);
        var n = t.dateFormat.toLowerCase();
        n = n.replace(/\-/g, "\\-");
        n = n.replace(/\./g, "\\.");
        n = n.replace(/\//g, "\\/");
        n = n.replace("dd", "\\s*([0-3]?[0-9])\\s*");
        n = n.replace("d", "\\s*([0-3]?[0-9])\\s*");
        n = n.replace("yyyy", "\\s*(\\d{2,4})\\s*");
        n = n.replace("yy", "\\s*(\\d{2,4})\\s*");
        n = n.replace("mmmm", "\\s*([^\\d\\-_\\.\\\\/]+)\\s*");
        n = n.replace("mmm", "\\s*([^\\d\\-_\\.\\\\/]{3})\\s*");
        n = n.replace("mm", "\\s*([0-1]?\\d)\\s*");
        n = n.replace("m", "\\s*([0-1]?\\d)\\s*");
        n = "^" + n + "$";
        A = new RegExp(n);
        var r = t.dateFormat.indexOf("d");
        var i = t.dateFormat.indexOf("m");
        var o = t.dateFormat.indexOf("yy");
        r < i ? _ += 1 : D += 1;
        i < o ? R += 1 : _ += 1;
        r < o ? R += 1 : D += 1
    }

    function O(e) {
        var t = 0;
        var n = k();
        for (; t < n.months_short.length; t++) {
            if (n.months_short[t].toLowerCase() == e.toLowerCase()) break
        }
        return t + 1
    }

    function F(e) {
        var t = 0;
        for (; t < settings.months.length; t++) {
            if (settings.months[t].toLowerCase() == e.toLowerCase()) break
        }
        return t + 1
    }

    function B(e) {
        var t, n, r;
        var i = e.match(A);
        var o = k();
        if (i) {
            r = parseInt(i[D].replace(/^0/, ""), 10);
            if (o.dateFormat.indexOf("mmmm") >= 0) {
                n = F(i[_])
            } else if (o.dateFormat.indexOf("mmm") >= 0) {
                n = O(i[_])
            } else {
                n = parseInt(i[_].replace(/^0/, ""), 10)
            }
            t = parseInt(i[R], 10);
            if (t < 100) t = t + 2e3;
            if (r < 0 || r > 31) r = false;
            if (n < 0 || n > 12) n = false;
            if (t < 1900 || t > 2100) t = false
        } else {
            r = S;
            n = N;
            t = T
        }
        return {
            day: r,
            month: n,
            year: t,
            matches: i
        }
    }

    function r(e, t) {
        var n, r, i;
        var o = e.match(A);
        var a = k() || t.settings;
        if (o) {
            i = parseInt(o[D], 10);
            if (a.dateFormat.indexOf("mmmm") >= 0) {
                r = F(o[_])
            } else if (a.dateFormat.indexOf("mmm") >= 0) {
                r = O(o[_])
            } else {
                r = parseInt(o[_], 10)
            }
            n = parseInt(o[R], 10);
            if (i < 1 || i > 31 || r < 1 || r > 12 || n < 1900 || n > 2100) {
                return false
            }
        } else {
            return false
        }
        var u = new Date(n, r - 1, i);
        if (isNaN(u) || u.getFullYear() !== n || u.getMonth() + 1 !== r || u.getDate() !== i) {
            return false
        }
        return u
    }

    function P() {
        var e = k();
        var t = e.dateFormat.split("yyyy").join(y).split("yy").join(y).split("mmmm").join(e.months[v - 1]).split("mmm").join(e.months_short[v - 1]).split("mm").join(parseInt(v, 10) < 10 ? "0" + v : v).split("m").join(v).split("dd").join(parseInt(u, 10) < 10 ? "0" + u : u).split("d").join(u);
        return t
    }

    function L(e, t) {
        var n;
        var r = k();
        if (e != 2) {
            n = r.monthlengths[e - 1]
        } else if ((t - 100) % 4) {
            n = 28
        } else {
            n = 29
        }
        return n
    }

    function I(e, t) {
        var n = k();
        var r = new Date(t, e - 1, 1);
        var i = (r.getDay() + 1 - n.firstDayOfWeek + 7) % 7;
        return i == 0 ? 7 : i
    }

    function j(e) {
        var t = 0;
        var n = 0;
        if (e.offsetParent) {
            do {
                t += e.offsetLeft;
                n += e.offsetTop
            } while (e = e.offsetParent)
        }
        return [t, n]
    }
    p.fn.calendar = function(t) {
        e(this, t, this.length || 0);
        p.data(document.body, p(this)[0].id, t);
        return this.each(function(e) {
            p.fn.calendar.add(this, t)
        })
    };
    p.extend(p.fn.calendar, {
        add: function(e, t) {
            this.init(e);
            var n = p.extend({}, E.defaults, t);
            p(e).mousedown(function() {
                $returnTo = this;
                E.appear(n)
            })
        },
        init: function(e) {
            if (t) {
                return false
            } else {
                n(e);
                E = this;
                E.buildCalendar(e);
                E.current = E.x.find(".current a");
                E.prev = E.x.find(".previous");
                E.next = E.x.find(".next");
                E.days = E.x.find("ul.days li a");
                E.months = E.x.find("ul.months li a");
                E.years = E.x.find("ul.years li a");
                E.settings = jQuery.extend(k(), p.data(document.body, p(e)[0].getAttribute("id")));
                E.current.click(function() {
                    E.up();
                    return false
                });
                E.x.find("div.today a").click(function() {
                    E.setToday();
                    E.returnDate();
                    return false
                });
                E.prev.click(function() {
                    if (this.className.indexOf("disabled") === -1) {
                        E.goprevious(p(this))
                    }
                    return false
                });
                E.next.click(function() {
                    if (this.className.indexOf("disabled") === -1) {
                        E.gonext(p(this))
                    }
                    return false
                });
                E.days.click(E.dayClick);
                E.months.click(E.monthClick);
                E.years.click(E.yearClick);
                p(document).mousedown(function(e) {
                    if (p(e.target).parents("#calendar").length == 0 && e.target != $returnTo && w) {
                        E.close()
                    }
                });
                t = true
            }
        },
        dayClick: function() {
            var e = k();
            if (this.className.indexOf("disabled") == -1) {
                if (e.isHebrew) {
                    u = parseInt(p(this).find("p").get(0).innerHTML, 10)
                } else {
                    u = parseInt(this.innerHTML, 10)
                }
                if (this.className == "notnow") {
                    if (u > 15) {
                        E.decreaseMonth()
                    } else {
                        E.increaseMonth()
                    }
                }
                E.returnDate()
            }
            return false
        },
        monthClick: function() {
            if (this.className.indexOf("disabled") == -1) {
                v = parseInt(this.rel, 10);
                E.down()
            }
            return false
        },
        yearClick: function() {
            if (this.className.indexOf("disabled") == -1) {
                y = parseInt(this.innerHTML, 10);
                E.down()
            }
            return false
        },
        setCurrents: function() {
            var e = new Date;
            var t = k();
            if (t.isArabic) {
                var n = e.getDate();
                var r = e.getMonth();
                var i = e.getFullYear();
                var o = r + 1;
                var a = i;
                if (o < 3) {
                    a -= 1;
                    o += 12
                }
                var u = Math.floor(a / 100);
                var s = 2 - u + Math.floor(u / 4);
                if (a < 1583) s = 0;
                if (a == 1582) {
                    if (o > 10) s = -10;
                    if (o == 10) {
                        s = 0;
                        if (n > 4) s = -10
                    }
                }
                var l = Math.floor(365.25 * (a + 4716)) + Math.floor(30.6001 * (o + 1)) + n + s - 1524;
                s = 0;
                if (l > 2299160) {
                    u = Math.floor((l - 1867216.25) / 36524.25);
                    s = 1 + u - Math.floor(u / 4)
                }
                var f = l + s + 1524;
                var c = Math.floor((f - 122.1) / 365.25);
                var d = Math.floor(365.25 * c);
                var p = Math.floor((f - d) / 30.6001);
                n = f - d - Math.floor(30.6001 * p);
                r = p - 1;
                if (p > 13) {
                    c += 1;
                    r = p - 13
                }
                i = c - 4716;
                var h = 10631 / 30;
                var m = 1948084;
                var g = 1948085;
                var v = 8.01 / 60;
                var y = l - m;
                var b = Math.floor(y / 10631);
                y = y - 10631 * b;
                var x = Math.floor((y - v) / h);
                var w = 30 * b + x;
                y = y - Math.floor(x * h + v);
                var C = Math.floor((y + 28.5001) / 29.5);
                if (C == 13) C = 12;
                var E = y - Math.floor(29.5001 * C - 29);
                S = E;
                N = C - 1;
                T = w
            } else {
                S = e.getDate();
                N = e.getMonth() + 1;
                T = e.getYear();
                if (T < 1900) {
                    T = T + 1900
                }
            }
        },
        setToday: function() {
            u = S;
            v = N;
            y = T
        },
        returnDate: function() {
            if ($returnTo.value == undefined) p($returnTo).text(P());
            else $returnTo.value = P();
            p($returnTo).change();
            E.close();
            var e = k();
            e.onDateSelected({
                day: u,
                month: v,
                year: y
            })
        },
        close: function() {
            p("div#calendar").hide();
            p("body").append(p("div#calendar"));
            w = false
        },
        appear: function(e) {
            var t = p($returnTo).offset();
            var n;
            E.setCurrents();
            h = m = g = false;
            x = false;
            if (!e.selectedDate) {
                var r = B($returnTo.value != undefined ? $returnTo.value : p($returnTo).text());
                var i = null;
                if (e.defaultDate) {
                    i = B(e.defaultDate);
                    if (!r.matches) {
                        r = i
                    }
                }
                u = h = r.day;
                v = m = r.month;
                y = g = r.year;
                if (r.day == false) {
                    h = false;
                    u = i ? i.day : S
                }
                if (r.month == false) {
                    m = false;
                    v = i ? i.month : N
                }
                if (r.year == false) {
                    g = false;
                    y = i ? i.year : T
                }
            } else {
                var r = B(e.selectedDate);
                h = u = r.day;
                m = v = r.month;
                g = y = r.year
            }
            var o = k();
            if (o.showTodayButton) {
                E.x.find("div.today a").html(o.todayLabel + ": " + S + " " + o.months_long[N - 1] + " " + T + " Ð³.")
            }
            E.x.find("div.year").add("div#calendar div.decade").add("div#calendar div.month").hide();
            if (e.fromDate) {
                if (e.fromDate == "today") {
                    s = S;
                    l = N;
                    f = T
                } else {
                    var r = B(e.fromDate);
                    s = r.day;
                    l = r.month;
                    f = r.year
                }
                x = true
            } else {
                s = l = f = false
            }
            if (e.toDate) {
                if (e.toDate == "today") {
                    c = S;
                    d = N;
                    b = T
                } else {
                    var r = B(e.toDate);
                    c = r.day;
                    d = r.month;
                    b = r.year
                }
                x = true
            } else {
                c = d = b = false
            }
            C = e.startScreen;
            E.updateCurrent(C);
            E.build(C);
            E.x.find("div." + C).css({
                marginTop: 0
            }).show();
            E.updateNavigation();
            if (p("div#calendar").prev().length > 0 && p("div#calendar").prev()[0] != p($returnTo)) {
                p($returnTo).after(p("div#calendar"))
            }
            p("div#calendar").show();
            w = true
        },
        updateCurrent: function(e) {
            var t = k();
            if (e == "month") {
                E.current.html(t.monthYearTemplate.replace("{month}", t.months[v - 1]).replace("{year}", y))
            } else if (e == "year") {
                E.current.html(y)
            } else {
                var n = y - y % 10 - 1;
                E.current.html(n + " - " + (n + 11))
            }
        },
        updateNavigation: function() {
            var e, t;
            switch (C) {
                case "month":
                    E.increaseMonth();
                    t = E.isEnabled(y, v);
                    E.decreaseMonth();
                    E.decreaseMonth();
                    e = E.isEnabled(y, v);
                    E.increaseMonth();
                    break;
                case "year":
                    t = E.isEnabled(y + 1);
                    e = E.isEnabled(y - 1);
                    break;
                case "decade":
                    t = !(b && b <= y - y % 10 + 10);
                    e = !(f && f >= y - y % 10 - 1);
                    break
            }
            if (t && E.next[0].className.indexOf("disabled") != -1) {
                E.next.removeClass("disabled")
            } else if (!t && E.next[0].className.indexOf("disabled") == -1) {
                E.next.addClass("disabled")
            }
            if (e && E.prev[0].className.indexOf("disabled") != -1) {
                E.prev.removeClass("disabled")
            } else if (!e && E.prev[0].className.indexOf("disabled") == -1) {
                E.prev.addClass("disabled")
            }
        },
        deferUpdateNavigation: function(e) {
            e.addClass("disabled");
            setTimeout(function() {
                E.updateNavigation()
            }, 200)
        },
        clearVer: function(e) {
            E.x.find(".content").css({
                marginTop: 0
            });
            E.x.find("div." + e).hide()
        },
        up: function() {
            var e = false;
            if (C == "month") {
                e = "year"
            } else if (C == "year") {
                e = "decade"
            } else {
                return false
            }
            E.build(e);
            E.updateCurrent(e);
            E.scroll("up", C);
            E.updateNavigation();
            return false
        },
        down: function() {
            var e = false;
            if (C == "decade") {
                e = "year"
            } else if (C == "year") {
                e = "month"
            } else {
                return false
            }
            E.build(e);
            E.updateCurrent(e);
            E.scroll("down", C);
            E.updateNavigation()
        },
        goprevious: function(e) {
            E.buildSibling("prev", C);
            if (C == "year") {
                y--
            } else if (C == "month") {
                E.decreaseMonth()
            } else {
                y -= 10
            }
            E.build(C);
            E.scroll("prev", C);
            E.updateCurrent(C);
            E.deferUpdateNavigation(e);
            return false
        },
        gonext: function(e) {
            E.buildSibling("next", C);
            if (C == "year") {
                y++
            } else if (C == "month") {
                E.increaseMonth()
            } else {
                y += 10
            }
            E.build(C);
            E.scroll("next", C);
            E.updateCurrent(C);
            E.deferUpdateNavigation(e);
            return false
        },
        increaseMonth: function() {
            if (v == 12) {
                y++;
                v = 1
            } else {
                v++
            }
        },
        decreaseMonth: function() {
            if (v == 1) {
                y--;
                v = 12
            } else {
                v--
            }
        },
        isEnabled: function(e, t, n) {
            var r = true;
            if (f && e < f) {
                r = false
            } else if (t && l && t < l && e == f) {
                r = false
            } else if (n && s && n < s && t == l && e == f) {
                r = false
            }
            if (b && e > b) {
                r = false
            } else if (t && d && t > d && e == b) {
                r = false
            } else if (n && c && n > c && t == d && e == b) {
                r = false
            }
            return r
        },
        build: function(e) {
            var o = true;
            var a;
            var u = k();
            webuildit = E.x.find("div." + e)[0];
            webuildit.style.display = "none";
            switch (e) {
                case "month":
                    var t = I(v, y);
                    var s = [];
                    var l = false;
                    var n;
                    var r = L(v, y);
                    var i = t - 1;
                    if (i !== 0) {
                        var f = L(v - 1 > 0 ? v - 1 : 12, y);
                        var c = f - i + 1;
                        for (n = f - i + 1; n <= f; n++) {
                            s[s.length] = n
                        }
                        l = true
                    }
                    for (n = 1; n <= r; n++) {
                        s[s.length] = n
                    }
                    for (n = 1; s.length < 42; n++) {
                        s[s.length] = n
                    }
                    a = 0;
                    if (s[0] != "1") {
                        E.decreaseMonth()
                    }
                    E.days.each(function() {
                        var e = s[a];
                        if (s[a] < s[a - 1]) {
                            l = !l;
                            E.increaseMonth()
                        }
                        if (u.isHebrew) {
                            var t = civ2heb(e, v, y);
                            var n = t.split(" ");
                            var r = hebMonthDays[n[0]] + " " + hebMonth[n[1]];
                            var i = moadim(e, v, y, n[0], n[1], 1);
                            if (i != "") i = '<p class="hol">' + i + "</p>";
                            p(this).html("<p>" + e + "</p><p>" + r + "</p>" + i)
                        } else {
                            p(this).html(e)
                        }
                        if (l) {
                            liclass = "notnow"
                        } else {
                            liclass = ""
                        }
                        if (!l && s[a] == S && v == N && y == T) {
                            liclass = "now"
                        }
                        if (!l && h && s[a] == h && v == m && y == g) {
                            liclass = "selected"
                        }
                        if (x) {
                            o = E.isEnabled(y, v, s[a]);
                            this.className = !o ? "disabled " : "" + liclass
                        } else {
                            this.className = liclass
                        }
                        a++
                    });
                    if (s[s.length - 1] < 15) {
                        E.decreaseMonth()
                    }
                    break;
                case "year":
                    a = 1;
                    E.months.each(function() {
                        if (this.className !== "") {
                            this.className = ""
                        }
                        classname = "";
                        if (a == N && y == T) {
                            classname = "now"
                        }
                        if (m && a == m && y == g) {
                            classname += " selected"
                        }
                        if (x) {
                            o = E.isEnabled(y, a);
                            if (!o && this.className.indexOf("disabled") == -1) {
                                this.className = "disabled " + classname
                            } else {
                                if (o && this.className.indexOf("disabled") != -1) {
                                    this.className = classname
                                }
                                this.className = classname
                            }
                        } else {
                            this.className = classname
                        }
                        a++
                    });
                    break;
                case "decade":
                    var d = y - y % 10 - 1;
                    a = 0;
                    E.years.each(function() {
                        p(this).html(d + a);
                        classname = "";
                        if (this.className !== "") {
                            this.className = ""
                        }
                        if (d + a == T) {
                            classname = "now"
                        }
                        if (g && d + a == g) {
                            classname += " selected"
                        }
                        if (x) {
                            o = E.isEnabled(d + a);
                            if (!o && this.className.indexOf("disabled") == -1) {
                                this.className = "disabled " + classname
                            } else {
                                if (o && this.className.indexOf("disabled") != -1) {
                                    this.className = classname
                                }
                                this.className = classname
                            }
                        } else {
                            this.className = classname
                        }
                        a++
                    });
                    break
            }
            webuildit.style.display = "block"
        },
        buildSibling: function(e, t) {
            switch (t) {
                case "month":
                    newsibling = p('<div id="sibling" class="month" style="display: block;">' + i() + "</div>");
                    E.x.find("div.month#month_currentscreen ul.days").clone().appendTo(newsibling);
                    E.days = newsibling.find("ul.days li a");
                    E.days.click(E.dayClick);
                    break;
                case "year":
                    newsibling = p('<div id="sibling" class="year"></div>');
                    E.x.find("div.year#year_currentscreen ul.months").clone().appendTo(newsibling);
                    E.months = newsibling.find("ul.months li a");
                    E.months.click(E.monthClick);
                    break;
                case "decade":
                    newsibling = p('<div id="sibling" class="decade"></div>');
                    E.x.find("div.decade#decade_currentscreen ul.years").clone().appendTo(newsibling);
                    E.years = newsibling.find("ul.years li a");
                    E.years.click(E.yearClick);
                    break
            }
            if (e == "next") {
                E.x.find("div." + t + "#" + t + "_currentscreen").after(newsibling)
            } else {
                E.x.find("div." + t + "#" + t + "_currentscreen").before(newsibling)
            }
        },
        scroll: function(e, t) {
            var n = false;
            switch (e) {
                case "next":
                    E.x.find("div." + t).addClass("changin");
                    E.x.find("div." + t + "#" + t + "_currentscreen").css({
                        left: 0
                    }).animate({
                        left: -175
                    }, 200);
                    E.x.find("div." + t + "#sibling").css({
                        top: -132,
                        left: 175
                    }).animate({
                        left: 0
                    }, 200);
                    break;
                case "prev":
                    E.x.find("div." + t).addClass("changin");
                    E.x.find("div." + t + "#" + t + "_currentscreen").css({
                        top: -132,
                        left: 0
                    }).animate({
                        left: 175
                    }, 200);
                    E.x.find("div." + t + "#sibling").css({
                        left: -175
                    }).animate({
                        left: 0
                    }, 200);
                    break;
                case "up":
                    if (t == "month") {
                        n = "year"
                    } else if (t == "year") {
                        n = "decade"
                    }
                    if (n) {
                        E.x.find("div." + n).show().css({
                            marginTop: -132
                        }).animate({
                            marginTop: 0
                        }, 200)
                    }
                    break;
                case "down":
                    if (t == "decade") {
                        n = "year"
                    } else if (t == "year") {
                        n = "month"
                    }
                    if (n) {
                        E.x.find("div." + t).animate({
                            marginTop: -132
                        }, 200)
                    }
                    break
            }
            if (n) {
                C = n;
                setTimeout("$.fn.calendar.cleanAfterChange('" + t + "','" + n + "')", 200)
            } else {
                setTimeout("$.fn.calendar.cleanAfterChange('" + t + "')", 200)
            }
        },
        cleanAfterChange: function(e, t) {
            if (!t) {
                E.x.find("div." + e + "#" + e + "_currentscreen").remove();
                E.x.find("div." + e + "#sibling").css({
                    top: 0,
                    left: 0
                }).removeClass("changin")[0].id = e + "_currentscreen"
            } else {
                E.x.find("div." + e).hide().css({
                    marginTop: 0
                });
                E.x.find("div." + t).css({
                    marginTop: 0
                })
            }
        },
        buildCalendar: function(e) {
            var t = k(e);
            calendar = p('<div id="calendar" class="' + (t.isHebrew ? "he" : t.isArabic ? "ar" : t.containerClass ? t.containerClass : "") + (!t.containerClass ? '" style="display: none"><a href="" class="previous"><</a>' : '" style="display: none"><a href="" class="previous ' + t.containerClass + "__btn " + t.containerClass + '__btn_prev"></a>') + (!t.containerClass ? '<div class="current"><a href=""></a></div><a href="" class="next">></a>' : '<div class="current"><a href=""></a></div><a href="" class="next ' + t.containerClass + "__btn " + t.containerClass + '__btn_next"></a>') + '<div style="height: ' + (t.isHebrew ? 360 : t.isArabic ? 132 : t.containerClass ? 195 : "") + 'px; overflow: hidden;"><div class="content">' + '<div class="decade" id="decade_currentscreen" style="display: none;"><ul class="years"></ul>' + '</div><div class="year" id="year_currentscreen" style="display: none;"><ul class="months"></ul>' + '</div><div class="month" id="month_currentscreen" style="display: block;">' + i(e) + '<ul class="days"></ul></div></div>' + '<div class="today"><a href=""></a></div></div></div>');
            calendar.appendTo("body");
            E.x = p("div#calendar");
            for (var n = 0; n < 12; n++) {
                E.x.find("ul.years").append('<li><a href=""></a></li>');
                E.x.find("ul.months").append('<li><a href="" rel="' + (n + 1) + '">' + t.months_short[n] + "</a></li>")
            }
            for (n = 0; n < 42; n++) {
                var r = (n + t.firstDayOfWeek + 1) % 7 < 2 ? ' class="' + t.weekendClass + '"' : "";
                if (n == 1 && v == 0 && (y > 1897 && y < 1930 || y > 1947)) {
                    r = ' class="' + t.weekendClass + '"'
                }
                E.x.find("ul.days").append("<li" + r + '><a href=""></a></li>')
            }
        },
        defaults: {
            startScreen: "month",
            fromDate: false,
            toDate: false,
            seletedDate: false
        },
        getDate: function(e) {
            return r(e, this)
        },
        setDate: function(e, t) {
            if (t) {
                t.val(e)
            } else {
                if ($returnTo.value === undefined) {
                    p($returnTo).text(e)
                } else {
                    $returnTo.value = e
                }
            }
        }
    })
})(jQuery);
(function(l) {
    l.extend(l.fn, {
        validate: function(e) {
            if (!this.length) {
                e && e.debug && window.console && console.warn("nothing selected, can't validate, returning nothing");
                return
            }
            var n = l.data(this[0], "validator");
            if (n) {
                return n
            }
            n = new l.validator(e, this[0]);
            l.data(this[0], "validator", n);
            if (n.settings.onsubmit) {
                this.find("input, button").filter(".cancel").click(function() {
                    n.cancelSubmit = true
                });
                if (n.settings.submitHandler) {
                    this.find("input, button").filter(":submit").click(function() {
                        n.submitButton = this
                    })
                }
                this.submit(function(e) {
                    if (n.settings.debug) e.preventDefault();

                    function t() {
                        if (n.settings.submitHandler) {
                            if (n.submitButton) {
                                var e = l("<input type='hidden'/>").attr("name", n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm)
                            }
                            n.settings.submitHandler.call(n, n.currentForm);
                            if (n.submitButton) {
                                e.remove()
                            }
                            return false
                        }
                        return true
                    }
                    if (n.cancelSubmit) {
                        n.cancelSubmit = false;
                        return t()
                    }
                    if (n.form()) {
                        if (n.pendingRequest) {
                            n.formSubmitted = true;
                            return false
                        }
                        return t()
                    } else {
                        n.focusInvalid();
                        return false
                    }
                })
            }
            return n
        },
        valid: function() {
            if (l(this[0]).is("form")) {
                return this.validate().form()
            } else {
                var e = true;
                var t = l(this[0].form).validate();
                this.each(function() {
                    e &= t.element(this)
                });
                return e
            }
        },
        removeAttrs: function(e) {
            var n = {},
                r = this;
            l.each(e.split(/\s/), function(e, t) {
                n[t] = r.attr(t);
                r.removeAttr(t)
            });
            return n
        },
        rules: function(e, t) {
            var n = this[0];
            if (e) {
                var r = l.data(n.form, "validator").settings;
                var i = r.rules;
                var o = l.validator.staticRules(n);
                switch (e) {
                    case "add":
                        l.extend(o, l.validator.normalizeRule(t));
                        i[n.name] = o;
                        if (t.messages) r.messages[n.name] = l.extend(r.messages[n.name], t.messages);
                        break;
                    case "remove":
                        if (!t) {
                            delete i[n.name];
                            return o
                        }
                        var a = {};
                        l.each(t.split(/\s/), function(e, t) {
                            a[t] = o[t];
                            delete o[t]
                        });
                        return a
                }
            }
            var u = l.validator.normalizeRules(l.extend({}, l.validator.metadataRules(n), l.validator.classRules(n), l.validator.attributeRules(n), l.validator.staticRules(n)), n);
            if (u.required) {
                var s = u.required;
                delete u.required;
                u = l.extend({
                    required: s
                }, u)
            }
            return u
        }
    });
    l.extend(l.expr[":"], {
        blank: function(e) {
            return !l.trim("" + e.value)
        },
        filled: function(e) {
            return !!l.trim("" + e.value)
        },
        unchecked: function(e) {
            return !e.checked
        }
    });
    l.validator = function(e, t) {
        this.settings = l.extend(true, {}, l.validator.defaults, e);
        this.currentForm = t;
        this.init()
    };
    l.validator.format = function(n, e) {
        if (arguments.length == 1) return function() {
            var e = l.makeArray(arguments);
            e.unshift(n);
            return l.validator.format.apply(this, e)
        };
        if (arguments.length > 2 && e.constructor != Array) {
            e = l.makeArray(arguments).slice(1)
        }
        if (e.constructor != Array) {
            e = [e]
        }
        l.each(e, function(e, t) {
            n = n.replace(new RegExp("\\{" + e + "\\}", "g"), t)
        });
        return n
    };
    l.extend(l.validator, {
        defaults: {
            messages: {},
            groups: {},
            rules: {},
            errorClass: "error",
            validClass: "valid",
            errorElement: "label",
            focusInvalid: true,
            errorContainer: l([]),
            errorLabelContainer: l([]),
            onsubmit: true,
            ignore: [],
            ignoreTitle: false,
            onfocusin: function(e) {
                this.lastActive = e;
                if (this.settings.focusCleanup && !this.blockFocusCleanup) {
                    this.settings.unhighlight && this.settings.unhighlight.call(this, e, this.settings.errorClass, this.settings.validClass);
                    this.addWrapper(this.errorsFor(e)).hide()
                }
            },
            onfocusout: function(e) {
                if (!this.checkable(e) && (e.name in this.submitted || !this.optional(e))) {
                    this.element(e)
                }
            },
            onkeyup: function(e) {
                if (e.name in this.submitted || e == this.lastElement) {
                    this.element(e)
                }
            },
            onclick: function(e) {
                if (e.name in this.submitted) this.element(e);
                else if (e.parentNode.name in this.submitted) this.element(e.parentNode)
            },
            highlight: function(e, t, n) {
                if (e.type === "radio") {
                    this.findByName(e.name).addClass(t).removeClass(n)
                } else {
                    l(e).addClass(t).removeClass(n)
                }
            },
            unhighlight: function(e, t, n) {
                if (e.type === "radio") {
                    this.findByName(e.name).removeClass(t).addClass(n)
                } else {
                    l(e).removeClass(t).addClass(n)
                }
            }
        },
        setDefaults: function(e) {
            l.extend(l.validator.defaults, e)
        },
        messages: {
            required: "This field is required.",
            remote: "Please fix this field.",
            email: "Please enter a valid email address.",
            url: "Please enter a valid URL.",
            date: "Please enter a valid date.",
            dateISO: "Please enter a valid date (ISO).",
            number: "Please enter a valid number.",
            digits: "Please enter only digits.",
            creditcard: "Please enter a valid credit card number.",
            equalTo: "Please enter the same value again.",
            accept: "Please enter a value with a valid extension.",
            maxlength: l.validator.format("Please enter no more than {0} characters."),
            minlength: l.validator.format("Please enter at least {0} characters."),
            rangelength: l.validator.format("Please enter a value between {0} and {1} characters long."),
            range: l.validator.format("Please enter a value between {0} and {1}."),
            max: l.validator.format("Please enter a value less than or equal to {0}."),
            min: l.validator.format("Please enter a value greater than or equal to {0}.")
        },
        autoCreateRanges: false,
        prototype: {
            init: function() {
                this.labelContainer = l(this.settings.errorLabelContainer);
                this.errorContext = this.labelContainer.length && this.labelContainer || l(this.currentForm);
                this.containers = l(this.settings.errorContainer).add(this.settings.errorLabelContainer);
                this.submitted = {};
                this.valueCache = {};
                this.pendingRequest = 0;
                this.pending = {};
                this.invalid = {};
                this.reset();
                var r = this.groups = {};
                l.each(this.settings.groups, function(n, e) {
                    l.each(e.split(/\s/), function(e, t) {
                        r[t] = n
                    })
                });
                var n = this.settings.rules;
                l.each(n, function(e, t) {
                    n[e] = l.validator.normalizeRule(t)
                });

                function e(e) {
                    var t = l.data(this[0].form, "validator"),
                        n = "on" + e.type.replace(/^validate/, "");
                    t.settings[n] && t.settings[n].call(t, this[0])
                }
                l(this.currentForm).validateDelegate(":text, :password, :file, select, textarea", "focusin focusout keyup", e).validateDelegate(":radio, :checkbox, select, option", "click", e);
                if (this.settings.invalidHandler) l(this.currentForm).bind("invalid-form.validate", this.settings.invalidHandler)
            },
            form: function() {
                this.checkForm();
                l.extend(this.submitted, this.errorMap);
                this.invalid = l.extend({}, this.errorMap);
                if (!this.valid()) l(this.currentForm).triggerHandler("invalid-form", [this]);
                this.showErrors();
                return this.valid()
            },
            checkForm: function() {
                this.prepareForm();
                for (var e = 0, t = this.currentElements = this.elements(); t[e]; e++) {
                    this.check(t[e])
                }
                return this.valid()
            },
            element: function(e) {
                e = this.clean(e);
                this.lastElement = e;
                this.prepareElement(e);
                this.currentElements = l(e);
                var t = this.check(e);
                if (t) {
                    delete this.invalid[e.name]
                } else {
                    this.invalid[e.name] = true
                }
                if (!this.numberOfInvalids()) {
                    this.toHide = this.toHide.add(this.containers)
                }
                this.showErrors();
                return t
            },
            showErrors: function(t) {
                if (t) {
                    l.extend(this.errorMap, t);
                    this.errorList = [];
                    for (var e in t) {
                        this.errorList.push({
                            message: t[e],
                            element: this.findByName(e)[0]
                        })
                    }
                    this.successList = l.grep(this.successList, function(e) {
                        return !(e.name in t)
                    })
                }
                this.settings.showErrors ? this.settings.showErrors.call(this, this.errorMap, this.errorList) : this.defaultShowErrors()
            },
            resetForm: function() {
                if (l.fn.resetForm) l(this.currentForm).resetForm();
                this.submitted = {};
                this.prepareForm();
                this.hideErrors();
                this.elements().removeClass(this.settings.errorClass)
            },
            numberOfInvalids: function() {
                return this.objectLength(this.invalid)
            },
            objectLength: function(e) {
                var t = 0;
                for (var n in e) t++;
                return t
            },
            hideErrors: function() {
                this.addWrapper(this.toHide).hide()
            },
            valid: function() {
                return this.size() == 0
            },
            size: function() {
                return this.errorList.length
            },
            focusInvalid: function() {
                if (this.settings.focusInvalid) {
                    try {
                        l(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(":visible").focus().trigger("focusin")
                    } catch (e) {}
                }
            },
            findLastActive: function() {
                var t = this.lastActive;
                return t && l.grep(this.errorList, function(e) {
                    return e.element.name == t.name
                }).length == 1 && t
            },
            elements: function() {
                var e = this,
                    t = {};
                return l(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function() {
                    !this.name && e.settings.debug && window.console && console.error("%o has no name assigned", this);
                    if (this.name in t || !e.objectLength(l(this).rules())) return false;
                    t[this.name] = true;
                    return true
                })
            },
            clean: function(e) {
                return l(e)[0]
            },
            errors: function() {
                return l(this.settings.errorElement + "." + this.settings.errorClass, this.errorContext)
            },
            reset: function() {
                this.successList = [];
                this.errorList = [];
                this.errorMap = {};
                this.toShow = l([]);
                this.toHide = l([]);
                this.currentElements = l([])
            },
            prepareForm: function() {
                this.reset();
                this.toHide = this.errors().add(this.containers)
            },
            prepareElement: function(e) {
                this.reset();
                this.toHide = this.errorsFor(e)
            },
            check: function(t) {
                t = this.clean(t);
                if (this.checkable(t)) {
                    t = this.findByName(t.name).not(this.settings.ignore)[0]
                }
                var e = l(t).rules();
                var n = false;
                for (var r in e) {
                    var i = {
                        method: r,
                        parameters: e[r]
                    };
                    try {
                        var o = l.validator.methods[r].call(this, t.value.replace(/\r/g, ""), t, i.parameters);
                        if (o == "dependency-mismatch") {
                            n = true;
                            continue
                        }
                        n = false;
                        if (o == "pending") {
                            this.toHide = this.toHide.not(this.errorsFor(t));
                            return
                        }
                        if (!o) {
                            this.formatAndAdd(t, i);
                            return false
                        }
                    } catch (e) {
                        this.settings.debug && window.console && console.log("exception occured when checking element " + t.id + ", check the '" + i.method + "' method", e);
                        throw e
                    }
                }
                if (n) return;
                if (this.objectLength(e)) this.successList.push(t);
                return true
            },
            customMetaMessage: function(e, t) {
                if (!l.metadata) return;
                var n = this.settings.meta ? l(e).metadata()[this.settings.meta] : l(e).metadata();
                return n && n.messages && n.messages[t]
            },
            customMessage: function(e, t) {
                var n = this.settings.messages[e];
                return n && (n.constructor == String ? n : n[t])
            },
            findDefined: function() {
                for (var e = 0; e < arguments.length; e++) {
                    if (arguments[e] !== undefined) return arguments[e]
                }
                return undefined
            },
            defaultMessage: function(e, t) {
                return this.findDefined(this.customMessage(e.name, t), this.customMetaMessage(e, t), !this.settings.ignoreTitle && e.title || undefined, l.validator.messages[t], "<strong>Warning: No message defined for " + e.name + "</strong>")
            },
            formatAndAdd: function(e, t) {
                var n = this.defaultMessage(e, t.method),
                    r = /\$?\{(\d+)\}/g;
                if (typeof n == "function") {
                    n = n.call(this, t.parameters, e)
                } else if (r.test(n)) {
                    n = jQuery.format(n.replace(r, "{$1}"), t.parameters)
                }
                this.errorList.push({
                    message: n,
                    element: e
                });
                this.errorMap[e.name] = n;
                this.submitted[e.name] = n
            },
            addWrapper: function(e) {
                if (this.settings.wrapper) e = e.add(e.parent(this.settings.wrapper));
                return e
            },
            defaultShowErrors: function() {
                for (var e = 0; this.errorList[e]; e++) {
                    var t = this.errorList[e];
                    this.settings.highlight && this.settings.highlight.call(this, t.element, this.settings.errorClass, this.settings.validClass);
                    this.showLabel(t.element, t.message)
                }
                if (this.errorList.length) {
                    this.toShow = this.toShow.add(this.containers)
                }
                if (this.settings.success) {
                    for (var e = 0; this.successList[e]; e++) {
                        this.showLabel(this.successList[e])
                    }
                }
                if (this.settings.unhighlight) {
                    for (var e = 0, n = this.validElements(); n[e]; e++) {
                        this.settings.unhighlight.call(this, n[e], this.settings.errorClass, this.settings.validClass)
                    }
                }
                this.toHide = this.toHide.not(this.toShow);
                this.hideErrors();
                this.addWrapper(this.toShow).show()
            },
            validElements: function() {
                return this.currentElements.not(this.invalidElements())
            },
            invalidElements: function() {
                return l(this.errorList).map(function() {
                    return this.element
                })
            },
            showLabel: function(e, t) {
                var n = this.errorsFor(e);
                if (n.length) {
                    n.removeClass().addClass(this.settings.errorClass);
                    n.attr("generated") && n.html(t)
                } else {
                    n = l("<" + this.settings.errorElement + "/>").attr({
                        for: this.idOrName(e),
                        generated: true
                    }).addClass(this.settings.errorClass).html(t || "");
                    if (this.settings.wrapper) {
                        n = n.hide().show().wrap("<" + this.settings.wrapper + "/>").parent()
                    }
                    if (!this.labelContainer.append(n).length) this.settings.errorPlacement ? this.settings.errorPlacement(n, l(e)) : n.insertAfter(e)
                }
                if (!t && this.settings.success) {
                    n.text("");
                    typeof this.settings.success == "string" ? n.addClass(this.settings.success) : this.settings.success(n)
                }
                this.toShow = this.toShow.add(n)
            },
            errorsFor: function(e) {
                var t = this.idOrName(e);
                return this.errors().filter(function() {
                    return l(this).attr("for") == t
                })
            },
            idOrName: function(e) {
                return this.groups[e.name] || (this.checkable(e) ? e.name : e.id || e.name)
            },
            checkable: function(e) {
                return /radio|checkbox/i.test(e.type)
            },
            findByName: function(n) {
                var r = this.currentForm;
                return l(document.getElementsByName(n)).map(function(e, t) {
                    return t.form == r && t.name == n && t || null
                })
            },
            getLength: function(e, t) {
                switch (t.nodeName.toLowerCase()) {
                    case "select":
                        return l("option:selected", t).length;
                    case "input":
                        if (this.checkable(t)) return this.findByName(t.name).filter(":checked").length
                }
                return e.length
            },
            depend: function(e, t) {
                return this.dependTypes[typeof e] ? this.dependTypes[typeof e](e, t) : true
            },
            dependTypes: {
                boolean: function(e, t) {
                    return e
                },
                string: function(e, t) {
                    return !!l(e, t.form).length
                },
                function: function(e, t) {
                    return e(t)
                }
            },
            optional: function(e) {
                return !l.validator.methods.required.call(this, l.trim(e.value), e) && "dependency-mismatch"
            },
            startRequest: function(e) {
                if (!this.pending[e.name]) {
                    this.pendingRequest++;
                    this.pending[e.name] = true
                }
            },
            stopRequest: function(e, t) {
                this.pendingRequest--;
                if (this.pendingRequest < 0) this.pendingRequest = 0;
                delete this.pending[e.name];
                if (t && this.pendingRequest == 0 && this.formSubmitted && this.form()) {
                    l(this.currentForm).submit();
                    this.formSubmitted = false
                } else if (!t && this.pendingRequest == 0 && this.formSubmitted) {
                    l(this.currentForm).triggerHandler("invalid-form", [this]);
                    this.formSubmitted = false
                }
            },
            previousValue: function(e) {
                return l.data(e, "previousValue") || l.data(e, "previousValue", {
                    old: null,
                    valid: true,
                    message: this.defaultMessage(e, "remote")
                })
            }
        },
        classRuleSettings: {
            required: {
                required: true
            },
            email: {
                email: true
            },
            url: {
                url: true
            },
            date: {
                date: true
            },
            dateISO: {
                dateISO: true
            },
            dateDE: {
                dateDE: true
            },
            number: {
                number: true
            },
            numberDE: {
                numberDE: true
            },
            digits: {
                digits: true
            },
            creditcard: {
                creditcard: true
            }
        },
        addClassRules: function(e, t) {
            e.constructor == String ? this.classRuleSettings[e] = t : l.extend(this.classRuleSettings, e)
        },
        classRules: function(e) {
            var t = {};
            var n = l(e).attr("class");
            n && l.each(n.split(" "), function() {
                if (this in l.validator.classRuleSettings) {
                    l.extend(t, l.validator.classRuleSettings[this])
                }
            });
            return t
        },
        attributeRules: function(e) {
            var t = {};
            var n = l(e);
            for (var r in l.validator.methods) {
                var i = n.attr(r);
                if (i) {
                    t[r] = i
                }
            }
            if (t.maxlength && /-1|2147483647|524288/.test(t.maxlength)) {
                delete t.maxlength
            }
            return t
        },
        metadataRules: function(e) {
            if (!l.metadata) return {};
            var t = l.data(e.form, "validator").settings.meta;
            return t ? l(e).metadata()[t] : l(e).metadata()
        },
        staticRules: function(e) {
            var t = {};
            var n = l.data(e.form, "validator");
            if (n.settings.rules) {
                t = l.validator.normalizeRule(n.settings.rules[e.name]) || {}
            }
            return t
        },
        normalizeRules: function(r, i) {
            l.each(r, function(e, t) {
                if (t === false) {
                    delete r[e];
                    return
                }
                if (t.param || t.depends) {
                    var n = true;
                    switch (typeof t.depends) {
                        case "string":
                            n = !!l(t.depends, i.form).length;
                            break;
                        case "function":
                            n = t.depends.call(i, i);
                            break
                    }
                    if (n) {
                        r[e] = t.param !== undefined ? t.param : true
                    } else {
                        delete r[e]
                    }
                }
            });
            l.each(r, function(e, t) {
                r[e] = l.isFunction(t) ? t(i) : t
            });
            l.each(["minlength", "maxlength", "min", "max"], function() {
                if (r[this]) {
                    r[this] = Number(r[this])
                }
            });
            l.each(["rangelength", "range"], function() {
                if (r[this]) {
                    r[this] = [Number(r[this][0]), Number(r[this][1])]
                }
            });
            if (l.validator.autoCreateRanges) {
                if (r.min && r.max) {
                    r.range = [r.min, r.max];
                    delete r.min;
                    delete r.max
                }
                if (r.minlength && r.maxlength) {
                    r.rangelength = [r.minlength, r.maxlength];
                    delete r.minlength;
                    delete r.maxlength
                }
            }
            if (r.messages) {
                delete r.messages
            }
            return r
        },
        normalizeRule: function(e) {
            if (typeof e == "string") {
                var t = {};
                l.each(e.split(/\s/), function() {
                    t[this] = true
                });
                e = t
            }
            return e
        },
        addMethod: function(e, t, n) {
            l.validator.methods[e] = t;
            l.validator.messages[e] = n != undefined ? n : l.validator.messages[e];
            if (t.length < 3) {
                l.validator.addClassRules(e, l.validator.normalizeRule(e))
            }
        },
        methods: {
            required: function(e, t, n) {
                if (!this.depend(n, t)) return "dependency-mismatch";
                switch (t.nodeName.toLowerCase()) {
                    case "select":
                        var r = l(t).val();
                        return r && r.length > 0;
                    case "input":
                        if (this.checkable(t)) return this.getLength(e, t) > 0;
                    default:
                        return l.trim(e).length > 0
                }
            },
            remote: function(o, a, e) {
                if (this.optional(a)) return "dependency-mismatch";
                var u = this.previousValue(a);
                if (!this.settings.messages[a.name]) this.settings.messages[a.name] = {};
                u.originalMessage = this.settings.messages[a.name].remote;
                this.settings.messages[a.name].remote = u.message;
                e = typeof e == "string" && {
                    url: e
                } || e;
                if (this.pending[a.name]) {
                    return "pending"
                }
                if (u.old === o) {
                    return u.valid
                }
                u.old = o;
                var s = this;
                this.startRequest(a);
                var t = {};
                t[a.name] = o;
                l.ajax(l.extend(true, {
                    url: e,
                    mode: "abort",
                    port: "validate" + a.name,
                    dataType: "json",
                    data: t,
                    success: function(e) {
                        s.settings.messages[a.name].remote = u.originalMessage;
                        var t = e === true;
                        if (t) {
                            var n = s.formSubmitted;
                            s.prepareElement(a);
                            s.formSubmitted = n;
                            s.successList.push(a);
                            s.showErrors()
                        } else {
                            var r = {};
                            var i = e || s.defaultMessage(a, "remote");
                            r[a.name] = u.message = l.isFunction(i) ? i(o) : i;
                            s.showErrors(r)
                        }
                        u.valid = t;
                        s.stopRequest(a, t)
                    }
                }, e));
                return "pending"
            },
            minlength: function(e, t, n) {
                return this.optional(t) || this.getLength(l.trim(e), t) >= n
            },
            maxlength: function(e, t, n) {
                return this.optional(t) || this.getLength(l.trim(e), t) <= n
            },
            rangelength: function(e, t, n) {
                var r = this.getLength(l.trim(e), t);
                return this.optional(t) || r >= n[0] && r <= n[1]
            },
            min: function(e, t, n) {
                return this.optional(t) || e >= n
            },
            max: function(e, t, n) {
                return this.optional(t) || e <= n
            },
            range: function(e, t, n) {
                return this.optional(t) || e >= n[0] && e <= n[1]
            },
            email: function(e, t) {
                return this.optional(t) || /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)
            },
            url: function(e, t) {
                return this.optional(t) || /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)
            },
            date: function(e, t) {
                return this.optional(t) || !/Invalid|NaN/.test(new Date(e))
            },
            dateISO: function(e, t) {
                return this.optional(t) || /^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)
            },
            number: function(e, t) {
                return this.optional(t) || /^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(e)
            },
            digits: function(e, t) {
                return this.optional(t) || /^\d+$/.test(e)
            },
            creditcard: function(e, t) {
                if (this.optional(t)) return "dependency-mismatch";
                if (/[^0-9-]+/.test(e)) return false;
                var n = 0,
                    r = 0,
                    i = false;
                e = e.replace(/\D/g, "");
                for (var o = e.length - 1; o >= 0; o--) {
                    var a = e.charAt(o);
                    var r = parseInt(a, 10);
                    if (i) {
                        if ((r *= 2) > 9) r -= 9
                    }
                    n += r;
                    i = !i
                }
                return n % 10 == 0
            },
            accept: function(e, t, n) {
                n = typeof n == "string" ? n.replace(/,/g, "|") : "png|jpe?g|gif";
                return this.optional(t) || e.match(new RegExp(".(" + n + ")$", "i"))
            },
            equalTo: function(e, t, n) {
                var r = l(n).unbind(".validate-equalTo").bind("blur.validate-equalTo", function() {
                    l(t).valid()
                });
                return e == r.val()
            }
        }
    });
    l.format = l.validator.format
})(jQuery);
(function(r) {
    var i = {};
    if (r.ajaxPrefilter) {
        r.ajaxPrefilter(function(e, t, n) {
            var r = e.port;
            if (e.mode == "abort") {
                if (i[r]) {
                    i[r].abort()
                }
                i[r] = n
            }
        })
    } else {
        var o = r.ajax;
        r.ajax = function(e) {
            var t = ("mode" in e ? e : r.ajaxSettings).mode,
                n = ("port" in e ? e : r.ajaxSettings).port;
            if (t == "abort") {
                if (i[n]) {
                    i[n].abort()
                }
                return i[n] = o.apply(this, arguments)
            }
            return o.apply(this, arguments)
        }
    }
})(jQuery);
(function(i) {
    if (!jQuery.event.special.focusin && !jQuery.event.special.focusout && document.addEventListener) {
        i.each({
            focus: "focusin",
            blur: "focusout"
        }, function(e, t) {
            i.event.special[t] = {
                setup: function() {
                    this.addEventListener(e, n, true)
                },
                teardown: function() {
                    this.removeEventListener(e, n, true)
                },
                handler: function(e) {
                    arguments[0] = i.event.fix(e);
                    arguments[0].type = t;
                    return i.event.handle.apply(this, arguments)
                }
            };

            function n(e) {
                e = i.event.fix(e);
                e.type = t;
                return i.event.handle.call(this, e)
            }
        })
    }
    i.extend(i.fn, {
        validateDelegate: function(n, e, r) {
            return this.bind(e, function(e) {
                var t = i(e.target);
                if (t.is(n)) {
                    return r.apply(t, arguments)
                }
            })
        }
    })
})(jQuery);
(function(e) {
    if (typeof bootstrap === "function") {
        bootstrap("promise", e)
    } else if (typeof exports === "object" && typeof module === "object") {
        module.exports = e()
    } else if (typeof define === "function" && define.amd) {
        define(e)
    } else if (typeof ses !== "undefined") {
        if (!ses.ok()) {
            return
        } else {
            ses.makeQ = e
        }
    } else {
        Q = e()
    }
})(function() {
    "use strict";
    var u = false;
    try {
        throw new Error
    } catch (e) {
        u = !!e.stack
    }
    var i = k();
    var o;
    var t = function() {};
    var f = function() {
        var n = {
            task: void 0,
            next: null
        };
        var t = n;
        var r = false;
        var i = void 0;
        var o = false;

        function a() {
            while (n.next) {
                n = n.next;
                var e = n.task;
                n.task = void 0;
                var t = n.domain;
                if (t) {
                    n.domain = void 0;
                    t.enter()
                }
                try {
                    e()
                } catch (e) {
                    if (o) {
                        if (t) {
                            t.exit()
                        }
                        setTimeout(a, 0);
                        if (t) {
                            t.enter()
                        }
                        throw e
                    } else {
                        setTimeout(function() {
                            throw e
                        }, 0)
                    }
                }
                if (t) {
                    t.exit()
                }
            }
            r = false
        }
        f = function(e) {
            t = t.next = {
                task: e,
                domain: o && process.domain,
                next: null
            };
            if (!r) {
                r = true;
                i()
            }
        };
        if (typeof process !== "undefined" && process.nextTick) {
            o = true;
            i = function() {
                process.nextTick(a)
            }
        } else if (typeof setImmediate === "function") {
            if (typeof window !== "undefined") {
                i = setImmediate.bind(window, a)
            } else {
                i = function() {
                    setImmediate(a)
                }
            }
        } else if (typeof MessageChannel !== "undefined") {
            var e = new MessageChannel;
            e.port1.onmessage = function() {
                i = u;
                e.port1.onmessage = a;
                a()
            };
            var u = function() {
                e.port2.postMessage(0)
            };
            i = function() {
                setTimeout(a, 0);
                u()
            }
        } else {
            i = function() {
                setTimeout(a, 0)
            }
        }
        return f
    }();
    var n = Function.call;

    function e(e) {
        return function() {
            return n.apply(e, arguments)
        }
    }
    var s = e(Array.prototype.slice);
    var l = e(Array.prototype.reduce || function(e, t) {
        var n = 0,
            r = this.length;
        if (arguments.length === 1) {
            do {
                if (n in this) {
                    t = this[n++];
                    break
                }
                if (++n >= r) {
                    throw new TypeError
                }
            } while (1)
        }
        for (; n < r; n++) {
            if (n in this) {
                t = e(t, this[n], n)
            }
        }
        return t
    });
    var r = e(Array.prototype.indexOf || function(e) {
        for (var t = 0; t < this.length; t++) {
            if (this[t] === e) {
                return t
            }
        }
        return -1
    });
    var a = e(Array.prototype.map || function(r, i) {
        var o = this;
        var a = [];
        l(o, function(e, t, n) {
            a.push(r.call(i, t, n, o))
        }, void 0);
        return a
    });
    var c = Object.create || function(e) {
        function t() {}
        t.prototype = e;
        return new t
    };
    var d = e(Object.prototype.hasOwnProperty);
    var p = Object.keys || function(e) {
        var t = [];
        for (var n in e) {
            if (d(e, n)) {
                t.push(n)
            }
        }
        return t
    };
    var h = e(Object.prototype.toString);

    function m(e) {
        return e === Object(e)
    }

    function g(e) {
        return h(e) === "[object StopIteration]" || e instanceof v
    }
    var v;
    if (typeof ReturnValue !== "undefined") {
        v = ReturnValue
    } else {
        v = function(e) {
            this.value = e
        }
    }
    var y = "From previous event:";

    function b(e, t) {
        if (u && t.stack && typeof e === "object" && e !== null && e.stack && e.stack.indexOf(y) === -1) {
            var n = [];
            for (var r = t; !!r; r = r.source) {
                if (r.stack) {
                    n.unshift(r.stack)
                }
            }
            n.unshift(e.stack);
            var i = n.join("\n" + y + "\n");
            e.stack = x(i)
        }
    }

    function x(e) {
        var t = e.split("\n");
        var n = [];
        for (var r = 0; r < t.length; ++r) {
            var i = t[r];
            if (!E(i) && !w(i) && i) {
                n.push(i)
            }
        }
        return n.join("\n")
    }

    function w(e) {
        return e.indexOf("(module.js:") !== -1 || e.indexOf("(node.js:") !== -1
    }

    function C(e) {
        var t = /at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);
        if (t) {
            return [t[1], Number(t[2])]
        }
        var n = /at ([^ ]+):(\d+):(?:\d+)$/.exec(e);
        if (n) {
            return [n[1], Number(n[2])]
        }
        var r = /.*@(.+):(\d+)$/.exec(e);
        if (r) {
            return [r[1], Number(r[2])]
        }
    }

    function E(e) {
        var t = C(e);
        if (!t) {
            return false
        }
        var n = t[0];
        var r = t[1];
        return n === o && r >= i && r <= oe
    }

    function k() {
        if (!u) {
            return
        }
        try {
            throw new Error
        } catch (e) {
            var t = e.stack.split("\n");
            var n = t[0].indexOf("@") > 0 ? t[1] : t[2];
            var r = C(n);
            if (!r) {
                return
            }
            o = r[0];
            return r[1]
        }
    }

    function S(e, t, n) {
        return function() {
            if (typeof console !== "undefined" && typeof console.warn === "function") {
                console.warn(t + " is deprecated, use " + n + " instead.", new Error("").stack)
            }
            return e.apply(e, arguments)
        }
    }

    function N(e) {
        if (e instanceof _) {
            return e
        }
        if (B(e)) {
            return W(e)
        } else {
            return V(e)
        }
    }
    N.resolve = N;
    N.nextTick = f;
    N.longStackSupport = false;
    N.defer = T;

    function T() {
        var i = [],
            o = [],
            a;
        var e = c(T.prototype);
        var t = c(_.prototype);
        t.promiseDispatch = function(e, t, n) {
            var r = s(arguments);
            if (i) {
                i.push(r);
                if (t === "when" && n[1]) {
                    o.push(n[1])
                }
            } else {
                f(function() {
                    a.promiseDispatch.apply(a, r)
                })
            }
        };
        t.valueOf = function() {
            if (i) {
                return t
            }
            var e = O(a);
            if (F(e)) {
                a = e
            }
            return e
        };
        t.inspect = function() {
            if (!a) {
                return {
                    state: "pending"
                }
            }
            return a.inspect()
        };
        if (N.longStackSupport && u) {
            try {
                throw new Error
            } catch (e) {
                t.stack = e.stack.substring(e.stack.indexOf("\n") + 1)
            }
        }

        function n(n) {
            a = n;
            t.source = n;
            l(i, function(e, t) {
                f(function() {
                    n.promiseDispatch.apply(n, t)
                })
            }, void 0);
            i = void 0;
            o = void 0
        }
        e.promise = t;
        e.resolve = function(e) {
            if (a) {
                return
            }
            n(N(e))
        };
        e.fulfill = function(e) {
            if (a) {
                return
            }
            n(V(e))
        };
        e.reject = function(e) {
            if (a) {
                return
            }
            n($(e))
        };
        e.notify = function(n) {
            if (a) {
                return
            }
            l(o, function(e, t) {
                f(function() {
                    t(n)
                })
            }, void 0)
        };
        return e
    }
    T.prototype.makeNodeResolver = function() {
        var n = this;
        return function(e, t) {
            if (e) {
                n.reject(e)
            } else if (arguments.length > 2) {
                n.resolve(s(arguments, 1))
            } else {
                n.resolve(t)
            }
        }
    };
    N.Promise = A;
    N.promise = A;

    function A(e) {
        if (typeof e !== "function") {
            throw new TypeError("resolver must be a function.")
        }
        var t = T();
        try {
            e(t.resolve, t.reject, t.notify)
        } catch (e) {
            t.reject(e)
        }
        return t.promise
    }
    A.race = D;
    A.all = ee;
    A.reject = $;
    A.resolve = N;
    N.passByCopy = function(e) {
        return e
    };
    _.prototype.passByCopy = function() {
        return this
    };
    N.join = function(e, t) {
        return N(e).join(t)
    };
    _.prototype.join = function(e) {
        return N([this, e]).spread(function(e, t) {
            if (e === t) {
                return e
            } else {
                throw new Error("Can't join: not the same: " + e + " " + t)
            }
        })
    };
    N.race = D;

    function D(i) {
        return A(function(e, t) {
            for (var n = 0, r = i.length; n < r; n++) {
                N(i[n]).then(e, t)
            }
        })
    }
    _.prototype.race = function() {
        return this.then(N.race)
    };
    N.makePromise = _;

    function _(i, o, t) {
        if (o === void 0) {
            o = function(e) {
                return $(new Error("Promise does not support operation: " + e))
            }
        }
        if (t === void 0) {
            t = function() {
                return {
                    state: "unknown"
                }
            }
        }
        var a = c(_.prototype);
        a.promiseDispatch = function(e, t, n) {
            var r;
            try {
                if (i[t]) {
                    r = i[t].apply(a, n)
                } else {
                    r = o.call(a, t, n)
                }
            } catch (e) {
                r = $(e)
            }
            if (e) {
                e(r)
            }
        };
        a.inspect = t;
        if (t) {
            var e = t();
            if (e.state === "rejected") {
                a.exception = e.reason
            }
            a.valueOf = function() {
                var e = t();
                if (e.state === "pending" || e.state === "rejected") {
                    return a
                }
                return e.value
            }
        }
        return a
    }
    _.prototype.toString = function() {
        return "[object Promise]"
    };
    _.prototype.then = function(t, n, r) {
        var i = this;
        var o = T();
        var a = false;

        function u(e) {
            try {
                return typeof t === "function" ? t(e) : e
            } catch (e) {
                return $(e)
            }
        }

        function s(e) {
            if (typeof n === "function") {
                b(e, i);
                try {
                    return n(e)
                } catch (e) {
                    return $(e)
                }
            }
            return $(e)
        }

        function l(e) {
            return typeof r === "function" ? r(e) : e
        }
        f(function() {
            i.promiseDispatch(function(e) {
                if (a) {
                    return
                }
                a = true;
                o.resolve(u(e))
            }, "when", [function(e) {
                if (a) {
                    return
                }
                a = true;
                o.resolve(s(e))
            }])
        });
        i.promiseDispatch(void 0, "when", [void 0, function(e) {
            var t;
            var n = false;
            try {
                t = l(e)
            } catch (e) {
                n = true;
                if (N.onerror) {
                    N.onerror(e)
                } else {
                    throw e
                }
            }
            if (!n) {
                o.notify(t)
            }
        }]);
        return o.promise
    };
    N.when = R;

    function R(e, t, n, r) {
        return N(e).then(t, n, r)
    }
    _.prototype.thenResolve = function(e) {
        return this.then(function() {
            return e
        })
    };
    N.thenResolve = function(e, t) {
        return N(e).thenResolve(t)
    };
    _.prototype.thenReject = function(e) {
        return this.then(function() {
            throw e
        })
    };
    N.thenReject = function(e, t) {
        return N(e).thenReject(t)
    };
    N.nearer = O;

    function O(e) {
        if (F(e)) {
            var t = e.inspect();
            if (t.state === "fulfilled") {
                return t.value
            }
        }
        return e
    }
    N.isPromise = F;

    function F(e) {
        return m(e) && typeof e.promiseDispatch === "function" && typeof e.inspect === "function"
    }
    N.isPromiseAlike = B;

    function B(e) {
        return m(e) && typeof e.then === "function"
    }
    N.isPending = P;

    function P(e) {
        return F(e) && e.inspect().state === "pending"
    }
    _.prototype.isPending = function() {
        return this.inspect().state === "pending"
    };
    N.isFulfilled = L;

    function L(e) {
        return !F(e) || e.inspect().state === "fulfilled"
    }
    _.prototype.isFulfilled = function() {
        return this.inspect().state === "fulfilled"
    };
    N.isRejected = I;

    function I(e) {
        return F(e) && e.inspect().state === "rejected"
    }
    _.prototype.isRejected = function() {
        return this.inspect().state === "rejected"
    };
    var j = [];
    var M = [];
    var q = true;

    function H() {
        j.length = 0;
        M.length = 0;
        if (!q) {
            q = true
        }
    }

    function z(e, t) {
        if (!q) {
            return
        }
        M.push(e);
        if (t && typeof t.stack !== "undefined") {
            j.push(t.stack)
        } else {
            j.push("(no stack) " + t)
        }
    }

    function U(e) {
        if (!q) {
            return
        }
        var t = r(M, e);
        if (t !== -1) {
            M.splice(t, 1);
            j.splice(t, 1)
        }
    }
    N.resetUnhandledRejections = H;
    N.getUnhandledReasons = function() {
        return j.slice()
    };
    N.stopUnhandledRejectionTracking = function() {
        H();
        q = false
    };
    H();
    N.reject = $;

    function $(t) {
        var e = _({
            when: function(e) {
                if (e) {
                    U(this)
                }
                return e ? e(t) : this
            }
        }, function e() {
            return this
        }, function e() {
            return {
                state: "rejected",
                reason: t
            }
        });
        z(e, t);
        return e
    }
    N.fulfill = V;

    function V(n) {
        return _({
            when: function() {
                return n
            },
            get: function(e) {
                return n[e]
            },
            set: function(e, t) {
                n[e] = t
            },
            delete: function(e) {
                delete n[e]
            },
            post: function(e, t) {
                if (e === null || e === void 0) {
                    return n.apply(void 0, t)
                } else {
                    return n[e].apply(n, t)
                }
            },
            apply: function(e, t) {
                return n.apply(e, t)
            },
            keys: function() {
                return p(n)
            }
        }, void 0, function e() {
            return {
                state: "fulfilled",
                value: n
            }
        })
    }

    function W(e) {
        var t = T();
        f(function() {
            try {
                e.then(t.resolve, t.reject, t.notify)
            } catch (e) {
                t.reject(e)
            }
        });
        return t.promise
    }
    N.master = X;

    function X(r) {
        return _({
            isDef: function() {}
        }, function e(t, n) {
            return Z(r, t, n)
        }, function() {
            return N(r).inspect()
        })
    }
    N.spread = K;

    function K(e, t, n) {
        return N(e).spread(t, n)
    }
    _.prototype.spread = function(t, e) {
        return this.all().then(function(e) {
            return t.apply(void 0, e)
        }, e)
    };
    N.async = Y;

    function Y(t) {
        return function() {
            function e(e, t) {
                var n;
                if (typeof StopIteration === "undefined") {
                    try {
                        n = r[e](t)
                    } catch (e) {
                        return $(e)
                    }
                    if (n.done) {
                        return N(n.value)
                    } else {
                        return R(n.value, i, o)
                    }
                } else {
                    try {
                        n = r[e](t)
                    } catch (e) {
                        if (g(e)) {
                            return N(e.value)
                        } else {
                            return $(e)
                        }
                    }
                    return R(n, i, o)
                }
            }
            var r = t.apply(this, arguments);
            var i = e.bind(e, "next");
            var o = e.bind(e, "throw");
            return i()
        }
    }
    N.spawn = G;

    function G(e) {
        N.done(N.async(e)())
    }
    N["return"] = Q;

    function Q(e) {
        throw new v(e)
    }
    N.promised = J;

    function J(n) {
        return function() {
            return K([this, ee(arguments)], function(e, t) {
                return n.apply(e, t)
            })
        }
    }
    N.dispatch = Z;

    function Z(e, t, n) {
        return N(e).dispatch(t, n)
    }
    _.prototype.dispatch = function(e, t) {
        var n = this;
        var r = T();
        f(function() {
            n.promiseDispatch(r.resolve, e, t)
        });
        return r.promise
    };
    N.get = function(e, t) {
        return N(e).dispatch("get", [t])
    };
    _.prototype.get = function(e) {
        return this.dispatch("get", [e])
    };
    N.set = function(e, t, n) {
        return N(e).dispatch("set", [t, n])
    };
    _.prototype.set = function(e, t) {
        return this.dispatch("set", [e, t])
    };
    N.del = N["delete"] = function(e, t) {
        return N(e).dispatch("delete", [t])
    };
    _.prototype.del = _.prototype["delete"] = function(e) {
        return this.dispatch("delete", [e])
    };
    N.mapply = N.post = function(e, t, n) {
        return N(e).dispatch("post", [t, n])
    };
    _.prototype.mapply = _.prototype.post = function(e, t) {
        return this.dispatch("post", [e, t])
    };
    N.send = N.mcall = N.invoke = function(e, t) {
        return N(e).dispatch("post", [t, s(arguments, 2)])
    };
    _.prototype.send = _.prototype.mcall = _.prototype.invoke = function(e) {
        return this.dispatch("post", [e, s(arguments, 1)])
    };
    N.fapply = function(e, t) {
        return N(e).dispatch("apply", [void 0, t])
    };
    _.prototype.fapply = function(e) {
        return this.dispatch("apply", [void 0, e])
    };
    N["try"] = N.fcall = function(e) {
        return N(e).dispatch("apply", [void 0, s(arguments, 1)])
    };
    _.prototype.fcall = function() {
        return this.dispatch("apply", [void 0, s(arguments)])
    };
    N.fbind = function(e) {
        var t = N(e);
        var n = s(arguments, 1);
        return function e() {
            return t.dispatch("apply", [this, n.concat(s(arguments))])
        }
    };
    _.prototype.fbind = function() {
        var t = this;
        var n = s(arguments);
        return function e() {
            return t.dispatch("apply", [this, n.concat(s(arguments))])
        }
    };
    N.keys = function(e) {
        return N(e).dispatch("keys", [])
    };
    _.prototype.keys = function() {
        return this.dispatch("keys", [])
    };
    N.all = ee;

    function ee(e) {
        return R(e, function(i) {
            var o = 0;
            var a = T();
            l(i, function(e, t, n) {
                var r;
                if (F(t) && (r = t.inspect()).state === "fulfilled") {
                    i[n] = r.value
                } else {
                    ++o;
                    R(t, function(e) {
                        i[n] = e;
                        if (--o === 0) {
                            a.resolve(i)
                        }
                    }, a.reject, function(e) {
                        a.notify({
                            index: n,
                            value: e
                        })
                    })
                }
            }, void 0);
            if (o === 0) {
                a.resolve(i)
            }
            return a.promise
        })
    }
    _.prototype.all = function() {
        return ee(this)
    };
    N.allResolved = S(te, "allResolved", "allSettled");

    function te(e) {
        return R(e, function(e) {
            e = a(e, N);
            return R(ee(a(e, function(e) {
                return R(e, t, t)
            })), function() {
                return e
            })
        })
    }
    _.prototype.allResolved = function() {
        return te(this)
    };
    N.allSettled = ne;

    function ne(e) {
        return N(e).allSettled()
    }
    _.prototype.allSettled = function() {
        return this.then(function(e) {
            return ee(a(e, function(e) {
                e = N(e);

                function t() {
                    return e.inspect()
                }
                return e.then(t, t)
            }))
        })
    };
    N.fail = N["catch"] = function(e, t) {
        return N(e).then(void 0, t)
    };
    _.prototype.fail = _.prototype["catch"] = function(e) {
        return this.then(void 0, e)
    };
    N.progress = re;

    function re(e, t) {
        return N(e).then(void 0, void 0, t)
    }
    _.prototype.progress = function(e) {
        return this.then(void 0, void 0, e)
    };
    N.fin = N["finally"] = function(e, t) {
        return N(e)["finally"](t)
    };
    _.prototype.fin = _.prototype["finally"] = function(t) {
        t = N(t);
        return this.then(function(e) {
            return t.fcall().then(function() {
                return e
            })
        }, function(e) {
            return t.fcall().then(function() {
                throw e
            })
        })
    };
    N.done = function(e, t, n, r) {
        return N(e).done(t, n, r)
    };
    _.prototype.done = function(e, t, n) {
        var r = function(e) {
            f(function() {
                b(e, i);
                if (N.onerror) {
                    N.onerror(e)
                } else {
                    throw e
                }
            })
        };
        var i = e || t || n ? this.then(e, t, n) : this;
        if (typeof process === "object" && process && process.domain) {
            r = process.domain.bind(r)
        }
        i.then(void 0, r)
    };
    N.timeout = function(e, t, n) {
        return N(e).timeout(t, n)
    };
    _.prototype.timeout = function(e, t) {
        var n = T();
        var r = setTimeout(function() {
            if (!t || "string" === typeof t) {
                t = new Error(t || "Timed out after " + e + " ms");
                t.code = "ETIMEDOUT"
            }
            n.reject(t)
        }, e);
        this.then(function(e) {
            clearTimeout(r);
            n.resolve(e)
        }, function(e) {
            clearTimeout(r);
            n.reject(e)
        }, n.notify);
        return n.promise
    };
    N.delay = function(e, t) {
        if (t === void 0) {
            t = e;
            e = void 0
        }
        return N(e).delay(t)
    };
    _.prototype.delay = function(n) {
        return this.then(function(e) {
            var t = T();
            setTimeout(function() {
                t.resolve(e)
            }, n);
            return t.promise
        })
    };
    N.nfapply = function(e, t) {
        return N(e).nfapply(t)
    };
    _.prototype.nfapply = function(e) {
        var t = T();
        var n = s(e);
        n.push(t.makeNodeResolver());
        this.fapply(n).fail(t.reject);
        return t.promise
    };
    N.nfcall = function(e) {
        var t = s(arguments, 1);
        return N(e).nfapply(t)
    };
    _.prototype.nfcall = function() {
        var e = s(arguments);
        var t = T();
        e.push(t.makeNodeResolver());
        this.fapply(e).fail(t.reject);
        return t.promise
    };
    N.nfbind = N.denodeify = function(n) {
        var r = s(arguments, 1);
        return function() {
            var e = r.concat(s(arguments));
            var t = T();
            e.push(t.makeNodeResolver());
            N(n).fapply(e).fail(t.reject);
            return t.promise
        }
    };
    _.prototype.nfbind = _.prototype.denodeify = function() {
        var e = s(arguments);
        e.unshift(this);
        return N.denodeify.apply(void 0, e)
    };
    N.nbind = function(r, i) {
        var o = s(arguments, 2);
        return function() {
            var e = o.concat(s(arguments));
            var t = T();
            e.push(t.makeNodeResolver());

            function n() {
                return r.apply(i, arguments)
            }
            N(n).fapply(e).fail(t.reject);
            return t.promise
        }
    };
    _.prototype.nbind = function() {
        var e = s(arguments, 0);
        e.unshift(this);
        return N.nbind.apply(void 0, e)
    };
    N.nmapply = N.npost = function(e, t, n) {
        return N(e).npost(t, n)
    };
    _.prototype.nmapply = _.prototype.npost = function(e, t) {
        var n = s(t || []);
        var r = T();
        n.push(r.makeNodeResolver());
        this.dispatch("post", [e, n]).fail(r.reject);
        return r.promise
    };
    N.nsend = N.nmcall = N.ninvoke = function(e, t) {
        var n = s(arguments, 2);
        var r = T();
        n.push(r.makeNodeResolver());
        N(e).dispatch("post", [t, n]).fail(r.reject);
        return r.promise
    };
    _.prototype.nsend = _.prototype.nmcall = _.prototype.ninvoke = function(e) {
        var t = s(arguments, 1);
        var n = T();
        t.push(n.makeNodeResolver());
        this.dispatch("post", [e, t]).fail(n.reject);
        return n.promise
    };
    N.nodeify = ie;

    function ie(e, t) {
        return N(e).nodeify(t)
    }
    _.prototype.nodeify = function(t) {
        if (t) {
            this.then(function(e) {
                f(function() {
                    t(null, e)
                })
            }, function(e) {
                f(function() {
                    t(e)
                })
            })
        } else {
            return this
        }
    };
    var oe = k();
    return N
});
(function() {
    var Nn;
    var t = [],
        n = [];
    var Tn = 0;
    var An = +new Date + "";
    var Dn = 75;
    var r = 40;
    var _n = " \t\v\fÂ \ufeff" + "\n\r\u2028\u2029" + "áá ââââââââââââ¯âã";
    var Rn = /\b__p \+= '';/g,
        On = /\b(__p \+=) '' \+/g,
        Fn = /(__e\(.*?\)|\b__t\)) \+\n'';/g;
    var Bn = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;
    var Pn = /\w*$/;
    var Ln = /^\s*function[ \n\r\t]+\w/;
    var In = /<%=([\s\S]+?)%>/g;
    var jn = RegExp("^[" + _n + "]*0+(?=.$)");
    var Mn = /($^)/;
    var qn = /\bthis\b/;
    var Hn = /['\n\r\t\u2028\u2029\\]/g;
    var zn = ["Array", "Boolean", "Date", "Function", "Math", "Number", "Object", "RegExp", "String", "_", "attachEvent", "clearTimeout", "isFinite", "isNaN", "parseInt", "setTimeout"];
    var Un = 0;
    var $n = "[object Arguments]",
        Vn = "[object Array]",
        Wn = "[object Boolean]",
        Xn = "[object Date]",
        Kn = "[object Function]",
        Yn = "[object Number]",
        Gn = "[object Object]",
        Qn = "[object RegExp]",
        Jn = "[object String]";
    var Zn = {};
    Zn[Kn] = false;
    Zn[$n] = Zn[Vn] = Zn[Wn] = Zn[Xn] = Zn[Yn] = Zn[Gn] = Zn[Qn] = Zn[Jn] = true;
    var er = {
        leading: false,
        maxWait: 0,
        trailing: false
    };
    var tr = {
        configurable: false,
        enumerable: false,
        value: null,
        writable: false
    };
    var nr = {
        boolean: false,
        function: true,
        object: true,
        number: false,
        string: false,
        undefined: false
    };
    var i = {
        "\\": "\\",
        "'": "'",
        "\n": "n",
        "\r": "r",
        "\t": "t",
        "\u2028": "u2028",
        "\u2029": "u2029"
    };
    var rr = nr[typeof window] && window || this;
    var e = nr[typeof exports] && exports && !exports.nodeType && exports;
    var o = nr[typeof module] && module && !module.nodeType && module;
    var a = o && o.exports === e && e;
    var u = nr[typeof global] && global;
    if (u && (u.global === u || u.window === u)) {
        rr = u
    }

    function ir(e, t, n) {
        var r = (n || 0) - 1,
            i = e ? e.length : 0;
        while (++r < i) {
            if (e[r] === t) {
                return r
            }
        }
        return -1
    }

    function or(e, t) {
        var n = typeof t;
        e = e.cache;
        if (n == "boolean" || t == null) {
            return e[t] ? 0 : -1
        }
        if (n != "number" && n != "string") {
            n = "object"
        }
        var r = n == "number" ? t : An + t;
        e = (e = e[n]) && e[r];
        return n == "object" ? e && ir(e, t) > -1 ? 0 : -1 : e ? 0 : -1
    }

    function s(e) {
        var t = this.cache,
            n = typeof e;
        if (n == "boolean" || e == null) {
            t[e] = true
        } else {
            if (n != "number" && n != "string") {
                n = "object"
            }
            var r = n == "number" ? e : An + e,
                i = t[n] || (t[n] = {});
            if (n == "object") {
                (i[r] || (i[r] = [])).push(e)
            } else {
                i[r] = true
            }
        }
    }

    function ar(e) {
        return e.charCodeAt(0)
    }

    function ur(e, t) {
        var n = e.criteria,
            r = t.criteria,
            i = -1,
            o = n.length;
        while (++i < o) {
            var a = n[i],
                u = r[i];
            if (a !== u) {
                if (a > u || typeof a == "undefined") {
                    return 1
                }
                if (a < u || typeof u == "undefined") {
                    return -1
                }
            }
        }
        return e.index - t.index
    }

    function sr(e) {
        var t = -1,
            n = e.length,
            r = e[0],
            i = e[n / 2 | 0],
            o = e[n - 1];
        if (r && typeof r == "object" && i && typeof i == "object" && o && typeof o == "object") {
            return false
        }
        var a = cr();
        a["false"] = a["null"] = a["true"] = a["undefined"] = false;
        var u = cr();
        u.array = e;
        u.cache = a;
        u.push = s;
        while (++t < n) {
            u.push(e[t])
        }
        return u
    }

    function lr(e) {
        return "\\" + i[e]
    }

    function fr() {
        return t.pop() || []
    }

    function cr() {
        return n.pop() || {
            array: null,
            cache: null,
            criteria: null,
            false: false,
            index: 0,
            null: false,
            number: null,
            object: null,
            push: null,
            string: null,
            true: false,
            undefined: false,
            value: null
        }
    }

    function dr(e) {
        e.length = 0;
        if (t.length < r) {
            t.push(e)
        }
    }

    function pr(e) {
        var t = e.cache;
        if (t) {
            pr(t)
        }
        e.array = e.cache = e.criteria = e.object = e.number = e.string = e.value = null;
        if (n.length < r) {
            n.push(e)
        }
    }

    function hr(e, t, n) {
        t || (t = 0);
        if (typeof n == "undefined") {
            n = e ? e.length : 0
        }
        var r = -1,
            i = n - t || 0,
            o = Array(i < 0 ? 0 : i);
        while (++r < i) {
            o[r] = e[t + r]
        }
        return o
    }

    function mr(r) {
        r = r ? gr.defaults(rr.Object(), r, gr.pick(rr, zn)) : rr;
        var s = r.Array,
            e = r.Boolean,
            t = r.Date,
            g = r.Function,
            n = r.Math,
            i = r.Number,
            o = r.Object,
            v = r.RegExp,
            w = r.String,
            y = r.TypeError;
        var a = [];
        var u = o.prototype;
        var l = r._;
        var C = u.toString;
        var f = v("^" + w(C).replace(/[.*+?^${}()|[\]\\]/g, "\\$&").replace(/toString| for [^\]]+/g, ".*?") + "$");
        var c = n.ceil,
            b = r.clearTimeout,
            d = n.floor,
            p = g.prototype.toString,
            h = te(h = o.getPrototypeOf) && h,
            E = u.hasOwnProperty,
            m = a.push,
            x = r.setTimeout,
            k = a.splice,
            S = a.unshift;
        var N = function() {
            try {
                var e = {},
                    t = te(t = o.defineProperty) && t,
                    n = t(e, e, e) && t
            } catch (e) {}
            return n
        }();
        var T = te(T = o.create) && T,
            A = te(A = s.isArray) && A,
            D = r.isFinite,
            _ = r.isNaN,
            R = te(R = o.keys) && R,
            O = n.max,
            F = n.min,
            B = r.parseInt,
            P = n.random;
        var L = {};
        L[Vn] = s;
        L[Wn] = e;
        L[Xn] = t;
        L[Kn] = g;
        L[Gn] = o;
        L[Yn] = i;
        L[Qn] = v;
        L[Jn] = w;

        function I(e) {
            return e && typeof e == "object" && !ae(e) && E.call(e, "__wrapped__") ? e : new j(e)
        }

        function j(e, t) {
            this.__chain__ = !!t;
            this.__wrapped__ = e
        }
        j.prototype = I.prototype;
        var M = I.support = {};
        M.funcDecomp = !te(r.WinRTError) && qn.test(mr);
        M.funcNames = typeof g.name == "string";
        I.templateSettings = {
            escape: /<%-([\s\S]+?)%>/g,
            evaluate: /<%([\s\S]+?)%>/g,
            interpolate: In,
            variable: "",
            imports: {
                _: I
            }
        };

        function q(e) {
            var r = e[0],
                i = e[2],
                o = e[4];

            function a() {
                if (i) {
                    var e = hr(i);
                    m.apply(e, arguments)
                }
                if (this instanceof a) {
                    var t = z(r.prototype),
                        n = r.apply(t, e || arguments);
                    return Be(n) ? n : t
                }
                return r.apply(o, e || arguments)
            }
            ne(a, e);
            return a
        }

        function H(e, n, r, i, o) {
            if (r) {
                var a = r(e);
                if (typeof a != "undefined") {
                    return a
                }
            }
            var t = Be(e);
            if (t) {
                var u = C.call(e);
                if (!Zn[u]) {
                    return e
                }
                var s = L[u];
                switch (u) {
                    case Wn:
                    case Xn:
                        return new s(+e);
                    case Yn:
                    case Jn:
                        return new s(e);
                    case Qn:
                        a = s(e.source, Pn.exec(e));
                        a.lastIndex = e.lastIndex;
                        return a
                }
            } else {
                return e
            }
            var l = ae(e);
            if (n) {
                var f = !i;
                i || (i = fr());
                o || (o = fr());
                var c = i.length;
                while (c--) {
                    if (i[c] == e) {
                        return o[c]
                    }
                }
                a = l ? s(e.length) : {}
            } else {
                a = l ? hr(e) : pe({}, e)
            }
            if (l) {
                if (E.call(e, "index")) {
                    a.index = e.index
                }
                if (E.call(e, "input")) {
                    a.input = e.input
                }
            }
            if (!n) {
                return a
            }
            i.push(e);
            o.push(a);
            (l ? nt : Ce)(e, function(e, t) {
                a[t] = H(e, n, r, i, o)
            });
            if (f) {
                dr(i);
                dr(o)
            }
            return a
        }

        function z(e, t) {
            return Be(e) ? T(e) : {}
        }
        if (!T) {
            z = function() {
                function n() {}
                return function(e) {
                    if (Be(e)) {
                        n.prototype = e;
                        var t = new n;
                        n.prototype = null
                    }
                    return t || r.Object()
                }
            }()
        }

        function U(i, o, e) {
            if (typeof i != "function") {
                return sn
            }
            if (typeof o == "undefined" || !("prototype" in i)) {
                return i
            }
            var t = i.__bindData__;
            if (typeof t == "undefined") {
                if (M.funcNames) {
                    t = !i.name
                }
                t = t || !M.funcDecomp;
                if (!t) {
                    var n = p.call(i);
                    if (!M.funcNames) {
                        t = !Ln.test(n)
                    }
                    if (!t) {
                        t = qn.test(n);
                        ne(i, t)
                    }
                }
            }
            if (t === false || t !== true && t[1] & 1) {
                return i
            }
            switch (e) {
                case 1:
                    return function(e) {
                        return i.call(o, e)
                    };
                case 2:
                    return function(e, t) {
                        return i.call(o, e, t)
                    };
                case 3:
                    return function(e, t, n) {
                        return i.call(o, e, t, n)
                    };
                case 4:
                    return function(e, t, n, r) {
                        return i.call(o, e, t, n, r)
                    }
            }
            return $t(i, o)
        }

        function $(e) {
            var r = e[0],
                i = e[1],
                o = e[2],
                a = e[3],
                u = e[4],
                s = e[5];
            var l = i & 1,
                f = i & 2,
                c = i & 4,
                d = i & 8,
                p = r;

            function h() {
                var e = l ? u : this;
                if (o) {
                    var t = hr(o);
                    m.apply(t, arguments)
                }
                if (a || c) {
                    t || (t = hr(arguments));
                    if (a) {
                        m.apply(t, a)
                    }
                    if (c && t.length < s) {
                        i |= 16 & ~32;
                        return $([r, d ? i : i & ~3, t, null, u, s])
                    }
                }
                t || (t = arguments);
                if (f) {
                    r = e[p]
                }
                if (this instanceof h) {
                    e = z(r.prototype);
                    var n = r.apply(e, t);
                    return Be(n) ? n : e
                }
                return r.apply(e, t)
            }
            ne(h, e);
            return h
        }

        function V(e, t) {
            var n = -1,
                r = ee(),
                i = e ? e.length : 0,
                o = i >= Dn && r === ir,
                a = [];
            if (o) {
                var u = sr(t);
                if (u) {
                    r = or;
                    t = u
                } else {
                    o = false
                }
            }
            while (++n < i) {
                var s = e[n];
                if (r(t, s) < 0) {
                    a.push(s)
                }
            }
            if (o) {
                pr(t)
            }
            return a
        }

        function W(e, t, n, r) {
            var i = (r || 0) - 1,
                o = e ? e.length : 0,
                a = [];
            while (++i < o) {
                var u = e[i];
                if (u && typeof u == "object" && typeof u.length == "number" && (ae(u) || oe(u))) {
                    if (!t) {
                        u = W(u, t, n)
                    }
                    var s = -1,
                        l = u.length,
                        f = a.length;
                    a.length += l;
                    while (++s < l) {
                        a[f++] = u[s]
                    }
                } else if (!n) {
                    a.push(u)
                }
            }
            return a
        }

        function X(r, e, i, o, a, u) {
            if (i) {
                var s = i(r, e);
                if (typeof s != "undefined") {
                    return !!s
                }
            }
            if (r === e) {
                return r !== 0 || 1 / r == 1 / e
            }
            var t = typeof r,
                n = typeof e;
            if (r === r && !(r && nr[t]) && !(e && nr[n])) {
                return false
            }
            if (r == null || e == null) {
                return r === e
            }
            var l = C.call(r),
                f = C.call(e);
            if (l == $n) {
                l = Gn
            }
            if (f == $n) {
                f = Gn
            }
            if (l != f) {
                return false
            }
            switch (l) {
                case Wn:
                case Xn:
                    return +r == +e;
                case Yn:
                    return r != +r ? e != +e : r == 0 ? 1 / r == 1 / e : r == +e;
                case Qn:
                case Jn:
                    return r == w(e)
            }
            var c = l == Vn;
            if (!c) {
                var d = E.call(r, "__wrapped__"),
                    p = E.call(e, "__wrapped__");
                if (d || p) {
                    return X(d ? r.__wrapped__ : r, p ? e.__wrapped__ : e, i, o, a, u)
                }
                if (l != Gn) {
                    return false
                }
                var h = r.constructor,
                    m = e.constructor;
                if (h != m && !(Fe(h) && h instanceof h && Fe(m) && m instanceof m) && ("constructor" in r && "constructor" in e)) {
                    return false
                }
            }
            var g = !a;
            a || (a = fr());
            u || (u = fr());
            var v = a.length;
            while (v--) {
                if (a[v] == r) {
                    return u[v] == e
                }
            }
            var y = 0;
            s = true;
            a.push(r);
            u.push(e);
            if (c) {
                v = r.length;
                y = e.length;
                s = y == v;
                if (s || o) {
                    while (y--) {
                        var b = v,
                            x = e[y];
                        if (o) {
                            while (b--) {
                                if (s = X(r[b], x, i, o, a, u)) {
                                    break
                                }
                            }
                        } else if (!(s = X(r[y], x, i, o, a, u))) {
                            break
                        }
                    }
                }
            } else {
                xe(e, function(e, t, n) {
                    if (E.call(n, t)) {
                        y++;
                        return s = E.call(r, t) && X(r[t], e, i, o, a, u)
                    }
                });
                if (s && !o) {
                    xe(r, function(e, t, n) {
                        if (E.call(n, t)) {
                            return s = --y > -1
                        }
                    })
                }
            }
            a.pop();
            u.pop();
            if (g) {
                dr(a);
                dr(u)
            }
            return s
        }

        function K(s, e, l, f, c) {
            (ae(e) ? nt : Ce)(e, function(e, t) {
                var n, r, i = e,
                    o = s[t];
                if (e && ((r = ae(e)) || je(e))) {
                    var a = f.length;
                    while (a--) {
                        if (n = f[a] == e) {
                            o = c[a];
                            break
                        }
                    }
                    if (!n) {
                        var u;
                        if (l) {
                            i = l(o, e);
                            if (u = typeof i != "undefined") {
                                o = i
                            }
                        }
                        if (!u) {
                            o = r ? ae(o) ? o : [] : je(o) ? o : {}
                        }
                        f.push(e);
                        c.push(o);
                        if (!u) {
                            K(o, e, l, f, c)
                        }
                    }
                } else {
                    if (l) {
                        i = l(o, e);
                        if (typeof i == "undefined") {
                            i = e
                        }
                    }
                    if (typeof i != "undefined") {
                        o = i
                    }
                }
                s[t] = o
            })
        }

        function Y(e, t) {
            return e + d(P() * (t - e + 1))
        }

        function G(e, t, n) {
            var r = -1,
                i = ee(),
                o = e ? e.length : 0,
                a = [];
            var u = !t && o >= Dn && i === ir,
                s = n || u ? fr() : a;
            if (u) {
                var l = sr(s);
                i = or;
                s = l
            }
            while (++r < o) {
                var f = e[r],
                    c = n ? n(f, r, e) : f;
                if (t ? !r || s[s.length - 1] !== c : i(s, c) < 0) {
                    if (n || u) {
                        s.push(c)
                    }
                    a.push(f)
                }
            }
            if (u) {
                dr(s.array);
                pr(s)
            } else if (n) {
                dr(s)
            }
            return a
        }

        function Q(u) {
            return function(e, r, t) {
                var i = {};
                r = I.createCallback(r, t, 3);
                var n = -1,
                    o = e ? e.length : 0;
                if (typeof o == "number") {
                    while (++n < o) {
                        var a = e[n];
                        u(i, a, r(a, n, e), e)
                    }
                } else {
                    Ce(e, function(e, t, n) {
                        u(i, e, r(e, t, n), n)
                    })
                }
                return i
            }
        }

        function J(e, t, n, r, i, o) {
            var a = t & 1,
                u = t & 2,
                s = t & 4,
                l = t & 8,
                f = t & 16,
                c = t & 32;
            if (!u && !Fe(e)) {
                throw new y
            }
            if (f && !n.length) {
                t &= ~16;
                f = n = false
            }
            if (c && !r.length) {
                t &= ~32;
                c = r = false
            }
            var d = e && e.__bindData__;
            if (d && d !== true) {
                d = hr(d);
                if (d[2]) {
                    d[2] = hr(d[2])
                }
                if (d[3]) {
                    d[3] = hr(d[3])
                }
                if (a && !(d[1] & 1)) {
                    d[4] = i
                }
                if (!a && d[1] & 1) {
                    t |= 8
                }
                if (s && !(d[1] & 4)) {
                    d[5] = o
                }
                if (f) {
                    m.apply(d[2] || (d[2] = []), n)
                }
                if (c) {
                    S.apply(d[3] || (d[3] = []), r)
                }
                d[1] |= t;
                return J.apply(null, d)
            }
            var p = t == 1 || t === 17 ? q : $;
            return p([e, t, n, r, i, o])
        }

        function Z(e) {
            return le[e]
        }

        function ee() {
            var e = (e = I.indexOf) === Tt ? ir : e;
            return e
        }

        function te(e) {
            return typeof e == "function" && f.test(e)
        }
        var ne = !N ? cn : function(e, t) {
            tr.value = t;
            N(e, "__bindData__", tr)
        };

        function re(e) {
            var t, n;
            if (!(e && C.call(e) == Gn) || (t = e.constructor, Fe(t) && !(t instanceof t))) {
                return false
            }
            xe(e, function(e, t) {
                n = t
            });
            return typeof n == "undefined" || E.call(e, n)
        }

        function ie(e) {
            return fe[e]
        }

        function oe(e) {
            return e && typeof e == "object" && typeof e.length == "number" && C.call(e) == $n || false
        }
        var ae = A || function(e) {
            return e && typeof e == "object" && typeof e.length == "number" && C.call(e) == Vn || false
        };
        var ue = function(e) {
            var t, n = e,
                r = [];
            if (!n) return r;
            if (!nr[typeof e]) return r;
            for (t in n) {
                if (E.call(n, t)) {
                    r.push(t)
                }
            }
            return r
        };
        var se = !R ? ue : function(e) {
            if (!Be(e)) {
                return []
            }
            return R(e)
        };
        var le = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;"
        };
        var fe = Ne(le);
        var ce = v("(" + se(fe).join("|") + ")", "g"),
            de = v("[" + se(le).join("") + "]", "g");
        var pe = function(e, t, n) {
            var r, i = e,
                o = i;
            if (!i) return o;
            var a = arguments,
                u = 0,
                s = typeof n == "number" ? 2 : a.length;
            if (s > 3 && typeof a[s - 2] == "function") {
                var l = U(a[--s - 1], a[s--], 2)
            } else if (s > 2 && typeof a[s - 1] == "function") {
                l = a[--s]
            }
            while (++u < s) {
                i = a[u];
                if (i && nr[typeof i]) {
                    var f = -1,
                        c = nr[typeof i] && se(i),
                        d = c ? c.length : 0;
                    while (++f < d) {
                        r = c[f];
                        o[r] = l ? l(o[r], i[r]) : i[r]
                    }
                }
            }
            return o
        };

        function he(e, t, n, r) {
            if (typeof t != "boolean" && t != null) {
                r = n;
                n = t;
                t = false
            }
            return H(e, t, typeof n == "function" && U(n, r, 1))
        }

        function me(e, t, n) {
            return H(e, true, typeof t == "function" && U(t, n, 1))
        }

        function ge(e, t) {
            var n = z(e);
            return t ? pe(n, t) : n
        }
        var ve = function(e, t, n) {
            var r, i = e,
                o = i;
            if (!i) return o;
            var a = arguments,
                u = 0,
                s = typeof n == "number" ? 2 : a.length;
            while (++u < s) {
                i = a[u];
                if (i && nr[typeof i]) {
                    var l = -1,
                        f = nr[typeof i] && se(i),
                        c = f ? f.length : 0;
                    while (++l < c) {
                        r = f[l];
                        if (typeof o[r] == "undefined") o[r] = i[r]
                    }
                }
            }
            return o
        };

        function ye(e, r, t) {
            var i;
            r = I.createCallback(r, t, 3);
            Ce(e, function(e, t, n) {
                if (r(e, t, n)) {
                    i = t;
                    return false
                }
            });
            return i
        }

        function be(e, r, t) {
            var i;
            r = I.createCallback(r, t, 3);
            Ee(e, function(e, t, n) {
                if (r(e, t, n)) {
                    i = t;
                    return false
                }
            });
            return i
        }
        var xe = function(e, t, n) {
            var r, i = e,
                o = i;
            if (!i) return o;
            if (!nr[typeof i]) return o;
            t = t && typeof n == "undefined" ? t : U(t, n, 3);
            for (r in i) {
                if (t(i[r], r, e) === false) return o
            }
            return o
        };

        function we(e, t, n) {
            var r = [];
            xe(e, function(e, t) {
                r.push(t, e)
            });
            var i = r.length;
            t = U(t, n, 3);
            while (i--) {
                if (t(r[i--], r[i], e) === false) {
                    break
                }
            }
            return e
        }
        var Ce = function(e, t, n) {
            var r, i = e,
                o = i;
            if (!i) return o;
            if (!nr[typeof i]) return o;
            t = t && typeof n == "undefined" ? t : U(t, n, 3);
            var a = -1,
                u = nr[typeof i] && se(i),
                s = u ? u.length : 0;
            while (++a < s) {
                r = u[a];
                if (t(i[r], r, e) === false) return o
            }
            return o
        };

        function Ee(e, t, n) {
            var r = se(e),
                i = r.length;
            t = U(t, n, 3);
            while (i--) {
                var o = r[i];
                if (t(e[o], o, e) === false) {
                    break
                }
            }
            return e
        }

        function ke(e) {
            var n = [];
            xe(e, function(e, t) {
                if (Fe(e)) {
                    n.push(t)
                }
            });
            return n.sort()
        }

        function Se(e, t) {
            return e ? E.call(e, t) : false
        }

        function Ne(e) {
            var t = -1,
                n = se(e),
                r = n.length,
                i = {};
            while (++t < r) {
                var o = n[t];
                i[e[o]] = o
            }
            return i
        }

        function Te(e) {
            return e === true || e === false || e && typeof e == "object" && C.call(e) == Wn || false
        }

        function Ae(e) {
            return e && typeof e == "object" && C.call(e) == Xn || false
        }

        function De(e) {
            return e && e.nodeType === 1 || false
        }

        function _e(e) {
            var t = true;
            if (!e) {
                return t
            }
            var n = C.call(e),
                r = e.length;
            if (n == Vn || n == Jn || n == $n || n == Gn && typeof r == "number" && Fe(e.splice)) {
                return !r
            }
            Ce(e, function() {
                return t = false
            });
            return t
        }

        function Re(e, t, n, r) {
            return X(e, t, typeof n == "function" && U(n, r, 2))
        }

        function Oe(e) {
            return D(e) && !_(parseFloat(e))
        }

        function Fe(e) {
            return typeof e == "function"
        }

        function Be(e) {
            return !!(e && nr[typeof e])
        }

        function Pe(e) {
            return Ie(e) && e != +e
        }

        function Le(e) {
            return e === null
        }

        function Ie(e) {
            return typeof e == "number" || e && typeof e == "object" && C.call(e) == Yn || false
        }
        var je = !h ? re : function(e) {
            if (!(e && C.call(e) == Gn)) {
                return false
            }
            var t = e.valueOf,
                n = te(t) && (n = h(t)) && h(n);
            return n ? e == n || h(e) == n : re(e)
        };

        function Me(e) {
            return e && typeof e == "object" && C.call(e) == Qn || false
        }

        function qe(e) {
            return typeof e == "string" || e && typeof e == "object" && C.call(e) == Jn || false
        }

        function He(e) {
            return typeof e == "undefined"
        }

        function ze(e, r, t) {
            var i = {};
            r = I.createCallback(r, t, 3);
            Ce(e, function(e, t, n) {
                i[t] = r(e, t, n)
            });
            return i
        }

        function Ue(e) {
            var t = arguments,
                n = 2;
            if (!Be(e)) {
                return e
            }
            if (typeof t[2] != "number") {
                n = t.length
            }
            if (n > 3 && typeof t[n - 2] == "function") {
                var r = U(t[--n - 1], t[n--], 2)
            } else if (n > 2 && typeof t[n - 1] == "function") {
                r = t[--n]
            }
            var i = hr(arguments, 1, n),
                o = -1,
                a = fr(),
                u = fr();
            while (++o < n) {
                K(e, i[o], r, a, u)
            }
            dr(a);
            dr(u);
            return e
        }

        function $e(e, r, t) {
            var i = {};
            if (typeof r != "function") {
                var n = [];
                xe(e, function(e, t) {
                    n.push(t)
                });
                n = V(n, W(arguments, true, false, 1));
                var o = -1,
                    a = n.length;
                while (++o < a) {
                    var u = n[o];
                    i[u] = e[u]
                }
            } else {
                r = I.createCallback(r, t, 3);
                xe(e, function(e, t, n) {
                    if (!r(e, t, n)) {
                        i[t] = e
                    }
                })
            }
            return i
        }

        function Ve(e) {
            var t = -1,
                n = se(e),
                r = n.length,
                i = s(r);
            while (++t < r) {
                var o = n[t];
                i[t] = [o, e[o]]
            }
            return i
        }

        function We(e, r, t) {
            var i = {};
            if (typeof r != "function") {
                var n = -1,
                    o = W(arguments, true, false, 1),
                    a = Be(e) ? o.length : 0;
                while (++n < a) {
                    var u = o[n];
                    if (u in e) {
                        i[u] = e[u]
                    }
                }
            } else {
                r = I.createCallback(r, t, 3);
                xe(e, function(e, t, n) {
                    if (r(e, t, n)) {
                        i[t] = e
                    }
                })
            }
            return i
        }

        function Xe(e, r, i, t) {
            var n = ae(e);
            if (i == null) {
                if (n) {
                    i = []
                } else {
                    var o = e && e.constructor,
                        a = o && o.prototype;
                    i = z(a)
                }
            }
            if (r) {
                r = I.createCallback(r, t, 4);
                (n ? nt : Ce)(e, function(e, t, n) {
                    return r(i, e, t, n)
                })
            }
            return i
        }

        function Ke(e) {
            var t = -1,
                n = se(e),
                r = n.length,
                i = s(r);
            while (++t < r) {
                i[t] = e[n[t]]
            }
            return i
        }

        function Ye(e) {
            var t = arguments,
                n = -1,
                r = W(t, true, false, 1),
                i = t[2] && t[2][t[1]] === e ? 1 : r.length,
                o = s(i);
            while (++n < i) {
                o[n] = e[r[n]]
            }
            return o
        }

        function Ge(e, t, n) {
            var r = -1,
                i = ee(),
                o = e ? e.length : 0,
                a = false;
            n = (n < 0 ? O(0, o + n) : n) || 0;
            if (ae(e)) {
                a = i(e, t, n) > -1
            } else if (typeof o == "number") {
                a = (qe(e) ? e.indexOf(t, n) : i(e, t, n)) > -1
            } else {
                Ce(e, function(e) {
                    if (++r >= n) {
                        return !(a = e === t)
                    }
                })
            }
            return a
        }
        var Qe = Q(function(e, t, n) {
            E.call(e, n) ? e[n]++ : e[n] = 1
        });

        function Je(e, r, t) {
            var i = true;
            r = I.createCallback(r, t, 3);
            var n = -1,
                o = e ? e.length : 0;
            if (typeof o == "number") {
                while (++n < o) {
                    if (!(i = !!r(e[n], n, e))) {
                        break
                    }
                }
            } else {
                Ce(e, function(e, t, n) {
                    return i = !!r(e, t, n)
                })
            }
            return i
        }

        function Ze(e, r, t) {
            var i = [];
            r = I.createCallback(r, t, 3);
            var n = -1,
                o = e ? e.length : 0;
            if (typeof o == "number") {
                while (++n < o) {
                    var a = e[n];
                    if (r(a, n, e)) {
                        i.push(a)
                    }
                }
            } else {
                Ce(e, function(e, t, n) {
                    if (r(e, t, n)) {
                        i.push(e)
                    }
                })
            }
            return i
        }

        function et(e, r, t) {
            r = I.createCallback(r, t, 3);
            var n = -1,
                i = e ? e.length : 0;
            if (typeof i == "number") {
                while (++n < i) {
                    var o = e[n];
                    if (r(o, n, e)) {
                        return o
                    }
                }
            } else {
                var a;
                Ce(e, function(e, t, n) {
                    if (r(e, t, n)) {
                        a = e;
                        return false
                    }
                });
                return a
            }
        }

        function tt(e, r, t) {
            var i;
            r = I.createCallback(r, t, 3);
            rt(e, function(e, t, n) {
                if (r(e, t, n)) {
                    i = e;
                    return false
                }
            });
            return i
        }

        function nt(e, t, n) {
            var r = -1,
                i = e ? e.length : 0;
            t = t && typeof n == "undefined" ? t : U(t, n, 3);
            if (typeof i == "number") {
                while (++r < i) {
                    if (t(e[r], r, e) === false) {
                        break
                    }
                }
            } else {
                Ce(e, t)
            }
            return e
        }

        function rt(e, r, t) {
            var i = e ? e.length : 0;
            r = r && typeof t == "undefined" ? r : U(r, t, 3);
            if (typeof i == "number") {
                while (i--) {
                    if (r(e[i], i, e) === false) {
                        break
                    }
                }
            } else {
                var o = se(e);
                i = o.length;
                Ce(e, function(e, t, n) {
                    t = o ? o[--i] : --i;
                    return r(n[t], t, n)
                })
            }
            return e
        }
        var it = Q(function(e, t, n) {
            (E.call(e, n) ? e[n] : e[n] = []).push(t)
        });
        var ot = Q(function(e, t, n) {
            e[n] = t
        });

        function at(e, t) {
            var n = hr(arguments, 2),
                r = -1,
                i = typeof t == "function",
                o = e ? e.length : 0,
                a = s(typeof o == "number" ? o : 0);
            nt(e, function(e) {
                a[++r] = (i ? t : e[t]).apply(e, n)
            });
            return a
        }

        function ut(e, r, t) {
            var i = -1,
                n = e ? e.length : 0;
            r = I.createCallback(r, t, 3);
            if (typeof n == "number") {
                var o = s(n);
                while (++i < n) {
                    o[i] = r(e[i], i, e)
                }
            } else {
                o = [];
                Ce(e, function(e, t, n) {
                    o[++i] = r(e, t, n)
                })
            }
            return o
        }

        function st(e, i, t) {
            var o = -Infinity,
                a = o;
            if (typeof i != "function" && t && t[i] === e) {
                i = null
            }
            if (i == null && ae(e)) {
                var n = -1,
                    r = e.length;
                while (++n < r) {
                    var u = e[n];
                    if (u > a) {
                        a = u
                    }
                }
            } else {
                i = i == null && qe(e) ? ar : I.createCallback(i, t, 3);
                nt(e, function(e, t, n) {
                    var r = i(e, t, n);
                    if (r > o) {
                        o = r;
                        a = e
                    }
                })
            }
            return a
        }

        function lt(e, i, t) {
            var o = Infinity,
                a = o;
            if (typeof i != "function" && t && t[i] === e) {
                i = null
            }
            if (i == null && ae(e)) {
                var n = -1,
                    r = e.length;
                while (++n < r) {
                    var u = e[n];
                    if (u < a) {
                        a = u
                    }
                }
            } else {
                i = i == null && qe(e) ? ar : I.createCallback(i, t, 3);
                nt(e, function(e, t, n) {
                    var r = i(e, t, n);
                    if (r < o) {
                        o = r;
                        a = e
                    }
                })
            }
            return a
        }
        var ft = ut;

        function ct(e, r, i, t) {
            if (!e) return i;
            var o = arguments.length < 3;
            r = I.createCallback(r, t, 4);
            var n = -1,
                a = e.length;
            if (typeof a == "number") {
                if (o) {
                    i = e[++n]
                }
                while (++n < a) {
                    i = r(i, e[n], n, e)
                }
            } else {
                Ce(e, function(e, t, n) {
                    i = o ? (o = false, e) : r(i, e, t, n)
                })
            }
            return i
        }

        function dt(e, r, i, t) {
            var o = arguments.length < 3;
            r = I.createCallback(r, t, 4);
            rt(e, function(e, t, n) {
                i = o ? (o = false, e) : r(i, e, t, n)
            });
            return i
        }

        function pt(e, r, t) {
            r = I.createCallback(r, t, 3);
            return Ze(e, function(e, t, n) {
                return !r(e, t, n)
            })
        }

        function ht(e, t, n) {
            if (e && typeof e.length != "number") {
                e = Ke(e)
            }
            if (t == null || n) {
                return e ? e[Y(0, e.length - 1)] : Nn
            }
            var r = mt(e);
            r.length = F(O(0, t), r.length);
            return r
        }

        function mt(e) {
            var n = -1,
                t = e ? e.length : 0,
                r = s(typeof t == "number" ? t : 0);
            nt(e, function(e) {
                var t = Y(0, ++n);
                r[n] = r[t];
                r[t] = e
            });
            return r
        }

        function gt(e) {
            var t = e ? e.length : 0;
            return typeof t == "number" ? t : se(e).length
        }

        function vt(e, r, t) {
            var i;
            r = I.createCallback(r, t, 3);
            var n = -1,
                o = e ? e.length : 0;
            if (typeof o == "number") {
                while (++n < o) {
                    if (i = r(e[n], n, e)) {
                        break
                    }
                }
            } else {
                Ce(e, function(e, t, n) {
                    return !(i = r(e, t, n))
                })
            }
            return !!i
        }

        function yt(e, i, t) {
            var o = -1,
                a = ae(i),
                n = e ? e.length : 0,
                u = s(typeof n == "number" ? n : 0);
            if (!a) {
                i = I.createCallback(i, t, 3)
            }
            nt(e, function(t, e, n) {
                var r = u[++o] = cr();
                if (a) {
                    r.criteria = ut(i, function(e) {
                        return t[e]
                    })
                } else {
                    (r.criteria = fr())[0] = i(t, e, n)
                }
                r.index = o;
                r.value = t
            });
            n = u.length;
            u.sort(ur);
            while (n--) {
                var r = u[n];
                u[n] = r.value;
                if (!a) {
                    dr(r.criteria)
                }
                pr(r)
            }
            return u
        }

        function bt(e) {
            if (e && typeof e.length == "number") {
                return hr(e)
            }
            return Ke(e)
        }
        var xt = Ze;

        function wt(e) {
            var t = -1,
                n = e ? e.length : 0,
                r = [];
            while (++t < n) {
                var i = e[t];
                if (i) {
                    r.push(i)
                }
            }
            return r
        }

        function Ct(e) {
            return V(e, W(arguments, true, true, 1))
        }

        function Et(e, t, n) {
            var r = -1,
                i = e ? e.length : 0;
            t = I.createCallback(t, n, 3);
            while (++r < i) {
                if (t(e[r], r, e)) {
                    return r
                }
            }
            return -1
        }

        function kt(e, t, n) {
            var r = e ? e.length : 0;
            t = I.createCallback(t, n, 3);
            while (r--) {
                if (t(e[r], r, e)) {
                    return r
                }
            }
            return -1
        }

        function St(e, t, n) {
            var r = 0,
                i = e ? e.length : 0;
            if (typeof t != "number" && t != null) {
                var o = -1;
                t = I.createCallback(t, n, 3);
                while (++o < i && t(e[o], o, e)) {
                    r++
                }
            } else {
                r = t;
                if (r == null || n) {
                    return e ? e[0] : Nn
                }
            }
            return hr(e, 0, F(O(0, r), i))
        }

        function Nt(e, t, n, r) {
            if (typeof t != "boolean" && t != null) {
                r = n;
                n = typeof t != "function" && r && r[t] === e ? null : t;
                t = false
            }
            if (n != null) {
                e = ut(e, n, r)
            }
            return W(e, t)
        }

        function Tt(e, t, n) {
            if (typeof n == "number") {
                var r = e ? e.length : 0;
                n = n < 0 ? O(0, r + n) : n || 0
            } else if (n) {
                var i = Lt(e, t);
                return e[i] === t ? i : -1
            }
            return ir(e, t, n)
        }

        function At(e, t, n) {
            var r = 0,
                i = e ? e.length : 0;
            if (typeof t != "number" && t != null) {
                var o = i;
                t = I.createCallback(t, n, 3);
                while (o-- && t(e[o], o, e)) {
                    r++
                }
            } else {
                r = t == null || n ? 1 : t || r
            }
            return hr(e, 0, F(O(0, i - r), i))
        }

        function Dt() {
            var e = [],
                t = -1,
                n = arguments.length,
                r = fr(),
                i = ee(),
                o = i === ir,
                a = fr();
            while (++t < n) {
                var u = arguments[t];
                if (ae(u) || oe(u)) {
                    e.push(u);
                    r.push(o && u.length >= Dn && sr(t ? e[t] : a))
                }
            }
            var s = e[0],
                l = -1,
                f = s ? s.length : 0,
                c = [];
            e: while (++l < f) {
                var d = r[0];
                u = s[l];
                if ((d ? or(d, u) : i(a, u)) < 0) {
                    t = n;
                    (d || a).push(u);
                    while (--t) {
                        d = r[t];
                        if ((d ? or(d, u) : i(e[t], u)) < 0) {
                            continue e
                        }
                    }
                    c.push(u)
                }
            }
            while (n--) {
                d = r[n];
                if (d) {
                    pr(d)
                }
            }
            dr(r);
            dr(a);
            return c
        }

        function _t(e, t, n) {
            var r = 0,
                i = e ? e.length : 0;
            if (typeof t != "number" && t != null) {
                var o = i;
                t = I.createCallback(t, n, 3);
                while (o-- && t(e[o], o, e)) {
                    r++
                }
            } else {
                r = t;
                if (r == null || n) {
                    return e ? e[i - 1] : Nn
                }
            }
            return hr(e, O(0, i - r))
        }

        function Rt(e, t, n) {
            var r = e ? e.length : 0;
            if (typeof n == "number") {
                r = (n < 0 ? O(0, r + n) : F(n, r - 1)) + 1
            }
            while (r--) {
                if (e[r] === t) {
                    return r
                }
            }
            return -1
        }

        function Ot(e) {
            var t = arguments,
                n = 0,
                r = t.length,
                i = e ? e.length : 0;
            while (++n < r) {
                var o = -1,
                    a = t[n];
                while (++o < i) {
                    if (e[o] === a) {
                        k.call(e, o--, 1);
                        i--
                    }
                }
            }
            return e
        }

        function Ft(e, t, n) {
            e = +e || 0;
            n = typeof n == "number" ? n : +n || 1;
            if (t == null) {
                t = e;
                e = 0
            }
            var r = -1,
                i = O(0, c((t - e) / (n || 1))),
                o = s(i);
            while (++r < i) {
                o[r] = e;
                e += n
            }
            return o
        }

        function Bt(e, t, n) {
            var r = -1,
                i = e ? e.length : 0,
                o = [];
            t = I.createCallback(t, n, 3);
            while (++r < i) {
                var a = e[r];
                if (t(a, r, e)) {
                    o.push(a);
                    k.call(e, r--, 1);
                    i--
                }
            }
            return o
        }

        function Pt(e, t, n) {
            if (typeof t != "number" && t != null) {
                var r = 0,
                    i = -1,
                    o = e ? e.length : 0;
                t = I.createCallback(t, n, 3);
                while (++i < o && t(e[i], i, e)) {
                    r++
                }
            } else {
                r = t == null || n ? 1 : O(0, t)
            }
            return hr(e, r)
        }

        function Lt(e, t, n, r) {
            var i = 0,
                o = e ? e.length : i;
            n = n ? I.createCallback(n, r, 1) : sn;
            t = n(t);
            while (i < o) {
                var a = i + o >>> 1;
                n(e[a]) < t ? i = a + 1 : o = a
            }
            return i
        }

        function It() {
            return G(W(arguments, true, true))
        }

        function jt(e, t, n, r) {
            if (typeof t != "boolean" && t != null) {
                r = n;
                n = typeof t != "function" && r && r[t] === e ? null : t;
                t = false
            }
            if (n != null) {
                n = I.createCallback(n, r, 3)
            }
            return G(e, t, n)
        }

        function Mt(e) {
            return V(e, hr(arguments, 1))
        }

        function qt() {
            var e = -1,
                t = arguments.length;
            while (++e < t) {
                var n = arguments[e];
                if (ae(n) || oe(n)) {
                    var r = r ? G(V(r, n).concat(V(n, r))) : n
                }
            }
            return r || []
        }

        function Ht() {
            var e = arguments.length > 1 ? arguments : arguments[0],
                t = -1,
                n = e ? st(ft(e, "length")) : 0,
                r = s(n < 0 ? 0 : n);
            while (++t < n) {
                r[t] = ft(e, t)
            }
            return r
        }

        function zt(e, t) {
            var n = -1,
                r = e ? e.length : 0,
                i = {};
            if (!t && r && !ae(e[0])) {
                t = []
            }
            while (++n < r) {
                var o = e[n];
                if (t) {
                    i[o] = t[n]
                } else if (o) {
                    i[o[0]] = o[1]
                }
            }
            return i
        }

        function Ut(e, t) {
            if (!Fe(t)) {
                throw new y
            }
            return function() {
                if (--e < 1) {
                    return t.apply(this, arguments)
                }
            }
        }

        function $t(e, t) {
            return arguments.length > 2 ? J(e, 17, hr(arguments, 2), null, t) : J(e, 1, null, null, t)
        }

        function Vt(e) {
            var t = arguments.length > 1 ? W(arguments, true, false, 1) : ke(e),
                n = -1,
                r = t.length;
            while (++n < r) {
                var i = t[n];
                e[i] = J(e[i], 1, null, null, e)
            }
            return e
        }

        function Wt(e, t) {
            return arguments.length > 2 ? J(t, 19, hr(arguments, 2), null, e) : J(t, 3, null, null, e)
        }

        function Xt() {
            var n = arguments,
                e = n.length;
            while (e--) {
                if (!Fe(n[e])) {
                    throw new y
                }
            }
            return function() {
                var e = arguments,
                    t = n.length;
                while (t--) {
                    e = [n[t].apply(this, e)]
                }
                return e[0]
            }
        }

        function Kt(e, t) {
            t = typeof t == "number" ? t : +t || e.length;
            return J(e, 4, null, null, null, t)
        }

        function Yt(r, i, e) {
            var o, a, u, s, l, f, c, d = 0,
                p = false,
                h = true;
            if (!Fe(r)) {
                throw new y
            }
            i = O(0, i) || 0;
            if (e === true) {
                var m = true;
                h = false
            } else if (Be(e)) {
                m = e.leading;
                p = "maxWait" in e && (O(i, e.maxWait) || 0);
                h = "trailing" in e ? e.trailing : h
            }
            var g = function() {
                var e = i - (dn() - s);
                if (e <= 0) {
                    if (a) {
                        b(a)
                    }
                    var t = c;
                    a = f = c = Nn;
                    if (t) {
                        d = dn();
                        u = r.apply(l, o);
                        if (!f && !a) {
                            o = l = null
                        }
                    }
                } else {
                    f = x(g, e)
                }
            };
            var v = function() {
                if (f) {
                    b(f)
                }
                a = f = c = Nn;
                if (h || p !== i) {
                    d = dn();
                    u = r.apply(l, o);
                    if (!f && !a) {
                        o = l = null
                    }
                }
            };
            return function() {
                o = arguments;
                s = dn();
                l = this;
                c = h && (f || !m);
                if (p === false) {
                    var e = m && !f
                } else {
                    if (!a && !m) {
                        d = s
                    }
                    var t = p - (s - d),
                        n = t <= 0;
                    if (n) {
                        if (a) {
                            a = b(a)
                        }
                        d = s;
                        u = r.apply(l, o)
                    } else if (!a) {
                        a = x(v, t)
                    }
                }
                if (n && f) {
                    f = b(f)
                } else if (!f && i !== p) {
                    f = x(g, i)
                }
                if (e) {
                    n = true;
                    u = r.apply(l, o)
                }
                if (n && !f && !a) {
                    o = l = null
                }
                return u
            }
        }

        function Gt(e) {
            if (!Fe(e)) {
                throw new y
            }
            var t = hr(arguments, 1);
            return x(function() {
                e.apply(Nn, t)
            }, 1)
        }

        function Qt(e, t) {
            if (!Fe(e)) {
                throw new y
            }
            var n = hr(arguments, 2);
            return x(function() {
                e.apply(Nn, n)
            }, t)
        }

        function Jt(n, r) {
            if (!Fe(n)) {
                throw new y
            }
            var i = function() {
                var e = i.cache,
                    t = r ? r.apply(this, arguments) : An + arguments[0];
                return E.call(e, t) ? e[t] : e[t] = n.apply(this, arguments)
            };
            i.cache = {};
            return i
        }

        function Zt(e) {
            var t, n;
            if (!Fe(e)) {
                throw new y
            }
            return function() {
                if (t) {
                    return n
                }
                t = true;
                n = e.apply(this, arguments);
                e = null;
                return n
            }
        }

        function en(e) {
            return J(e, 16, hr(arguments, 1))
        }

        function tn(e) {
            return J(e, 32, null, hr(arguments, 1))
        }

        function nn(e, t, n) {
            var r = true,
                i = true;
            if (!Fe(e)) {
                throw new y
            }
            if (n === false) {
                r = false
            } else if (Be(n)) {
                r = "leading" in n ? n.leading : r;
                i = "trailing" in n ? n.trailing : i
            }
            er.leading = r;
            er.maxWait = t;
            er.trailing = i;
            return Yt(e, t, er)
        }

        function rn(e, t) {
            return J(t, 16, [e])
        }

        function on(e) {
            return function() {
                return e
            }
        }

        function an(r, e, t) {
            var n = typeof r;
            if (r == null || n == "function") {
                return U(r, e, t)
            }
            if (n != "object") {
                return hn(r)
            }
            var i = se(r),
                o = i[0],
                a = r[o];
            if (i.length == 1 && a === a && !Be(a)) {
                return function(e) {
                    var t = e[o];
                    return a === t && (a !== 0 || 1 / a == 1 / t)
                }
            }
            return function(e) {
                var t = i.length,
                    n = false;
                while (t--) {
                    if (!(n = X(e[i[t]], r[i[t]], null, true))) {
                        break
                    }
                }
                return n
            }
        }

        function un(e) {
            return e == null ? "" : w(e).replace(de, Z)
        }

        function sn(e) {
            return e
        }

        function ln(o, t, e) {
            var a = true,
                n = t && ke(t);
            if (!t || !e && !n.length) {
                if (e == null) {
                    e = t
                }
                u = j;
                t = o;
                o = I;
                n = ke(t)
            }
            if (e === false) {
                a = false
            } else if (Be(e) && "chain" in e) {
                a = e.chain
            }
            var u = o,
                r = Fe(u);
            nt(n, function(e) {
                var i = o[e] = t[e];
                if (r) {
                    u.prototype[e] = function() {
                        var e = this.__chain__,
                            t = this.__wrapped__,
                            n = [t];
                        m.apply(n, arguments);
                        var r = i.apply(o, n);
                        if (a || e) {
                            if (t === r && Be(r)) {
                                return this
                            }
                            r = new u(r);
                            r.__chain__ = e
                        }
                        return r
                    }
                }
            })
        }

        function fn() {
            r._ = l;
            return this
        }

        function cn() {}
        var dn = te(dn = t.now) && dn || function() {
            return (new t).getTime()
        };
        var pn = B(_n + "08") == 8 ? B : function(e, t) {
            return B(qe(e) ? e.replace(jn, "") : e, t || 0)
        };

        function hn(t) {
            return function(e) {
                return e[t]
            }
        }

        function mn(e, t, n) {
            var r = e == null,
                i = t == null;
            if (n == null) {
                if (typeof e == "boolean" && i) {
                    n = e;
                    e = 1
                } else if (!i && typeof t == "boolean") {
                    n = t;
                    i = true
                }
            }
            if (r && i) {
                t = 1
            }
            e = +e || 0;
            if (i) {
                t = e;
                e = 0
            } else {
                t = +t || 0
            }
            if (n || e % 1 || t % 1) {
                var o = P();
                return F(e + o * (t - e + parseFloat("1e-" + ((o + "").length - 1))), t)
            }
            return Y(e, t)
        }

        function gn(e, t) {
            if (e) {
                var n = e[t];
                return Fe(n) ? e[t]() : n
            }
        }

        function vn(a, e, t) {
            var n = I.templateSettings;
            a = w(a || "");
            t = ve({}, t, n);
            var r = ve({}, t.imports, n.imports),
                i = se(r),
                o = Ke(r);
            var u, s = 0,
                l = t.interpolate || Mn,
                f = "__p += '";
            var c = v((t.escape || Mn).source + "|" + l.source + "|" + (l === In ? Bn : Mn).source + "|" + (t.evaluate || Mn).source + "|$", "g");
            a.replace(c, function(e, t, n, r, i, o) {
                n || (n = r);
                f += a.slice(s, o).replace(Hn, lr);
                if (t) {
                    f += "' +\n__e(" + t + ") +\n'"
                }
                if (i) {
                    u = true;
                    f += "';\n" + i + ";\n__p += '"
                }
                if (n) {
                    f += "' +\n((__t = (" + n + ")) == null ? '' : __t) +\n'"
                }
                s = o + e.length;
                return e
            });
            f += "';\n";
            var d = t.variable,
                p = d;
            if (!p) {
                d = "obj";
                f = "with (" + d + ") {\n" + f + "\n}\n"
            }
            f = (u ? f.replace(Rn, "") : f).replace(On, "$1").replace(Fn, "$1;");
            f = "function(" + d + ") {\n" + (p ? "" : d + " || (" + d + " = {});\n") + "var __t, __p = '', __e = _.escape" + (u ? ", __j = Array.prototype.join;\n" + "function print() { __p += __j.call(arguments, '') }\n" : ";\n") + f + "return __p\n}";
            var h = "\n/*\n//# sourceURL=" + (t.sourceURL || "/lodash/template/source[" + Un++ + "]") + "\n*/";
            try {
                var m = g(i, "return " + f + h).apply(Nn, o)
            } catch (e) {
                e.source = f;
                throw e
            }
            if (e) {
                return m(e)
            }
            m.source = f;
            return m
        }

        function yn(e, t, n) {
            e = (e = +e) > -1 ? e : 0;
            var r = -1,
                i = s(e);
            t = U(t, n, 1);
            while (++r < e) {
                i[r] = t(r)
            }
            return i
        }

        function bn(e) {
            return e == null ? "" : w(e).replace(ce, ie)
        }

        function xn(e) {
            var t = ++Tn;
            return w(e == null ? "" : e) + t
        }

        function wn(e) {
            e = new j(e);
            e.__chain__ = true;
            return e
        }

        function Cn(e, t) {
            t(e);
            return e
        }

        function En() {
            this.__chain__ = true;
            return this
        }

        function kn() {
            return w(this.__wrapped__)
        }

        function Sn() {
            return this.__wrapped__
        }
        I.after = Ut;
        I.assign = pe;
        I.at = Ye;
        I.bind = $t;
        I.bindAll = Vt;
        I.bindKey = Wt;
        I.chain = wn;
        I.compact = wt;
        I.compose = Xt;
        I.constant = on;
        I.countBy = Qe;
        I.create = ge;
        I.createCallback = an;
        I.curry = Kt;
        I.debounce = Yt;
        I.defaults = ve;
        I.defer = Gt;
        I.delay = Qt;
        I.difference = Ct;
        I.filter = Ze;
        I.flatten = Nt;
        I.forEach = nt;
        I.forEachRight = rt;
        I.forIn = xe;
        I.forInRight = we;
        I.forOwn = Ce;
        I.forOwnRight = Ee;
        I.functions = ke;
        I.groupBy = it;
        I.indexBy = ot;
        I.initial = At;
        I.intersection = Dt;
        I.invert = Ne;
        I.invoke = at;
        I.keys = se;
        I.map = ut;
        I.mapValues = ze;
        I.max = st;
        I.memoize = Jt;
        I.merge = Ue;
        I.min = lt;
        I.omit = $e;
        I.once = Zt;
        I.pairs = Ve;
        I.partial = en;
        I.partialRight = tn;
        I.pick = We;
        I.pluck = ft;
        I.property = hn;
        I.pull = Ot;
        I.range = Ft;
        I.reject = pt;
        I.remove = Bt;
        I.rest = Pt;
        I.shuffle = mt;
        I.sortBy = yt;
        I.tap = Cn;
        I.throttle = nn;
        I.times = yn;
        I.toArray = bt;
        I.transform = Xe;
        I.union = It;
        I.uniq = jt;
        I.values = Ke;
        I.where = xt;
        I.without = Mt;
        I.wrap = rn;
        I.xor = qt;
        I.zip = Ht;
        I.zipObject = zt;
        I.collect = ut;
        I.drop = Pt;
        I.each = nt;
        I.eachRight = rt;
        I.extend = pe;
        I.methods = ke;
        I.object = zt;
        I.select = Ze;
        I.tail = Pt;
        I.unique = jt;
        I.unzip = Ht;
        ln(I);
        I.clone = he;
        I.cloneDeep = me;
        I.contains = Ge;
        I.escape = un;
        I.every = Je;
        I.find = et;
        I.findIndex = Et;
        I.findKey = ye;
        I.findLast = tt;
        I.findLastIndex = kt;
        I.findLastKey = be;
        I.has = Se;
        I.identity = sn;
        I.indexOf = Tt;
        I.isArguments = oe;
        I.isArray = ae;
        I.isBoolean = Te;
        I.isDate = Ae;
        I.isElement = De;
        I.isEmpty = _e;
        I.isEqual = Re;
        I.isFinite = Oe;
        I.isFunction = Fe;
        I.isNaN = Pe;
        I.isNull = Le;
        I.isNumber = Ie;
        I.isObject = Be;
        I.isPlainObject = je;
        I.isRegExp = Me;
        I.isString = qe;
        I.isUndefined = He;
        I.lastIndexOf = Rt;
        I.mixin = ln;
        I.noConflict = fn;
        I.noop = cn;
        I.now = dn;
        I.parseInt = pn;
        I.random = mn;
        I.reduce = ct;
        I.reduceRight = dt;
        I.result = gn;
        I.runInContext = mr;
        I.size = gt;
        I.some = vt;
        I.sortedIndex = Lt;
        I.template = vn;
        I.unescape = bn;
        I.uniqueId = xn;
        I.all = Je;
        I.any = vt;
        I.detect = et;
        I.findWhere = et;
        I.foldl = ct;
        I.foldr = dt;
        I.include = Ge;
        I.inject = ct;
        ln(function() {
            var n = {};
            Ce(I, function(e, t) {
                if (!I.prototype[t]) {
                    n[t] = e
                }
            });
            return n
        }(), false);
        I.first = St;
        I.last = _t;
        I.sample = ht;
        I.take = St;
        I.head = St;
        Ce(I, function(i, e) {
            var o = e !== "sample";
            if (!I.prototype[e]) {
                I.prototype[e] = function(e, t) {
                    var n = this.__chain__,
                        r = i(this.__wrapped__, e, t);
                    return !n && (e == null || t && !(o && typeof e == "function")) ? r : new j(r, n)
                }
            }
        });
        I.VERSION = "2.4.1";
        I.prototype.chain = En;
        I.prototype.toString = kn;
        I.prototype.value = Sn;
        I.prototype.valueOf = Sn;
        nt(["join", "pop", "shift"], function(e) {
            var n = a[e];
            I.prototype[e] = function() {
                var e = this.__chain__,
                    t = n.apply(this.__wrapped__, arguments);
                return e ? new j(t, e) : t
            }
        });
        nt(["push", "reverse", "sort", "unshift"], function(e) {
            var t = a[e];
            I.prototype[e] = function() {
                t.apply(this.__wrapped__, arguments);
                return this
            }
        });
        nt(["concat", "slice", "splice"], function(e) {
            var t = a[e];
            I.prototype[e] = function() {
                return new j(t.apply(this.__wrapped__, arguments), this.__chain__)
            }
        });
        return I
    }
    var gr = mr();
    if (typeof define == "function" && typeof define.amd == "object" && define.amd) {
        rr._ = gr;
        define(function() {
            return gr
        })
    } else if (e && o) {
        if (a) {
            (o.exports = gr)._ = gr
        } else {
            e._ = gr
        }
    } else {
        rr._ = gr
    }
}).call(this);
if ("document" in self) {
    if (!("classList" in document.createElement("_"))) {
        (function(e) {
            "use strict";
            if (!("Element" in e)) return;
            var t = "classList",
                n = "prototype",
                r = e.Element[n],
                i = Object,
                o = String[n].trim || function() {
                    return this.replace(/^\s+|\s+$/g, "")
                },
                a = Array[n].indexOf || function(e) {
                    var t = 0,
                        n = this.length;
                    for (; t < n; t++) {
                        if (t in this && this[t] === e) {
                            return t
                        }
                    }
                    return -1
                },
                u = function(e, t) {
                    this.name = e;
                    this.code = DOMException[e];
                    this.message = t
                },
                s = function(e, t) {
                    if (t === "") {
                        throw new u("SYNTAX_ERR", "An invalid or illegal string was specified")
                    }
                    if (/\s/.test(t)) {
                        throw new u("INVALID_CHARACTER_ERR", "String contains an invalid character")
                    }
                    return a.call(e, t)
                },
                l = function(e) {
                    var t = o.call(e.getAttribute("class") || ""),
                        n = t ? t.split(/\s+/) : [],
                        r = 0,
                        i = n.length;
                    for (; r < i; r++) {
                        this.push(n[r])
                    }
                    this._updateClassName = function() {
                        e.setAttribute("class", this.toString())
                    }
                },
                f = l[n] = [],
                c = function() {
                    return new l(this)
                };
            u[n] = Error[n];
            f.item = function(e) {
                return this[e] || null
            };
            f.contains = function(e) {
                e += "";
                return s(this, e) !== -1
            };
            f.add = function() {
                var e = arguments,
                    t = 0,
                    n = e.length,
                    r, i = false;
                do {
                    r = e[t] + "";
                    if (s(this, r) === -1) {
                        this.push(r);
                        i = true
                    }
                } while (++t < n);
                if (i) {
                    this._updateClassName()
                }
            };
            f.remove = function() {
                var e = arguments,
                    t = 0,
                    n = e.length,
                    r, i = false,
                    o;
                do {
                    r = e[t] + "";
                    o = s(this, r);
                    while (o !== -1) {
                        this.splice(o, 1);
                        i = true;
                        o = s(this, r)
                    }
                } while (++t < n);
                if (i) {
                    this._updateClassName()
                }
            };
            f.toggle = function(e, t) {
                e += "";
                var n = this.contains(e),
                    r = n ? t !== true && "remove" : t !== false && "add";
                if (r) {
                    this[r](e)
                }
                if (t === true || t === false) {
                    return t
                } else {
                    return !n
                }
            };
            f.toString = function() {
                return this.join(" ")
            };
            if (i.defineProperty) {
                var d = {
                    get: c,
                    enumerable: true,
                    configurable: true
                };
                try {
                    i.defineProperty(r, t, d)
                } catch (e) {
                    if (e.number === -2146823252) {
                        d.enumerable = false;
                        i.defineProperty(r, t, d)
                    }
                }
            } else if (i[n].__defineGetter__) {
                r.__defineGetter__(t, c)
            }
        })(self)
    } else {
        (function() {
            "use strict";
            var e = document.createElement("_");
            e.classList.add("c1", "c2");
            if (!e.classList.contains("c2")) {
                var t = function(e) {
                    var r = DOMTokenList.prototype[e];
                    DOMTokenList.prototype[e] = function(e) {
                        var t, n = arguments.length;
                        for (t = 0; t < n; t++) {
                            e = arguments[t];
                            r.call(this, e)
                        }
                    }
                };
                t("add");
                t("remove")
            }
            e.classList.toggle("c3", false);
            if (e.classList.contains("c3")) {
                var n = DOMTokenList.prototype.toggle;
                DOMTokenList.prototype.toggle = function(e, t) {
                    if (1 in arguments && !this.contains(e) === !t) {
                        return t
                    } else {
                        return n.call(this, e)
                    }
                }
            }
            e = null
        })()
    }
}(function e() {
    "use strict";
    var t = Element.prototype;
    t.matches = t.matches || t.oMatchesSelector || t.msMatchesSelector || t.mozMatchesSelector || t.webkitMatchesSelector || function(e) {
        var t = this,
            n = (t.document || t.ownerDocument).querySelectorAll(e),
            r = 0;
        while (n[r] && n[r] !== t) {
            r = r + 1
        }
        return n[r] ? true : false
    }
})();
(function e() {
    "use strict";
    Element.prototype.closest = Element.prototype.closest || function(e) {
        var t = this;
        while (t) {
            if (t.matches(e)) {
                break
            }
            t = t.parentElement
        }
        return t
    }
})();

function AdFox_SetLayerVis(e, t) {
    document.getElementById(e).style.visibility = t
}

function AdFox_Open(e) {
    AdFox_SetLayerVis("AdFox_DivBaseFlash_" + e, "hidden");
    AdFox_SetLayerVis("AdFox_DivOverFlash_" + e, "visible")
}

function AdFox_Close(e) {
    AdFox_SetLayerVis("AdFox_DivOverFlash_" + e, "hidden");
    AdFox_SetLayerVis("AdFox_DivBaseFlash_" + e, "visible")
}

function AdFox_getCodeScript(e, t, n) {
    var r;
    if (e < 10) {
        try {
            if (document.all && !window.opera) {
                r = window.frames["AdFox_iframe_" + t].document
            } else if (document.getElementById) {
                r = document.getElementById("AdFox_iframe_" + t).contentDocument
            }
        } catch (e) {}
        if (r) {
            r.write("<scr" + 'ipt type="text/javascript" src="' + n + '"></scr' + "ipt>")
        } else {
            setTimeout("AdFox_getCodeScript(" + ++e + "," + t + ',"' + n + '");', 100)
        }
    }
}

function adfoxSdvigContent(e, t, n) {
    var r = document.getElementById("adfoxBanner" + e).style;
    if (t == "100%") r.width = t;
    else r.width = t + "px";
    if (n == "100%") r.height = n;
    else r.height = n + "px"
}

function adfoxVisibilityFlash(e, t, n) {
    var r = document.getElementById(e).style;
    if (t == "100%") r.width = t;
    else r.width = t + "px";
    if (n == "100%") r.height = n;
    else r.height = n + "px"
}

function adfoxStart(e, t, n, r, i, o, a, u) {
    if (t == 1) adfoxVisibilityFlash("adfoxFlash1" + e, i, o);
    else if (t == 2) {
        adfoxVisibilityFlash("adfoxFlash2" + e, a, u);
        if (n == "yes") adfoxVisibilityFlash("adfoxFlash1" + e, i, o);
        if (r == "yes") adfoxSdvigContent(e, a, u);
        else adfoxSdvigContent(e, i, o)
    }
}

function adfoxOpen(e, t, n, r, i) {
    var o = new Image;
    var a = document.getElementById("aEventOpen" + e);
    if (a) o.src = a.title + "&rand=" + Math.random() * 1e6 + "&prb=" + Math.random() * 1e6;
    adfoxVisibilityFlash("adfoxFlash2" + e, r, i);
    if (t != "yes") adfoxVisibilityFlash("adfoxFlash1" + e, 1, 1);
    if (n == "yes") adfoxSdvigContent(e, r, i)
}

function adfoxClose(e, t, n, r, i) {
    var o = new Image;
    var a = document.getElementById("aEventClose" + e);
    if (a) o.src = a.title + "&rand=" + Math.random() * 1e6 + "&prb=" + Math.random() * 1e6;
    adfoxVisibilityFlash("adfoxFlash2" + e, 1, 1);
    if (t != "yes") adfoxVisibilityFlash("adfoxFlash1" + e, r, i);
    if (n == "yes") adfoxSdvigContent(e, r, i)
}

function AdFox_getWindowSize() {
    var e, t;
    if (typeof window.innerWidth == "number") {
        e = window.innerWidth;
        t = window.innerHeight
    } else if (document.documentElement && (document.documentElement.clientWidth || document.documentElement.clientHeight)) {
        e = document.documentElement.clientWidth;
        t = document.documentElement.clientHeight
    } else if (document.body && (document.body.clientWidth || document.body.clientHeight)) {
        e = document.body.clientWidth;
        t = document.body.clientHeight
    }
    return {
        width: e,
        height: t
    }
}

function AdFox_getElementPosition(e) {
    var t;
    if (document.getElementById) {
        t = document.getElementById(e)
    } else if (document.layers) {
        t = document.elemId
    } else if (document.all) {
        t = document.all.elemId
    }
    var n = t.offsetWidth;
    var r = t.offsetHeight;
    var i = 0;
    var o = 0;
    while (t) {
        i += t.offsetLeft;
        o += t.offsetTop;
        t = t.offsetParent
    }
    return {
        left: i,
        top: o,
        width: n,
        height: r
    }
}

function AdFox_getBodyScrollTop() {
    return self.pageYOffset || document.documentElement && document.documentElement.scrollTop || document.body && document.body.scrollTop
}

function AdFox_getBodyScrollLeft() {
    return self.pageXOffset || document.documentElement && document.documentElement.scrollLeft || document.body && document.body.scrollLeft
}

function AdFox_Scroll(e, t) {
    var n = AdFox_getWindowSize();
    var r = n.width;
    var i = n.height;
    var o = AdFox_getBodyScrollTop();
    var a = AdFox_getBodyScrollLeft();
    var u = "AdFox_banner_" + e;
    var s = AdFox_getElementPosition(u);
    var l = s.left;
    var f = s.top;
    if (o + i + 5 >= f && a + r + 5 >= l) {
        AdFox_getCodeScript(1, e, t)
    } else {
        setTimeout("AdFox_Scroll(" + e + ',"' + t + '");', 100)
    }
}(function() {
    "use strict";
    var t = dnevnik.auth;
    t.update = function(e) {
        n(t.loginUrl, e || function() {});
        if (t.masterLoginUrl) {
            n(t.masterLoginUrl, function() {})
        }
    };
    if (t.isAuthenticated) {
        setInterval(t.update, t.updateInterval)
    }

    function n(e, t) {
        var n = "jsonp_callback_" + Math.round(1e5 * Math.random());
        window[n] = function(e) {
            delete window[n];
            document.body.removeChild(r);
            t(e)
        };
        var r = document.createElement("script");
        r.src = e + (e.indexOf("?") >= 0 ? "&" : "?") + "callback=" + n;
        document.body.appendChild(r)
    }
})();
(function() {
    "use strict";
    if (typeof window.CustomEvent === "function") {
        return false
    }

    function e(e, t) {
        t = t || {
            bubbles: false,
            cancelable: true,
            detail: undefined
        };
        var n = document.createEvent("CustomEvent");
        n.initCustomEvent(e, t.bubbles, t.cancelable, t.detail);
        return n
    }
    e.prototype = window.Event.prototype;
    window.CustomEvent = e
})();
var requirejs, require, define;
(function(global) {
    var req, s, head, baseElement, dataMain, src, interactiveScript, currentlyAddingScript, mainScript, subPath, version = "2.1.6",
        commentRegExp = /(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,
        cjsRequireRegExp = /[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
        jsSuffixRegExp = /\.js$/,
        currDirRegExp = /^\.\//,
        op = Object.prototype,
        ostring = op.toString,
        hasOwn = op.hasOwnProperty,
        ap = Array.prototype,
        apsp = ap.splice,
        isBrowser = !!(typeof window !== "undefined" && navigator && window.document),
        isWebWorker = !isBrowser && typeof importScripts !== "undefined",
        readyRegExp = isBrowser && navigator.platform === "PLAYSTATION 3" ? /^complete$/ : /^(complete|loaded)$/,
        defContextName = "_",
        isOpera = typeof opera !== "undefined" && opera.toString() === "[object Opera]",
        contexts = {},
        cfg = {},
        globalDefQueue = [],
        useInteractive = false;

    function isFunction(e) {
        return ostring.call(e) === "[object Function]"
    }

    function isArray(e) {
        return ostring.call(e) === "[object Array]"
    }

    function each(e, t) {
        if (e) {
            var n;
            for (n = 0; n < e.length; n += 1) {
                if (e[n] && t(e[n], n, e)) {
                    break
                }
            }
        }
    }

    function eachReverse(e, t) {
        if (e) {
            var n;
            for (n = e.length - 1; n > -1; n -= 1) {
                if (e[n] && t(e[n], n, e)) {
                    break
                }
            }
        }
    }

    function hasProp(e, t) {
        return hasOwn.call(e, t)
    }

    function getOwn(e, t) {
        return hasProp(e, t) && e[t]
    }

    function eachProp(e, t) {
        var n;
        for (n in e) {
            if (hasProp(e, n)) {
                if (t(e[n], n)) {
                    break
                }
            }
        }
    }

    function mixin(n, e, r, i) {
        if (e) {
            eachProp(e, function(e, t) {
                if (r || !hasProp(n, t)) {
                    if (i && typeof e !== "string") {
                        if (!n[t]) {
                            n[t] = {}
                        }
                        mixin(n[t], e, r, i)
                    } else {
                        n[t] = e
                    }
                }
            })
        }
        return n
    }

    function bind(e, t) {
        return function() {
            return t.apply(e, arguments)
        }
    }

    function scripts() {
        return document.getElementsByTagName("script")
    }

    function defaultOnError(e) {
        throw e
    }

    function getGlobal(e) {
        if (!e) {
            return e
        }
        var t = global;
        each(e.split("."), function(e) {
            t = t[e]
        });
        return t
    }

    function makeError(e, t, n, r) {
        var i = new Error(t + "\nhttp://requirejs.org/docs/errors.html#" + e);
        i.requireType = e;
        i.requireModules = r;
        if (n) {
            i.originalError = n
        }
        return i
    }
    if (typeof define !== "undefined") {
        return
    }
    if (typeof requirejs !== "undefined") {
        if (isFunction(requirejs)) {
            return
        }
        cfg = requirejs;
        requirejs = undefined
    }
    if (typeof require !== "undefined" && !isFunction(require)) {
        cfg = require;
        require = undefined
    }

    function newContext(l) {
        var f, e, p, c, d, y = {
                waitSeconds: 7,
                baseUrl: "./",
                paths: {},
                pkgs: {},
                shim: {},
                config: {}
            },
            h = {},
            m = {},
            r = {},
            a = [],
            g = {},
            i = {},
            v = 1,
            b = 1;

        function x(e) {
            var t, n;
            for (t = 0; e[t]; t += 1) {
                n = e[t];
                if (n === ".") {
                    e.splice(t, 1);
                    t -= 1
                } else if (n === "..") {
                    if (t === 1 && (e[2] === ".." || e[0] === "..")) {
                        break
                    } else if (t > 0) {
                        e.splice(t - 1, 2);
                        t -= 2
                    }
                }
            }
        }

        function w(e, t, n) {
            var r, i, o, a, u, s, l, f, c, d, p, h = t && t.split("/"),
                m = h,
                g = y.map,
                v = g && g["*"];
            if (e && e.charAt(0) === ".") {
                if (t) {
                    if (getOwn(y.pkgs, t)) {
                        m = h = [t]
                    } else {
                        m = h.slice(0, h.length - 1)
                    }
                    e = m.concat(e.split("/"));
                    x(e);
                    i = getOwn(y.pkgs, r = e[0]);
                    e = e.join("/");
                    if (i && e === r + "/" + i.main) {
                        e = r
                    }
                } else if (e.indexOf("./") === 0) {
                    e = e.substring(2)
                }
            }
            if (n && g && (h || v)) {
                a = e.split("/");
                for (u = a.length; u > 0; u -= 1) {
                    l = a.slice(0, u).join("/");
                    if (h) {
                        for (s = h.length; s > 0; s -= 1) {
                            o = getOwn(g, h.slice(0, s).join("/"));
                            if (o) {
                                o = getOwn(o, l);
                                if (o) {
                                    f = o;
                                    c = u;
                                    break
                                }
                            }
                        }
                    }
                    if (f) {
                        break
                    }
                    if (!d && v && getOwn(v, l)) {
                        d = getOwn(v, l);
                        p = u
                    }
                }
                if (!f && d) {
                    f = d;
                    c = p
                }
                if (f) {
                    a.splice(0, c, f);
                    e = a.join("/")
                }
            }
            return e
        }

        function C(t) {
            if (isBrowser) {
                each(scripts(), function(e) {
                    if (e.getAttribute("data-requiremodule") === t && e.getAttribute("data-requirecontext") === p.contextName) {
                        e.parentNode.removeChild(e);
                        return true
                    }
                })
            }
        }

        function E(e) {
            var t = getOwn(y.paths, e);
            if (t && isArray(t) && t.length > 1) {
                C(e);
                t.shift();
                p.require.undef(e);
                p.require([e]);
                return true
            }
        }

        function k(e) {
            var t, n = e ? e.indexOf("!") : -1;
            if (n > -1) {
                t = e.substring(0, n);
                e = e.substring(n + 1, e.length)
            }
            return [t, e]
        }

        function S(e, t, n, r) {
            var i, o, a, u, s = null,
                l = t ? t.name : null,
                f = e,
                c = true,
                d = "";
            if (!e) {
                c = false;
                e = "_@r" + (v += 1)
            }
            u = k(e);
            s = u[0];
            e = u[1];
            if (s) {
                s = w(s, l, r);
                o = getOwn(g, s)
            }
            if (e) {
                if (s) {
                    if (o && o.normalize) {
                        d = o.normalize(e, function(e) {
                            return w(e, l, r)
                        })
                    } else {
                        d = w(e, l, r)
                    }
                } else {
                    d = w(e, l, r);
                    u = k(d);
                    s = u[0];
                    d = u[1];
                    n = true;
                    i = p.nameToUrl(d)
                }
            }
            a = s && !o && !n ? "_unnormalized" + (b += 1) : "";
            return {
                prefix: s,
                name: d,
                parentMap: t,
                unnormalized: !!a,
                url: i,
                originalName: f,
                isDefine: c,
                id: (s ? s + "!" + d : d) + a
            }
        }

        function N(e) {
            var t = e.id,
                n = getOwn(h, t);
            if (!n) {
                n = h[t] = new p.Module(e)
            }
            return n
        }

        function T(e, t, n) {
            var r = e.id,
                i = getOwn(h, r);
            if (hasProp(g, r) && (!i || i.defineEmitComplete)) {
                if (t === "defined") {
                    n(g[r])
                }
            } else {
                i = N(e);
                if (i.error && t === "error") {
                    n(i.error)
                } else {
                    i.on(t, n)
                }
            }
        }

        function A(n, e) {
            var t = n.requireModules,
                r = false;
            if (e) {
                e(n)
            } else {
                each(t, function(e) {
                    var t = getOwn(h, e);
                    if (t) {
                        t.error = n;
                        if (t.events.error) {
                            r = true;
                            t.emit("error", n)
                        }
                    }
                });
                if (!r) {
                    req.onError(n)
                }
            }
        }

        function D() {
            if (globalDefQueue.length) {
                apsp.apply(a, [a.length - 1, 0].concat(globalDefQueue));
                globalDefQueue = []
            }
        }
        c = {
            require: function(e) {
                if (e.require) {
                    return e.require
                } else {
                    return e.require = p.makeRequire(e.map)
                }
            },
            exports: function(e) {
                e.usingExports = true;
                if (e.map.isDefine) {
                    if (e.exports) {
                        return e.exports
                    } else {
                        return e.exports = g[e.map.id] = {}
                    }
                }
            },
            module: function(n) {
                if (n.module) {
                    return n.module
                } else {
                    return n.module = {
                        id: n.map.id,
                        uri: n.map.url,
                        config: function() {
                            var e, t = getOwn(y.pkgs, n.map.id);
                            e = t ? getOwn(y.config, n.map.id + "/" + t.main) : getOwn(y.config, n.map.id);
                            return e || {}
                        },
                        exports: g[n.map.id]
                    }
                }
            }
        };

        function _(e) {
            delete h[e];
            delete m[e]
        }

        function R(i, o, a) {
            var e = i.map.id;
            if (i.error) {
                i.emit("error", i.error)
            } else {
                o[e] = true;
                each(i.depMaps, function(e, t) {
                    var n = e.id,
                        r = getOwn(h, n);
                    if (r && !i.depMatched[t] && !a[n]) {
                        if (getOwn(o, n)) {
                            i.defineDep(t, g[n]);
                            i.check()
                        } else {
                            R(r, o, a)
                        }
                    }
                });
                a[e] = true
            }
        }

        function O() {
            var t, n, e, r, i = y.waitSeconds * 1e3,
                o = i && p.startTime + i < (new Date).getTime(),
                a = [],
                u = [],
                s = false,
                l = true;
            if (f) {
                return
            }
            f = true;
            eachProp(m, function(e) {
                t = e.map;
                n = t.id;
                if (!e.enabled) {
                    return
                }
                if (!t.isDefine) {
                    u.push(e)
                }
                if (!e.error) {
                    if (!e.inited && o) {
                        if (E(n)) {
                            r = true;
                            s = true
                        } else {
                            a.push(n);
                            C(n)
                        }
                    } else if (!e.inited && e.fetched && t.isDefine) {
                        s = true;
                        if (!t.prefix) {
                            return l = false
                        }
                    }
                }
            });
            if (o && a.length) {
                e = makeError("timeout", "Load timeout for modules: " + a, null, a);
                e.contextName = p.contextName;
                return A(e)
            }
            if (l) {
                each(u, function(e) {
                    R(e, {}, {})
                })
            }
            if ((!o || r) && s) {
                if ((isBrowser || isWebWorker) && !d) {
                    d = setTimeout(function() {
                        d = 0;
                        O()
                    }, 50)
                }
            }
            f = false
        }
        e = function(e) {
            this.events = getOwn(r, e.id) || {};
            this.map = e;
            this.shim = getOwn(y.shim, e.id);
            this.depExports = [];
            this.depMaps = [];
            this.depMatched = [];
            this.pluginMaps = {};
            this.depCount = 0
        };
        e.prototype = {
            init: function(e, t, n, r) {
                r = r || {};
                if (this.inited) {
                    return
                }
                this.factory = t;
                if (n) {
                    this.on("error", n)
                } else if (this.events.error) {
                    n = bind(this, function(e) {
                        this.emit("error", e)
                    })
                }
                this.depMaps = e && e.slice(0);
                this.errback = n;
                this.inited = true;
                this.ignore = r.ignore;
                if (r.enabled || this.enabled) {
                    this.enable()
                } else {
                    this.check()
                }
            },
            defineDep: function(e, t) {
                if (!this.depMatched[e]) {
                    this.depMatched[e] = true;
                    this.depCount -= 1;
                    this.depExports[e] = t
                }
            },
            fetch: function() {
                if (this.fetched) {
                    return
                }
                this.fetched = true;
                p.startTime = (new Date).getTime();
                var e = this.map;
                if (this.shim) {
                    p.makeRequire(this.map, {
                        enableBuildCallback: true
                    })(this.shim.deps || [], bind(this, function() {
                        return e.prefix ? this.callPlugin() : this.load()
                    }))
                } else {
                    return e.prefix ? this.callPlugin() : this.load()
                }
            },
            load: function() {
                var e = this.map.url;
                if (!i[e]) {
                    i[e] = true;
                    p.load(this.map.id, e)
                }
            },
            check: function() {
                if (!this.enabled || this.enabling) {
                    return
                }
                var t, e, n = this.map.id,
                    r = this.depExports,
                    i = this.exports,
                    o = this.factory;
                if (!this.inited) {
                    this.fetch()
                } else if (this.error) {
                    this.emit("error", this.error)
                } else if (!this.defining) {
                    this.defining = true;
                    if (this.depCount < 1 && !this.defined) {
                        if (isFunction(o)) {
                            if (this.events.error && this.map.isDefine || req.onError !== defaultOnError) {
                                try {
                                    i = p.execCb(n, o, r, i)
                                } catch (e) {
                                    t = e
                                }
                            } else {
                                i = p.execCb(n, o, r, i)
                            }
                            if (this.map.isDefine) {
                                e = this.module;
                                if (e && e.exports !== undefined && e.exports !== this.exports) {
                                    i = e.exports
                                } else if (i === undefined && this.usingExports) {
                                    i = this.exports
                                }
                            }
                            if (t) {
                                t.requireMap = this.map;
                                t.requireModules = this.map.isDefine ? [this.map.id] : null;
                                t.requireType = this.map.isDefine ? "define" : "require";
                                return A(this.error = t)
                            }
                        } else {
                            i = o
                        }
                        this.exports = i;
                        if (this.map.isDefine && !this.ignore) {
                            g[n] = i;
                            if (req.onResourceLoad) {
                                req.onResourceLoad(p, this.map, this.depMaps)
                            }
                        }
                        _(n);
                        this.defined = true
                    }
                    this.defining = false;
                    if (this.defined && !this.defineEmitted) {
                        this.defineEmitted = true;
                        this.emit("defined", this.exports);
                        this.defineEmitComplete = true
                    }
                }
            },
            callPlugin: function() {
                var u = this.map,
                    s = u.id,
                    e = S(u.prefix);
                this.depMaps.push(e);
                T(e, "defined", bind(this, function(e) {
                    var o, t, n, r = this.map.name,
                        i = this.map.parentMap ? this.map.parentMap.name : null,
                        a = p.makeRequire(u.parentMap, {
                            enableBuildCallback: true
                        });
                    if (this.map.unnormalized) {
                        if (e.normalize) {
                            r = e.normalize(r, function(e) {
                                return w(e, i, true)
                            }) || ""
                        }
                        t = S(u.prefix + "!" + r, this.map.parentMap);
                        T(t, "defined", bind(this, function(e) {
                            this.init([], function() {
                                return e
                            }, null, {
                                enabled: true,
                                ignore: true
                            })
                        }));
                        n = getOwn(h, t.id);
                        if (n) {
                            this.depMaps.push(t);
                            if (this.events.error) {
                                n.on("error", bind(this, function(e) {
                                    this.emit("error", e)
                                }))
                            }
                            n.enable()
                        }
                        return
                    }
                    o = bind(this, function(e) {
                        this.init([], function() {
                            return e
                        }, null, {
                            enabled: true
                        })
                    });
                    o.error = bind(this, function(e) {
                        this.inited = true;
                        this.error = e;
                        e.requireModules = [s];
                        eachProp(h, function(e) {
                            if (e.map.id.indexOf(s + "_unnormalized") === 0) {
                                _(e.map.id)
                            }
                        });
                        A(e)
                    });
                    o.fromText = bind(this, function(e, t) {
                        var n = u.name,
                            r = S(n),
                            i = useInteractive;
                        if (t) {
                            e = t
                        }
                        if (i) {
                            useInteractive = false
                        }
                        N(r);
                        if (hasProp(y.config, s)) {
                            y.config[n] = y.config[s]
                        }
                        try {
                            req.exec(e)
                        } catch (e) {
                            return A(makeError("fromtexteval", "fromText eval for " + s + " failed: " + e, e, [s]))
                        }
                        if (i) {
                            useInteractive = true
                        }
                        this.depMaps.push(r);
                        p.completeLoad(n);
                        a([n], o)
                    });
                    e.load(u.name, a, o, y)
                }));
                p.enable(e, this);
                this.pluginMaps[e.id] = e
            },
            enable: function() {
                m[this.map.id] = this;
                this.enabled = true;
                this.enabling = true;
                each(this.depMaps, bind(this, function(e, t) {
                    var n, r, i;
                    if (typeof e === "string") {
                        e = S(e, this.map.isDefine ? this.map : this.map.parentMap, false, !this.skipMap);
                        this.depMaps[t] = e;
                        i = getOwn(c, e.id);
                        if (i) {
                            this.depExports[t] = i(this);
                            return
                        }
                        this.depCount += 1;
                        T(e, "defined", bind(this, function(e) {
                            this.defineDep(t, e);
                            this.check()
                        }));
                        if (this.errback) {
                            T(e, "error", bind(this, this.errback))
                        }
                    }
                    n = e.id;
                    r = h[n];
                    if (!hasProp(c, n) && r && !r.enabled) {
                        p.enable(e, this)
                    }
                }));
                eachProp(this.pluginMaps, bind(this, function(e) {
                    var t = getOwn(h, e.id);
                    if (t && !t.enabled) {
                        p.enable(e, this)
                    }
                }));
                this.enabling = false;
                this.check()
            },
            on: function(e, t) {
                var n = this.events[e];
                if (!n) {
                    n = this.events[e] = []
                }
                n.push(t)
            },
            emit: function(e, t) {
                each(this.events[e], function(e) {
                    e(t)
                });
                if (e === "error") {
                    delete this.events[e]
                }
            }
        };

        function u(e) {
            if (!hasProp(g, e[0])) {
                N(S(e[0], null, true)).init(e[1], e[2])
            }
        }

        function n(e, t, n, r) {
            if (e.detachEvent && !isOpera) {
                if (r) {
                    e.detachEvent(r, t)
                }
            } else {
                e.removeEventListener(n, t, false)
            }
        }

        function o(e) {
            var t = e.currentTarget || e.srcElement;
            n(t, p.onScriptLoad, "load", "onreadystatechange");
            n(t, p.onScriptError, "error");
            return {
                node: t,
                id: t && t.getAttribute("data-requiremodule")
            }
        }

        function F() {
            var e;
            D();
            while (a.length) {
                e = a.shift();
                if (e[0] === null) {
                    return A(makeError("mismatch", "Mismatched anonymous define() module: " + e[e.length - 1]))
                } else {
                    u(e)
                }
            }
        }
        p = {
            config: y,
            contextName: l,
            registry: h,
            defined: g,
            urlFetched: i,
            defQueue: a,
            Module: e,
            makeModuleMap: S,
            nextTick: req.nextTick,
            onError: A,
            configure: function(e) {
                if (e.baseUrl) {
                    if (e.baseUrl.charAt(e.baseUrl.length - 1) !== "/") {
                        e.baseUrl += "/"
                    }
                }
                var n = y.pkgs,
                    r = y.shim,
                    i = {
                        paths: true,
                        config: true,
                        map: true
                    };
                eachProp(e, function(e, t) {
                    if (i[t]) {
                        if (t === "map") {
                            if (!y.map) {
                                y.map = {}
                            }
                            mixin(y[t], e, true, true)
                        } else {
                            mixin(y[t], e, true)
                        }
                    } else {
                        y[t] = e
                    }
                });
                if (e.shim) {
                    eachProp(e.shim, function(e, t) {
                        if (isArray(e)) {
                            e = {
                                deps: e
                            }
                        }
                        if ((e.exports || e.init) && !e.exportsFn) {
                            e.exportsFn = p.makeShimExports(e)
                        }
                        r[t] = e
                    });
                    y.shim = r
                }
                if (e.packages) {
                    each(e.packages, function(e) {
                        var t;
                        e = typeof e === "string" ? {
                            name: e
                        } : e;
                        t = e.location;
                        n[e.name] = {
                            name: e.name,
                            location: t || e.name,
                            main: (e.main || "main").replace(currDirRegExp, "").replace(jsSuffixRegExp, "")
                        }
                    });
                    y.pkgs = n
                }
                eachProp(h, function(e, t) {
                    if (!e.inited && !e.map.unnormalized) {
                        e.map = S(t)
                    }
                });
                if (e.deps || e.callback) {
                    p.require(e.deps || [], e.callback)
                }
            },
            makeShimExports: function(t) {
                function e() {
                    var e;
                    if (t.init) {
                        e = t.init.apply(global, arguments)
                    }
                    return e || t.exports && getGlobal(t.exports)
                }
                return e
            },
            makeRequire: function(a, u) {
                u = u || {};

                function s(e, t, n) {
                    var r, i, o;
                    if (u.enableBuildCallback && t && isFunction(t)) {
                        t.__requireJsBuild = true
                    }
                    if (typeof e === "string") {
                        if (isFunction(t)) {
                            return A(makeError("requireargs", "Invalid require call"), n)
                        }
                        if (a && hasProp(c, e)) {
                            return c[e](h[a.id])
                        }
                        if (req.get) {
                            return req.get(p, e, a, s)
                        }
                        i = S(e, a, false, true);
                        r = i.id;
                        if (!hasProp(g, r)) {
                            return A(makeError("notloaded", 'Module name "' + r + '" has not been loaded yet for context: ' + l + (a ? "" : ". Use require([])")))
                        }
                        return g[r]
                    }
                    F();
                    p.nextTick(function() {
                        F();
                        o = N(S(null, a));
                        o.skipMap = u.skipMap;
                        o.init(e, t, n, {
                            enabled: true
                        });
                        O()
                    });
                    return s
                }
                mixin(s, {
                    isBrowser: isBrowser,
                    toUrl: function(e) {
                        var t, n = e.lastIndexOf("."),
                            r = e.split("/")[0],
                            i = r === "." || r === "..";
                        if (n !== -1 && (!i || n > 1)) {
                            t = e.substring(n, e.length);
                            e = e.substring(0, n)
                        }
                        return p.nameToUrl(w(e, a && a.id, true), t, true)
                    },
                    defined: function(e) {
                        return hasProp(g, S(e, a, false, true).id)
                    },
                    specified: function(e) {
                        e = S(e, a, false, true).id;
                        return hasProp(g, e) || hasProp(h, e)
                    }
                });
                if (!a) {
                    s.undef = function(e) {
                        D();
                        var t = S(e, a, true),
                            n = getOwn(h, e);
                        delete g[e];
                        delete i[t.url];
                        delete r[e];
                        if (n) {
                            if (n.events.defined) {
                                r[e] = n.events
                            }
                            _(e)
                        }
                    }
                }
                return s
            },
            enable: function(e) {
                var t = getOwn(h, e.id);
                if (t) {
                    N(e).enable()
                }
            },
            completeLoad: function(e) {
                var t, n, r, i = getOwn(y.shim, e) || {},
                    o = i.exports;
                D();
                while (a.length) {
                    n = a.shift();
                    if (n[0] === null) {
                        n[0] = e;
                        if (t) {
                            break
                        }
                        t = true
                    } else if (n[0] === e) {
                        t = true
                    }
                    u(n)
                }
                r = getOwn(h, e);
                if (!t && !hasProp(g, e) && r && !r.inited) {
                    if (y.enforceDefine && (!o || !getGlobal(o))) {
                        if (E(e)) {
                            return
                        } else {
                            return A(makeError("nodefine", "No define call for " + e, null, [e]))
                        }
                    } else {
                        u([e, i.deps || [], i.exportsFn])
                    }
                }
                O()
            },
            nameToUrl: function(e, t, n) {
                var r, i, o, a, u, s, l, f, c;
                if (req.jsExtRegExp.test(e)) {
                    f = e + (t || "")
                } else {
                    r = y.paths;
                    i = y.pkgs;
                    u = e.split("/");
                    for (s = u.length; s > 0; s -= 1) {
                        l = u.slice(0, s).join("/");
                        o = getOwn(i, l);
                        c = getOwn(r, l);
                        if (c) {
                            if (isArray(c)) {
                                c = c[0]
                            }
                            u.splice(0, s, c);
                            break
                        } else if (o) {
                            if (e === o.name) {
                                a = o.location + "/" + o.main
                            } else {
                                a = o.location
                            }
                            u.splice(0, s, a);
                            break
                        }
                    }
                    f = u.join("/");
                    f += t || (/\?/.test(f) || n ? "" : ".js");
                    f = (f.charAt(0) === "/" || f.match(/^[\w\+\.\-]+:/) ? "" : y.baseUrl) + f
                }
                return y.urlArgs ? f + ((f.indexOf("?") === -1 ? "?" : "&") + y.urlArgs) : f
            },
            load: function(e, t) {
                req.load(p, e, t)
            },
            execCb: function(e, t, n, r) {
                return t.apply(r, n)
            },
            onScriptLoad: function(e) {
                if (e.type === "load" || readyRegExp.test((e.currentTarget || e.srcElement).readyState)) {
                    interactiveScript = null;
                    var t = o(e);
                    p.completeLoad(t.id)
                }
            },
            onScriptError: function(e) {
                var t = o(e);
                if (!E(t.id)) {
                    return A(makeError("scripterror", "Script error for: " + t.id, e, [t.id]))
                }
            }
        };
        p.require = p.makeRequire();
        return p
    }
    req = requirejs = function(e, t, n, r) {
        var i, o, a = defContextName;
        if (!isArray(e) && typeof e !== "string") {
            o = e;
            if (isArray(t)) {
                e = t;
                t = n;
                n = r
            } else {
                e = []
            }
        }
        if (o && o.context) {
            a = o.context
        }
        i = getOwn(contexts, a);
        if (!i) {
            i = contexts[a] = req.s.newContext(a)
        }
        if (o) {
            i.configure(o)
        }
        return i.require(e, t, n)
    };
    req.config = function(e) {
        return req(e)
    };
    req.nextTick = typeof setTimeout !== "undefined" ? function(e) {
        setTimeout(e, 4)
    } : function(e) {
        e()
    };
    if (!require) {
        require = req
    }
    req.version = version;
    req.jsExtRegExp = /^\/|:|\?|\.js$/;
    req.isBrowser = isBrowser;
    s = req.s = {
        contexts: contexts,
        newContext: newContext
    };
    req({});
    each(["toUrl", "undef", "defined", "specified"], function(t) {
        req[t] = function() {
            var e = contexts[defContextName];
            return e.require[t].apply(e, arguments)
        }
    });
    if (isBrowser) {
        head = s.head = document.getElementsByTagName("head")[0];
        baseElement = document.getElementsByTagName("base")[0];
        if (baseElement) {
            head = s.head = baseElement.parentNode
        }
    }
    req.onError = defaultOnError;
    req.load = function(t, n, r) {
        var e = t && t.config || {},
            i;
        if (isBrowser) {
            i = e.xhtml ? document.createElementNS("http://www.w3.org/1999/xhtml", "html:script") : document.createElement("script");
            i.type = e.scriptType || "text/javascript";
            i.charset = "utf-8";
            i.async = true;
            i.setAttribute("data-requirecontext", t.contextName);
            i.setAttribute("data-requiremodule", n);
            if (i.attachEvent && !(i.attachEvent.toString && i.attachEvent.toString().indexOf("[native code") < 0) && !isOpera) {
                useInteractive = true;
                i.attachEvent("onreadystatechange", t.onScriptLoad)
            } else {
                i.addEventListener("load", t.onScriptLoad, false);
                i.addEventListener("error", t.onScriptError, false)
            }
            i.src = r;
            currentlyAddingScript = i;
            if (baseElement) {
                head.insertBefore(i, baseElement)
            } else {
                head.appendChild(i)
            }
            currentlyAddingScript = null;
            return i
        } else if (isWebWorker) {
            try {
                importScripts(r);
                t.completeLoad(n)
            } catch (e) {
                t.onError(makeError("importscripts", "importScripts failed for " + n + " at " + r, e, [n]))
            }
        }
    };

    function getInteractiveScript() {
        if (interactiveScript && interactiveScript.readyState === "interactive") {
            return interactiveScript
        }
        eachReverse(scripts(), function(e) {
            if (e.readyState === "interactive") {
                return interactiveScript = e
            }
        });
        return interactiveScript
    }
    if (isBrowser) {
        eachReverse(scripts(), function(e) {
            if (!head) {
                head = e.parentNode
            }
            dataMain = e.getAttribute("data-main");
            if (dataMain) {
                mainScript = dataMain;
                if (!cfg.baseUrl) {
                    src = mainScript.split("/");
                    mainScript = src.pop();
                    subPath = src.length ? src.join("/") + "/" : "./";
                    cfg.baseUrl = subPath
                }
                mainScript = mainScript.replace(jsSuffixRegExp, "");
                if (req.jsExtRegExp.test(mainScript)) {
                    mainScript = dataMain
                }
                cfg.deps = cfg.deps ? cfg.deps.concat(mainScript) : [mainScript];
                return true
            }
        })
    }
    define = function(e, n, t) {
        var r, i;
        if (typeof e !== "string") {
            t = n;
            n = e;
            e = null
        }
        if (!isArray(n)) {
            t = n;
            n = null
        }
        if (!n && isFunction(t)) {
            n = [];
            if (t.length) {
                t.toString().replace(commentRegExp, "").replace(cjsRequireRegExp, function(e, t) {
                    n.push(t)
                });
                n = (t.length === 1 ? ["require"] : ["require", "exports", "module"]).concat(n)
            }
        }
        if (useInteractive) {
            r = currentlyAddingScript || getInteractiveScript();
            if (r) {
                if (!e) {
                    e = r.getAttribute("data-requiremodule")
                }
                i = contexts[r.getAttribute("data-requirecontext")]
            }
        }(i ? i.defQueue : globalDefQueue).push([e, n, t])
    };
    define.amd = {
        jQuery: true
    };
    req.exec = function(text) {
        return eval(text)
    };
    req(cfg)
})(this);
! function() {
    "use strict";
    var e, t, n, r, i, o, a, u, s, l, f, c, d, p, h, m, g, v = function(e) {
            return function() {
                return e
            }
        },
        y = v(!1),
        b = v(!0),
        z = {
            noop: function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            },
            noarg: function(n) {
                return function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return n()
                }
            },
            compose: function(n, r) {
                return function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return n(r.apply(null, arguments))
                }
            },
            constant: v,
            identity: function(e) {
                return e
            },
            tripleEquals: function(e, t) {
                return e === t
            },
            curry: function(o) {
                for (var e = [], t = 1; t < arguments.length; t++) e[t - 1] = arguments[t];
                for (var a = new Array(arguments.length - 1), n = 1; n < arguments.length; n++) a[n - 1] = arguments[n];
                return function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    for (var n = new Array(arguments.length), r = 0; r < n.length; r++) n[r] = arguments[r];
                    var i = a.concat(n);
                    return o.apply(null, i)
                }
            },
            not: function(n) {
                return function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return !n.apply(null, arguments)
                }
            },
            die: function(e) {
                return function() {
                    throw new Error(e)
                }
            },
            apply: function(e) {
                return e()
            },
            call: function(e) {
                e()
            },
            never: y,
            always: b
        },
        x = z.never,
        w = z.always,
        C = function() {
            return E
        },
        E = (r = {
            fold: function(e, t) {
                return e()
            },
            is: x,
            isSome: x,
            isNone: w,
            getOr: n = function(e) {
                return e
            },
            getOrThunk: t = function(e) {
                return e()
            },
            getOrDie: function(e) {
                throw new Error(e || "error: getOrDie called on none.")
            },
            or: n,
            orThunk: t,
            map: C,
            ap: C,
            each: function() {},
            bind: C,
            flatten: C,
            exists: x,
            forall: w,
            filter: C,
            equals: e = function(e) {
                return e.isNone()
            },
            equals_: e,
            toArray: function() {
                return []
            },
            toString: z.constant("none()")
        }, Object.freeze && Object.freeze(r), r),
        k = function(n) {
            var e = function() {
                    return n
                },
                t = function() {
                    return i
                },
                r = function(e) {
                    return e(n)
                },
                i = {
                    fold: function(e, t) {
                        return t(n)
                    },
                    is: function(e) {
                        return n === e
                    },
                    isSome: w,
                    isNone: x,
                    getOr: e,
                    getOrThunk: e,
                    getOrDie: e,
                    or: t,
                    orThunk: t,
                    map: function(e) {
                        return k(e(n))
                    },
                    ap: function(e) {
                        return e.fold(C, function(e) {
                            return k(e(n))
                        })
                    },
                    each: function(e) {
                        e(n)
                    },
                    bind: r,
                    flatten: e,
                    exists: r,
                    forall: r,
                    filter: function(e) {
                        return e(n) ? i : E
                    },
                    equals: function(e) {
                        return e.is(n)
                    },
                    equals_: function(e, t) {
                        return e.fold(x, function(e) {
                            return t(n, e)
                        })
                    },
                    toArray: function() {
                        return [n]
                    },
                    toString: function() {
                        return "some(" + n + ")"
                    }
                };
            return i
        },
        A = {
            some: k,
            none: C,
            from: function(e) {
                return null === e || e === undefined ? E : k(e)
            }
        },
        S = function(t) {
            return function(e) {
                return function(e) {
                    if (null === e) return "null";
                    var t = typeof e;
                    return "object" === t && Array.prototype.isPrototypeOf(e) ? "array" : "object" === t && String.prototype.isPrototypeOf(e) ? "string" : t
                }(e) === t
            }
        },
        N = {
            isString: S("string"),
            isObject: S("object"),
            isArray: S("array"),
            isNull: S("null"),
            isBoolean: S("boolean"),
            isUndefined: S("undefined"),
            isFunction: S("function"),
            isNumber: S("number")
        },
        T = (i = Array.prototype.indexOf) === undefined ? function(e, t) {
            return P(e, t)
        } : function(e, t) {
            return i.call(e, t)
        },
        D = function(e, t) {
            return -1 < T(e, t)
        },
        _ = function(e, t) {
            for (var n = e.length, r = new Array(n), i = 0; i < n; i++) {
                var o = e[i];
                r[i] = t(o, i, e)
            }
            return r
        },
        R = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++) t(e[n], n, e)
        },
        O = function(e, t) {
            for (var n = e.length - 1; 0 <= n; n--) t(e[n], n, e)
        },
        F = function(e, t) {
            for (var n = [], r = 0, i = e.length; r < i; r++) {
                var o = e[r];
                t(o, r, e) && n.push(o)
            }
            return n
        },
        B = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++)
                if (t(e[n], n, e)) return A.some(n);
            return A.none()
        },
        P = function(e, t) {
            for (var n = 0, r = e.length; n < r; ++n)
                if (e[n] === t) return n;
            return -1
        },
        L = Array.prototype.push,
        I = function(e) {
            for (var t = [], n = 0, r = e.length; n < r; ++n) {
                if (!Array.prototype.isPrototypeOf(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e);
                L.apply(t, e[n])
            }
            return t
        },
        j = function(e, t) {
            for (var n = 0, r = e.length; n < r; ++n)
                if (!0 !== t(e[n], n, e)) return !1;
            return !0
        },
        M = Array.prototype.slice,
        q = N.isFunction(Array.from) ? Array.from : function(e) {
            return M.call(e)
        },
        U = {
            map: _,
            each: R,
            eachr: O,
            partition: function(e, t) {
                for (var n = [], r = [], i = 0, o = e.length; i < o; i++) {
                    var a = e[i];
                    (t(a, i, e) ? n : r).push(a)
                }
                return {
                    pass: n,
                    fail: r
                }
            },
            filter: F,
            groupBy: function(e, t) {
                if (0 === e.length) return [];
                for (var n = t(e[0]), r = [], i = [], o = 0, a = e.length; o < a; o++) {
                    var u = e[o],
                        s = t(u);
                    s !== n && (r.push(i), i = []), n = s, i.push(u)
                }
                return 0 !== i.length && r.push(i), r
            },
            indexOf: function(e, t) {
                var n = T(e, t);
                return -1 === n ? A.none() : A.some(n)
            },
            foldr: function(e, t, n) {
                return O(e, function(e) {
                    n = t(n, e)
                }), n
            },
            foldl: function(e, t, n) {
                return R(e, function(e) {
                    n = t(n, e)
                }), n
            },
            find: function(e, t) {
                for (var n = 0, r = e.length; n < r; n++) {
                    var i = e[n];
                    if (t(i, n, e)) return A.some(i)
                }
                return A.none()
            },
            findIndex: B,
            flatten: I,
            bind: function(e, t) {
                var n = _(e, t);
                return I(n)
            },
            forall: j,
            exists: function(e, t) {
                return B(e, t).isSome()
            },
            contains: D,
            equal: function(e, n) {
                return e.length === n.length && j(e, function(e, t) {
                    return e === n[t]
                })
            },
            reverse: function(e) {
                var t = M.call(e, 0);
                return t.reverse(), t
            },
            chunk: function(e, t) {
                for (var n = [], r = 0; r < e.length; r += t) {
                    var i = e.slice(r, r + t);
                    n.push(i)
                }
                return n
            },
            difference: function(e, t) {
                return F(e, function(e) {
                    return !D(t, e)
                })
            },
            mapToObject: function(e, t) {
                for (var n = {}, r = 0, i = e.length; r < i; r++) {
                    var o = e[r];
                    n[String(o)] = t(o, r)
                }
                return n
            },
            pure: function(e) {
                return [e]
            },
            sort: function(e, t) {
                var n = M.call(e, 0);
                return n.sort(t), n
            },
            range: function(e, t) {
                for (var n = [], r = 0; r < e; r++) n.push(t(r));
                return n
            },
            head: function(e) {
                return 0 === e.length ? A.none() : A.some(e[0])
            },
            last: function(e) {
                return 0 === e.length ? A.none() : A.some(e[e.length - 1])
            },
            from: q
        },
        H = "undefined" != typeof window ? window : Function("return this;")(),
        $ = function(e, t) {
            for (var n = t !== undefined && null !== t ? t : H, r = 0; r < e.length && n !== undefined && null !== n; ++r) n = n[e[r]];
            return n
        },
        V = function(e, t) {
            var n = e.split(".");
            return $(n, t)
        },
        W = {
            getOrDie: function(e, t) {
                var n = V(e, t);
                if (n === undefined || null === n) throw e + " not available on this browser";
                return n
            }
        },
        X = function() {
            return W.getOrDie("URL")
        },
        K = {
            createObjectURL: function(e) {
                return X().createObjectURL(e)
            },
            revokeObjectURL: function(e) {
                X().revokeObjectURL(e)
            }
        },
        Y = navigator,
        G = Y.userAgent,
        Q = function(e) {
            return "matchMedia" in window && matchMedia(e).matches
        };
    d = /Android/.test(G), a = (a = !(o = /WebKit/.test(G)) && /MSIE/gi.test(G) && /Explorer/gi.test(Y.appName)) && /MSIE (\w+)\./.exec(G)[1], u = -1 !== G.indexOf("Trident/") && (-1 !== G.indexOf("rv:") || -1 !== Y.appName.indexOf("Netscape")) && 11, s = -1 !== G.indexOf("Edge/") && !a && !u && 12, a = a || u || s, l = !o && !u && /Gecko/.test(G), f = -1 !== G.indexOf("Mac"), c = /(iPad|iPhone)/.test(G), p = "FormData" in window && "FileReader" in window && "URL" in window && !!K.createObjectURL, h = Q("only screen and (max-device-width: 480px)") && (d || c), m = Q("only screen and (min-width: 800px)") && (d || c), g = -1 !== G.indexOf("Windows Phone"), s && (o = !1);
    var J, Z, ee, te, ne, re, ie, oe, ae, ue, se, le, fe, ce, de, pe, he, me, ge, ve = {
            opera: !1,
            webkit: o,
            ie: a,
            gecko: l,
            mac: f,
            iOS: c,
            android: d,
            contentEditable: !c || p || 534 <= parseInt(G.match(/AppleWebKit\/(\d*)/)[1], 10),
            transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
            caretAfter: 8 !== a,
            range: window.getSelection && "Range" in window,
            documentMode: a && !s ? document.documentMode || 7 : 10,
            fileApi: p,
            ceFalse: !1 === a || 8 < a,
            cacheSuffix: null,
            container: null,
            overrideViewPort: null,
            experimentalShadowDom: !1,
            canHaveCSP: !1 === a || 11 < a,
            desktop: !h && !m,
            windowsPhone: g
        },
        ye = window.Promise ? window.Promise : function() {
            function n(e, t) {
                return function() {
                    e.apply(t, arguments)
                }
            }
            var e = Array.isArray || function(e) {
                    return "[object Array]" === Object.prototype.toString.call(e)
                },
                o = function(e) {
                    if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
                    if ("function" != typeof e) throw new TypeError("not a function");
                    this._state = null, this._value = null, this._deferreds = [], l(e, n(r, this), n(i, this))
                },
                t = o.immediateFn || "function" == typeof setImmediate && setImmediate || function(e) {
                    setTimeout(e, 1)
                };

            function a(n) {
                var r = this;
                null !== this._state ? t(function() {
                    var e = r._state ? n.onFulfilled : n.onRejected;
                    if (null !== e) {
                        var t;
                        try {
                            t = e(r._value)
                        } catch (e) {
                            return void n.reject(e)
                        }
                        n.resolve(t)
                    } else(r._state ? n.resolve : n.reject)(r._value)
                }) : this._deferreds.push(n)
            }

            function r(e) {
                try {
                    if (e === this) throw new TypeError("A promise cannot be resolved with itself.");
                    if (e && ("object" == typeof e || "function" == typeof e)) {
                        var t = e.then;
                        if ("function" == typeof t) return void l(n(t, e), n(r, this), n(i, this))
                    }
                    this._state = !0, this._value = e, u.call(this)
                } catch (e) {
                    i.call(this, e)
                }
            }

            function i(e) {
                this._state = !1, this._value = e, u.call(this)
            }

            function u() {
                for (var e = 0, t = this._deferreds.length; e < t; e++) a.call(this, this._deferreds[e]);
                this._deferreds = null
            }

            function s(e, t, n, r) {
                this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.resolve = n, this.reject = r
            }

            function l(e, t, n) {
                var r = !1;
                try {
                    e(function(e) {
                        r || (r = !0, t(e))
                    }, function(e) {
                        r || (r = !0, n(e))
                    })
                } catch (e) {
                    if (r) return;
                    r = !0, n(e)
                }
            }
            return o.prototype["catch"] = function(e) {
                return this.then(null, e)
            }, o.prototype.then = function(n, r) {
                var i = this;
                return new o(function(e, t) {
                    a.call(i, new s(n, r, e, t))
                })
            }, o.all = function() {
                var u = Array.prototype.slice.call(1 === arguments.length && e(arguments[0]) ? arguments[0] : arguments);
                return new o(function(r, i) {
                    if (0 === u.length) return r([]);
                    var o = u.length;

                    function a(t, e) {
                        try {
                            if (e && ("object" == typeof e || "function" == typeof e)) {
                                var n = e.then;
                                if ("function" == typeof n) return void n.call(e, function(e) {
                                    a(t, e)
                                }, i)
                            }
                            u[t] = e, 0 == --o && r(u)
                        } catch (e) {
                            i(e)
                        }
                    }
                    for (var e = 0; e < u.length; e++) a(e, u[e])
                })
            }, o.resolve = function(t) {
                return t && "object" == typeof t && t.constructor === o ? t : new o(function(e) {
                    e(t)
                })
            }, o.reject = function(n) {
                return new o(function(e, t) {
                    t(n)
                })
            }, o.race = function(i) {
                return new o(function(e, t) {
                    for (var n = 0, r = i.length; n < r; n++) i[n].then(e, t)
                })
            }, o
        }(),
        be = function(e, t) {
            return "number" != typeof t && (t = 0), setTimeout(e, t)
        },
        xe = function(e, t) {
            return "number" != typeof t && (t = 1), setInterval(e, t)
        },
        we = function(t, n) {
            var r, e;
            return (e = function() {
                var e = arguments;
                clearTimeout(r), r = be(function() {
                    t.apply(this, e)
                }, n)
            }).stop = function() {
                clearTimeout(r)
            }, e
        },
        Ce = {
            requestAnimationFrame: function(e, t) {
                J ? J.then(e) : J = new ye(function(e) {
                    t || (t = document.body),
                        function(e, t) {
                            var n, r = window.requestAnimationFrame,
                                i = ["ms", "moz", "webkit"];
                            for (n = 0; n < i.length && !r; n++) r = window[i[n] + "RequestAnimationFrame"];
                            r || (r = function(e) {
                                window.setTimeout(e, 0)
                            }), r(e, t)
                        }(e, t)
                }).then(e)
            },
            setTimeout: be,
            setInterval: xe,
            setEditorTimeout: function(e, t, n) {
                return be(function() {
                    e.removed || t()
                }, n)
            },
            setEditorInterval: function(e, t, n) {
                var r;
                return r = xe(function() {
                    e.removed ? clearInterval(r) : t()
                }, n)
            },
            debounce: we,
            throttle: we,
            clearInterval: function(e) {
                return clearInterval(e)
            },
            clearTimeout: function(e) {
                return clearTimeout(e)
            }
        },
        Ee = /^(?:mouse|contextmenu)|click/,
        ke = {
            keyLocation: 1,
            layerX: 1,
            layerY: 1,
            returnValue: 1,
            webkitMovementX: 1,
            webkitMovementY: 1,
            keyIdentifier: 1
        },
        Se = function() {
            return !1
        },
        Ne = function() {
            return !0
        },
        Te = function(e, t, n, r) {
            e.addEventListener ? e.addEventListener(t, n, r || !1) : e.attachEvent && e.attachEvent("on" + t, n)
        },
        Ae = function(e, t, n, r) {
            e.removeEventListener ? e.removeEventListener(t, n, r || !1) : e.detachEvent && e.detachEvent("on" + t, n)
        },
        De = function(e, t) {
            var n, r, i, o, a, u, s = t || {};
            for (n in e) ke[n] || (s[n] = e[n]);
            if (s.target || (s.target = s.srcElement || document), ve.experimentalShadowDom && (s.target = (r = e, i = s.target, a = i, (o = r.path) && 0 < o.length && (a = o[0]), r.composedPath && (o = r.composedPath()) && 0 < o.length && (a = o[0]), a)), e && Ee.test(e.type) && e.pageX === undefined && e.clientX !== undefined) {
                var l = s.target.ownerDocument || document,
                    f = l.documentElement,
                    c = l.body;
                s.pageX = e.clientX + (f && f.scrollLeft || c && c.scrollLeft || 0) - (f && f.clientLeft || c && c.clientLeft || 0), s.pageY = e.clientY + (f && f.scrollTop || c && c.scrollTop || 0) - (f && f.clientTop || c && c.clientTop || 0)
            }
            return s.preventDefault = function() {
                s.isDefaultPrevented = Ne, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
            }, s.stopPropagation = function() {
                s.isPropagationStopped = Ne, e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0)
            }, !(s.stopImmediatePropagation = function() {
                s.isImmediatePropagationStopped = Ne, s.stopPropagation()
            }) == ((u = s).isDefaultPrevented === Ne || u.isDefaultPrevented === Se) && (s.isDefaultPrevented = Se, s.isPropagationStopped = Se, s.isImmediatePropagationStopped = Se), "undefined" == typeof s.metaKey && (s.metaKey = !1), s
        },
        _e = function(e, t, n) {
            var r = e.document,
                i = {
                    type: "ready"
                };
            if (n.domLoaded) t(i);
            else {
                var o = function() {
                        return "complete" === r.readyState || "interactive" === r.readyState && r.body
                    },
                    a = function() {
                        n.domLoaded || (n.domLoaded = !0, t(i))
                    },
                    u = function() {
                        o() && (Ae(r, "readystatechange", u), a())
                    },
                    s = function() {
                        try {
                            r.documentElement.doScroll("left")
                        } catch (e) {
                            return void Ce.setTimeout(s)
                        }
                        a()
                    };
                !r.addEventListener || ve.ie && ve.ie < 11 ? (Te(r, "readystatechange", u), r.documentElement.doScroll && e.self === e.top && s()) : o() ? a() : Te(e, "DOMContentLoaded", a), Te(e, "load", a)
            }
        },
        Re = function() {
            var p, h, m, g, v, y = this,
                b = {};
            h = "mce-data-" + (+new Date).toString(32), g = "onmouseenter" in document.documentElement, m = "onfocusin" in document.documentElement, v = {
                mouseenter: "mouseover",
                mouseleave: "mouseout"
            }, p = 1, y.domLoaded = !1, y.events = b;
            var x = function(e, t) {
                var n, r, i, o, a = b[t];
                if (n = a && a[e.type])
                    for (r = 0, i = n.length; r < i; r++)
                        if ((o = n[r]) && !1 === o.func.call(o.scope, e) && e.preventDefault(), e.isImmediatePropagationStopped()) return
            };
            y.bind = function(e, t, n, r) {
                var i, o, a, u, s, l, f, c = window,
                    d = function(e) {
                        x(De(e || c.event), i)
                    };
                if (e && 3 !== e.nodeType && 8 !== e.nodeType) {
                    for (e[h] ? i = e[h] : (i = p++, e[h] = i, b[i] = {}), r = r || e, a = (t = t.split(" ")).length; a--;) l = d, s = f = !1, "DOMContentLoaded" === (u = t[a]) && (u = "ready"), y.domLoaded && "ready" === u && "complete" === e.readyState ? n.call(r, De({
                        type: u
                    })) : (g || (s = v[u]) && (l = function(e) {
                        var t, n;
                        if (t = e.currentTarget, (n = e.relatedTarget) && t.contains) n = t.contains(n);
                        else
                            for (; n && n !== t;) n = n.parentNode;
                        n || ((e = De(e || c.event)).type = "mouseout" === e.type ? "mouseleave" : "mouseenter", e.target = t, x(e, i))
                    }), m || "focusin" !== u && "focusout" !== u || (f = !0, s = "focusin" === u ? "focus" : "blur", l = function(e) {
                        (e = De(e || c.event)).type = "focus" === e.type ? "focusin" : "focusout", x(e, i)
                    }), (o = b[i][u]) ? "ready" === u && y.domLoaded ? n({
                        type: u
                    }) : o.push({
                        func: n,
                        scope: r
                    }) : (b[i][u] = o = [{
                        func: n,
                        scope: r
                    }], o.fakeName = s, o.capture = f, o.nativeHandler = l, "ready" === u ? _e(e, l, y) : Te(e, s || u, l, f)));
                    return e = o = 0, n
                }
            }, y.unbind = function(t, e, n) {
                var r, i, o, a, u, s;
                if (!t || 3 === t.nodeType || 8 === t.nodeType) return y;
                if (r = t[h]) {
                    if (s = b[r], e) {
                        for (o = (e = e.split(" ")).length; o--;)
                            if (i = s[u = e[o]]) {
                                if (n)
                                    for (a = i.length; a--;)
                                        if (i[a].func === n) {
                                            var l = i.nativeHandler,
                                                f = i.fakeName,
                                                c = i.capture;
                                            (i = i.slice(0, a).concat(i.slice(a + 1))).nativeHandler = l, i.fakeName = f, i.capture = c, s[u] = i
                                        }
                                n && 0 !== i.length || (delete s[u], Ae(t, i.fakeName || u, i.nativeHandler, i.capture))
                            }
                    } else {
                        for (u in s) i = s[u], Ae(t, i.fakeName || u, i.nativeHandler, i.capture);
                        s = {}
                    }
                    for (u in s) return y;
                    delete b[r];
                    try {
                        delete t[h]
                    } catch (e) {
                        t[h] = null
                    }
                }
                return y
            }, y.fire = function(e, t, n) {
                var r;
                if (!e || 3 === e.nodeType || 8 === e.nodeType) return y;
                for ((n = De(null, n)).type = t, n.target = e;
                    (r = e[h]) && x(n, r), (e = e.parentNode || e.ownerDocument || e.defaultView || e.parentWindow) && !n.isPropagationStopped(););
                return y
            }, y.clean = function(e) {
                var t, n, r = y.unbind;
                if (!e || 3 === e.nodeType || 8 === e.nodeType) return y;
                if (e[h] && r(e), e.getElementsByTagName || (e = e.document), e && e.getElementsByTagName)
                    for (r(e), t = (n = e.getElementsByTagName("*")).length; t--;)(e = n[t])[h] && r(e);
                return y
            }, y.destroy = function() {
                b = {}
            }, y.cancel = function(e) {
                return e && (e.preventDefault(), e.stopImmediatePropagation()), !1
            }
        };
    Re.Event = new Re, Re.Event.bind(window, "ready", function() {});
    var Oe = "sizzle" + -new Date,
        Fe = window.document,
        Be = 0,
        Pe = 0,
        Le = ht(),
        Ie = ht(),
        je = ht(),
        Me = function(e, t) {
            return e === t && (le = !0), 0
        },
        qe = typeof undefined,
        He = {}.hasOwnProperty,
        ze = [],
        Ue = ze.pop,
        $e = ze.push,
        Ve = ze.push,
        We = ze.slice,
        Xe = ze.indexOf || function(e) {
            for (var t = 0, n = this.length; t < n; t++)
                if (this[t] === e) return t;
            return -1
        },
        Ke = "[\\x20\\t\\r\\n\\f]",
        Ye = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
        Ge = "\\[" + Ke + "*(" + Ye + ")(?:" + Ke + "*([*^$|!~]?=)" + Ke + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + Ye + "))|)" + Ke + "*\\]",
        Qe = ":(" + Ye + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + Ge + ")*)|.*)\\)|)",
        Je = new RegExp("^" + Ke + "+|((?:^|[^\\\\])(?:\\\\.)*)" + Ke + "+$", "g"),
        Ze = new RegExp("^" + Ke + "*," + Ke + "*"),
        et = new RegExp("^" + Ke + "*([>+~]|" + Ke + ")" + Ke + "*"),
        tt = new RegExp("=" + Ke + "*([^\\]'\"]*?)" + Ke + "*\\]", "g"),
        nt = new RegExp(Qe),
        rt = new RegExp("^" + Ye + "$"),
        it = {
            ID: new RegExp("^#(" + Ye + ")"),
            CLASS: new RegExp("^\\.(" + Ye + ")"),
            TAG: new RegExp("^(" + Ye + "|[*])"),
            ATTR: new RegExp("^" + Ge),
            PSEUDO: new RegExp("^" + Qe),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + Ke + "*(even|odd|(([+-]|)(\\d*)n|)" + Ke + "*(?:([+-]|)" + Ke + "*(\\d+)|))" + Ke + "*\\)|)", "i"),
            bool: new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$", "i"),
            needsContext: new RegExp("^" + Ke + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + Ke + "*((?:-\\d)?\\d*)" + Ke + "*\\)|)(?=[^-]|$)", "i")
        },
        ot = /^(?:input|select|textarea|button)$/i,
        at = /^h\d$/i,
        ut = /^[^{]+\{\s*\[native \w/,
        st = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
        lt = /[+~]/,
        ft = /'|\\/g,
        ct = new RegExp("\\\\([\\da-f]{1,6}" + Ke + "?|(" + Ke + ")|.)", "ig"),
        dt = function(e, t, n) {
            var r = "0x" + t - 65536;
            return r != r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
        };
    try {
        Ve.apply(ze = We.call(Fe.childNodes), Fe.childNodes), ze[Fe.childNodes.length].nodeType
    } catch (e) {
        Ve = {
            apply: ze.length ? function(e, t) {
                $e.apply(e, We.call(t))
            } : function(e, t) {
                for (var n = e.length, r = 0; e[n++] = t[r++];);
                e.length = n - 1
            }
        }
    }
    var pt = function(e, t, n, r) {
        var i, o, a, u, s, l, f, c, d, p;
        if ((t ? t.ownerDocument || t : Fe) !== ce && fe(t), n = n || [], !e || "string" != typeof e) return n;
        if (1 !== (u = (t = t || ce).nodeType) && 9 !== u) return [];
        if (pe && !r) {
            if (i = st.exec(e))
                if (a = i[1]) {
                    if (9 === u) {
                        if (!(o = t.getElementById(a)) || !o.parentNode) return n;
                        if (o.id === a) return n.push(o), n
                    } else if (t.ownerDocument && (o = t.ownerDocument.getElementById(a)) && ge(t, o) && o.id === a) return n.push(o), n
                } else {
                    if (i[2]) return Ve.apply(n, t.getElementsByTagName(e)), n;
                    if ((a = i[3]) && ee.getElementsByClassName) return Ve.apply(n, t.getElementsByClassName(a)), n
                }
            if (ee.qsa && (!he || !he.test(e))) {
                if (c = f = Oe, d = t, p = 9 === u && e, 1 === u && "object" !== t.nodeName.toLowerCase()) {
                    for (l = ie(e), (f = t.getAttribute("id")) ? c = f.replace(ft, "\\$&") : t.setAttribute("id", c), c = "[id='" + c + "'] ", s = l.length; s--;) l[s] = c + Ct(l[s]);
                    d = lt.test(e) && xt(t.parentNode) || t, p = l.join(",")
                }
                if (p) try {
                    return Ve.apply(n, d.querySelectorAll(p)), n
                } catch (e) {} finally {
                    f || t.removeAttribute("id")
                }
            }
        }
        return ae(e.replace(Je, "$1"), t, n, r)
    };

    function ht() {
        var r = [];
        return function e(t, n) {
            return r.push(t + " ") > te.cacheLength && delete e[r.shift()], e[t + " "] = n
        }
    }

    function mt(e) {
        return e[Oe] = !0, e
    }

    function gt(e, t) {
        var n = t && e,
            r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || 1 << 31) - (~e.sourceIndex || 1 << 31);
        if (r) return r;
        if (n)
            for (; n = n.nextSibling;)
                if (n === t) return -1;
        return e ? 1 : -1
    }

    function vt(t) {
        return function(e) {
            return "input" === e.nodeName.toLowerCase() && e.type === t
        }
    }

    function yt(n) {
        return function(e) {
            var t = e.nodeName.toLowerCase();
            return ("input" === t || "button" === t) && e.type === n
        }
    }

    function bt(a) {
        return mt(function(o) {
            return o = +o, mt(function(e, t) {
                for (var n, r = a([], e.length, o), i = r.length; i--;) e[n = r[i]] && (e[n] = !(t[n] = e[n]))
            })
        })
    }

    function xt(e) {
        return e && typeof e.getElementsByTagName !== qe && e
    }
    for (Z in ee = pt.support = {}, re = pt.isXML = function(e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return !!t && "HTML" !== t.nodeName
        }, fe = pt.setDocument = function(e) {
            var t, s = e ? e.ownerDocument || e : Fe,
                n = s.defaultView;
            return s !== ce && 9 === s.nodeType && s.documentElement ? (de = (ce = s).documentElement, pe = !re(s), n && n !== function(e) {
                try {
                    return e.top
                } catch (e) {}
                return null
            }(n) && (n.addEventListener ? n.addEventListener("unload", function() {
                fe()
            }, !1) : n.attachEvent && n.attachEvent("onunload", function() {
                fe()
            })), ee.attributes = !0, ee.getElementsByTagName = !0, ee.getElementsByClassName = ut.test(s.getElementsByClassName), ee.getById = !0, te.find.ID = function(e, t) {
                if (typeof t.getElementById !== qe && pe) {
                    var n = t.getElementById(e);
                    return n && n.parentNode ? [n] : []
                }
            }, te.filter.ID = function(e) {
                var t = e.replace(ct, dt);
                return function(e) {
                    return e.getAttribute("id") === t
                }
            }, te.find.TAG = ee.getElementsByTagName ? function(e, t) {
                if (typeof t.getElementsByTagName !== qe) return t.getElementsByTagName(e)
            } : function(e, t) {
                var n, r = [],
                    i = 0,
                    o = t.getElementsByTagName(e);
                if ("*" === e) {
                    for (; n = o[i++];) 1 === n.nodeType && r.push(n);
                    return r
                }
                return o
            }, te.find.CLASS = ee.getElementsByClassName && function(e, t) {
                if (pe) return t.getElementsByClassName(e)
            }, me = [], he = [], ee.disconnectedMatch = !0, he = he.length && new RegExp(he.join("|")), me = me.length && new RegExp(me.join("|")), t = ut.test(de.compareDocumentPosition), ge = t || ut.test(de.contains) ? function(e, t) {
                var n = 9 === e.nodeType ? e.documentElement : e,
                    r = t && t.parentNode;
                return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)))
            } : function(e, t) {
                if (t)
                    for (; t = t.parentNode;)
                        if (t === e) return !0;
                return !1
            }, Me = t ? function(e, t) {
                if (e === t) return le = !0, 0;
                var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
                return n || (1 & (n = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !ee.sortDetached && t.compareDocumentPosition(e) === n ? e === s || e.ownerDocument === Fe && ge(Fe, e) ? -1 : t === s || t.ownerDocument === Fe && ge(Fe, t) ? 1 : se ? Xe.call(se, e) - Xe.call(se, t) : 0 : 4 & n ? -1 : 1)
            } : function(e, t) {
                if (e === t) return le = !0, 0;
                var n, r = 0,
                    i = e.parentNode,
                    o = t.parentNode,
                    a = [e],
                    u = [t];
                if (!i || !o) return e === s ? -1 : t === s ? 1 : i ? -1 : o ? 1 : se ? Xe.call(se, e) - Xe.call(se, t) : 0;
                if (i === o) return gt(e, t);
                for (n = e; n = n.parentNode;) a.unshift(n);
                for (n = t; n = n.parentNode;) u.unshift(n);
                for (; a[r] === u[r];) r++;
                return r ? gt(a[r], u[r]) : a[r] === Fe ? -1 : u[r] === Fe ? 1 : 0
            }, s) : ce
        }, pt.matches = function(e, t) {
            return pt(e, null, null, t)
        }, pt.matchesSelector = function(e, t) {
            if ((e.ownerDocument || e) !== ce && fe(e), t = t.replace(tt, "='$1']"), ee.matchesSelector && pe && (!me || !me.test(t)) && (!he || !he.test(t))) try {
                var n = (void 0).call(e, t);
                if (n || ee.disconnectedMatch || e.document && 11 !== e.document.nodeType) return n
            } catch (e) {}
            return 0 < pt(t, ce, null, [e]).length
        }, pt.contains = function(e, t) {
            return (e.ownerDocument || e) !== ce && fe(e), ge(e, t)
        }, pt.attr = function(e, t) {
            (e.ownerDocument || e) !== ce && fe(e);
            var n = te.attrHandle[t.toLowerCase()],
                r = n && He.call(te.attrHandle, t.toLowerCase()) ? n(e, t, !pe) : undefined;
            return r !== undefined ? r : ee.attributes || !pe ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
        }, pt.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        }, pt.uniqueSort = function(e) {
            var t, n = [],
                r = 0,
                i = 0;
            if (le = !ee.detectDuplicates, se = !ee.sortStable && e.slice(0), e.sort(Me), le) {
                for (; t = e[i++];) t === e[i] && (r = n.push(i));
                for (; r--;) e.splice(n[r], 1)
            }
            return se = null, e
        }, ne = pt.getText = function(e) {
            var t, n = "",
                r = 0,
                i = e.nodeType;
            if (i) {
                if (1 === i || 9 === i || 11 === i) {
                    if ("string" == typeof e.textContent) return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling) n += ne(e)
                } else if (3 === i || 4 === i) return e.nodeValue
            } else
                for (; t = e[r++];) n += ne(t);
            return n
        }, (te = pt.selectors = {
            cacheLength: 50,
            createPseudo: mt,
            match: it,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    return e[1] = e[1].replace(ct, dt), e[3] = (e[3] || e[4] || e[5] || "").replace(ct, dt), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                },
                CHILD: function(e) {
                    return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || pt.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && pt.error(e[0]), e
                },
                PSEUDO: function(e) {
                    var t, n = !e[6] && e[2];
                    return it.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && nt.test(n) && (t = ie(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
                }
            },
            filter: {
                TAG: function(e) {
                    var t = e.replace(ct, dt).toLowerCase();
                    return "*" === e ? function() {
                        return !0
                    } : function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                },
                CLASS: function(e) {
                    var t = Le[e + " "];
                    return t || (t = new RegExp("(^|" + Ke + ")" + e + "(" + Ke + "|$)")) && Le(e, function(e) {
                        return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== qe && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(n, r, i) {
                    return function(e) {
                        var t = pt.attr(e, n);
                        return null == t ? "!=" === r : !r || (t += "", "=" === r ? t === i : "!=" === r ? t !== i : "^=" === r ? i && 0 === t.indexOf(i) : "*=" === r ? i && -1 < t.indexOf(i) : "$=" === r ? i && t.slice(-i.length) === i : "~=" === r ? -1 < (" " + t + " ").indexOf(i) : "|=" === r && (t === i || t.slice(0, i.length + 1) === i + "-"))
                    }
                },
                CHILD: function(p, e, t, h, m) {
                    var g = "nth" !== p.slice(0, 3),
                        v = "last" !== p.slice(-4),
                        y = "of-type" === e;
                    return 1 === h && 0 === m ? function(e) {
                        return !!e.parentNode
                    } : function(e, t, n) {
                        var r, i, o, a, u, s, l = g !== v ? "nextSibling" : "previousSibling",
                            f = e.parentNode,
                            c = y && e.nodeName.toLowerCase(),
                            d = !n && !y;
                        if (f) {
                            if (g) {
                                for (; l;) {
                                    for (o = e; o = o[l];)
                                        if (y ? o.nodeName.toLowerCase() === c : 1 === o.nodeType) return !1;
                                    s = l = "only" === p && !s && "nextSibling"
                                }
                                return !0
                            }
                            if (s = [v ? f.firstChild : f.lastChild], v && d) {
                                for (u = (r = (i = f[Oe] || (f[Oe] = {}))[p] || [])[0] === Be && r[1], a = r[0] === Be && r[2], o = u && f.childNodes[u]; o = ++u && o && o[l] || (a = u = 0) || s.pop();)
                                    if (1 === o.nodeType && ++a && o === e) {
                                        i[p] = [Be, u, a];
                                        break
                                    }
                            } else if (d && (r = (e[Oe] || (e[Oe] = {}))[p]) && r[0] === Be) a = r[1];
                            else
                                for (;
                                    (o = ++u && o && o[l] || (a = u = 0) || s.pop()) && ((y ? o.nodeName.toLowerCase() !== c : 1 !== o.nodeType) || !++a || (d && ((o[Oe] || (o[Oe] = {}))[p] = [Be, a]), o !== e)););
                            return (a -= m) === h || a % h == 0 && 0 <= a / h
                        }
                    }
                },
                PSEUDO: function(e, o) {
                    var t, a = te.pseudos[e] || te.setFilters[e.toLowerCase()] || pt.error("unsupported pseudo: " + e);
                    return a[Oe] ? a(o) : 1 < a.length ? (t = [e, e, "", o], te.setFilters.hasOwnProperty(e.toLowerCase()) ? mt(function(e, t) {
                        for (var n, r = a(e, o), i = r.length; i--;) e[n = Xe.call(e, r[i])] = !(t[n] = r[i])
                    }) : function(e) {
                        return a(e, 0, t)
                    }) : a
                }
            },
            pseudos: {
                not: mt(function(e) {
                    var r = [],
                        i = [],
                        u = oe(e.replace(Je, "$1"));
                    return u[Oe] ? mt(function(e, t, n, r) {
                        for (var i, o = u(e, null, r, []), a = e.length; a--;)(i = o[a]) && (e[a] = !(t[a] = i))
                    }) : function(e, t, n) {
                        return r[0] = e, u(r, null, n, i), !i.pop()
                    }
                }),
                has: mt(function(t) {
                    return function(e) {
                        return 0 < pt(t, e).length
                    }
                }),
                contains: mt(function(t) {
                    return t = t.replace(ct, dt),
                        function(e) {
                            return -1 < (e.textContent || e.innerText || ne(e)).indexOf(t)
                        }
                }),
                lang: mt(function(n) {
                    return rt.test(n || "") || pt.error("unsupported lang: " + n), n = n.replace(ct, dt).toLowerCase(),
                        function(e) {
                            var t;
                            do {
                                if (t = pe ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (t = t.toLowerCase()) === n || 0 === t.indexOf(n + "-")
                            } while ((e = e.parentNode) && 1 === e.nodeType);
                            return !1
                        }
                }),
                target: function(e) {
                    var t = window.location && window.location.hash;
                    return t && t.slice(1) === e.id
                },
                root: function(e) {
                    return e === de
                },
                focus: function(e) {
                    return e === ce.activeElement && (!ce.hasFocus || ce.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: function(e) {
                    return !1 === e.disabled
                },
                disabled: function(e) {
                    return !0 === e.disabled
                },
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && !!e.checked || "option" === t && !!e.selected
                },
                selected: function(e) {
                    return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling)
                        if (e.nodeType < 6) return !1;
                    return !0
                },
                parent: function(e) {
                    return !te.pseudos.empty(e)
                },
                header: function(e) {
                    return at.test(e.nodeName)
                },
                input: function(e) {
                    return ot.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && "button" === e.type || "button" === t
                },
                text: function(e) {
                    var t;
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                },
                first: bt(function() {
                    return [0]
                }),
                last: bt(function(e, t) {
                    return [t - 1]
                }),
                eq: bt(function(e, t, n) {
                    return [n < 0 ? n + t : n]
                }),
                even: bt(function(e, t) {
                    for (var n = 0; n < t; n += 2) e.push(n);
                    return e
                }),
                odd: bt(function(e, t) {
                    for (var n = 1; n < t; n += 2) e.push(n);
                    return e
                }),
                lt: bt(function(e, t, n) {
                    for (var r = n < 0 ? n + t : n; 0 <= --r;) e.push(r);
                    return e
                }),
                gt: bt(function(e, t, n) {
                    for (var r = n < 0 ? n + t : n; ++r < t;) e.push(r);
                    return e
                })
            }
        }).pseudos.nth = te.pseudos.eq, {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        }) te.pseudos[Z] = vt(Z);
    for (Z in {
            submit: !0,
            reset: !0
        }) te.pseudos[Z] = yt(Z);

    function wt() {}

    function Ct(e) {
        for (var t = 0, n = e.length, r = ""; t < n; t++) r += e[t].value;
        return r
    }

    function Et(a, e, t) {
        var u = e.dir,
            s = t && "parentNode" === u,
            l = Pe++;
        return e.first ? function(e, t, n) {
            for (; e = e[u];)
                if (1 === e.nodeType || s) return a(e, t, n)
        } : function(e, t, n) {
            var r, i, o = [Be, l];
            if (n) {
                for (; e = e[u];)
                    if ((1 === e.nodeType || s) && a(e, t, n)) return !0
            } else
                for (; e = e[u];)
                    if (1 === e.nodeType || s) {
                        if ((r = (i = e[Oe] || (e[Oe] = {}))[u]) && r[0] === Be && r[1] === l) return o[2] = r[2];
                        if ((i[u] = o)[2] = a(e, t, n)) return !0
                    }
        }
    }

    function kt(i) {
        return 1 < i.length ? function(e, t, n) {
            for (var r = i.length; r--;)
                if (!i[r](e, t, n)) return !1;
            return !0
        } : i[0]
    }

    function St(e, t, n, r, i) {
        for (var o, a = [], u = 0, s = e.length, l = null != t; u < s; u++)(o = e[u]) && (n && !n(o, r, i) || (a.push(o), l && t.push(u)));
        return a
    }

    function Nt(p, h, m, g, v, e) {
        return g && !g[Oe] && (g = Nt(g)), v && !v[Oe] && (v = Nt(v, e)), mt(function(e, t, n, r) {
            var i, o, a, u = [],
                s = [],
                l = t.length,
                f = e || function(e, t, n) {
                    for (var r = 0, i = t.length; r < i; r++) pt(e, t[r], n);
                    return n
                }(h || "*", n.nodeType ? [n] : n, []),
                c = !p || !e && h ? f : St(f, u, p, n, r),
                d = m ? v || (e ? p : l || g) ? [] : t : c;
            if (m && m(c, d, n, r), g)
                for (i = St(d, s), g(i, [], n, r), o = i.length; o--;)(a = i[o]) && (d[s[o]] = !(c[s[o]] = a));
            if (e) {
                if (v || p) {
                    if (v) {
                        for (i = [], o = d.length; o--;)(a = d[o]) && i.push(c[o] = a);
                        v(null, d = [], i, r)
                    }
                    for (o = d.length; o--;)(a = d[o]) && -1 < (i = v ? Xe.call(e, a) : u[o]) && (e[i] = !(t[i] = a))
                }
            } else d = St(d === t ? d.splice(l, d.length) : d), v ? v(null, t, d, r) : Ve.apply(t, d)
        })
    }

    function Tt(e) {
        for (var r, t, n, i = e.length, o = te.relative[e[0].type], a = o || te.relative[" "], u = o ? 1 : 0, s = Et(function(e) {
                return e === r
            }, a, !0), l = Et(function(e) {
                return -1 < Xe.call(r, e)
            }, a, !0), f = [function(e, t, n) {
                return !o && (n || t !== ue) || ((r = t).nodeType ? s(e, t, n) : l(e, t, n))
            }]; u < i; u++)
            if (t = te.relative[e[u].type]) f = [Et(kt(f), t)];
            else {
                if ((t = te.filter[e[u].type].apply(null, e[u].matches))[Oe]) {
                    for (n = ++u; n < i && !te.relative[e[n].type]; n++);
                    return Nt(1 < u && kt(f), 1 < u && Ct(e.slice(0, u - 1).concat({
                        value: " " === e[u - 2].type ? "*" : ""
                    })).replace(Je, "$1"), t, u < n && Tt(e.slice(u, n)), n < i && Tt(e = e.slice(n)), n < i && Ct(e))
                }
                f.push(t)
            }
        return kt(f)
    }
    wt.prototype = te.filters = te.pseudos, te.setFilters = new wt, ie = pt.tokenize = function(e, t) {
        var n, r, i, o, a, u, s, l = Ie[e + " "];
        if (l) return t ? 0 : l.slice(0);
        for (a = e, u = [], s = te.preFilter; a;) {
            for (o in n && !(r = Ze.exec(a)) || (r && (a = a.slice(r[0].length) || a), u.push(i = [])), n = !1, (r = et.exec(a)) && (n = r.shift(), i.push({
                    value: n,
                    type: r[0].replace(Je, " ")
                }), a = a.slice(n.length)), te.filter) !(r = it[o].exec(a)) || s[o] && !(r = s[o](r)) || (n = r.shift(), i.push({
                value: n,
                type: o,
                matches: r
            }), a = a.slice(n.length));
            if (!n) break
        }
        return t ? a.length : a ? pt.error(e) : Ie(e, u).slice(0)
    }, oe = pt.compile = function(e, t) {
        var n, g, v, y, b, r, i = [],
            o = [],
            a = je[e + " "];
        if (!a) {
            for (t || (t = ie(e)), n = t.length; n--;)(a = Tt(t[n]))[Oe] ? i.push(a) : o.push(a);
            (a = je(e, (g = o, y = 0 < (v = i).length, b = 0 < g.length, r = function(e, t, n, r, i) {
                var o, a, u, s = 0,
                    l = "0",
                    f = e && [],
                    c = [],
                    d = ue,
                    p = e || b && te.find.TAG("*", i),
                    h = Be += null == d ? 1 : Math.random() || .1,
                    m = p.length;
                for (i && (ue = t !== ce && t); l !== m && null != (o = p[l]); l++) {
                    if (b && o) {
                        for (a = 0; u = g[a++];)
                            if (u(o, t, n)) {
                                r.push(o);
                                break
                            }
                        i && (Be = h)
                    }
                    y && ((o = !u && o) && s--, e && f.push(o))
                }
                if (s += l, y && l !== s) {
                    for (a = 0; u = v[a++];) u(f, c, t, n);
                    if (e) {
                        if (0 < s)
                            for (; l--;) f[l] || c[l] || (c[l] = Ue.call(r));
                        c = St(c)
                    }
                    Ve.apply(r, c), i && !e && 0 < c.length && 1 < s + v.length && pt.uniqueSort(r)
                }
                return i && (Be = h, ue = d), f
            }, y ? mt(r) : r))).selector = e
        }
        return a
    }, ae = pt.select = function(e, t, n, r) {
        var i, o, a, u, s, l = "function" == typeof e && e,
            f = !r && ie(e = l.selector || e);
        if (n = n || [], 1 === f.length) {
            if (2 < (o = f[0] = f[0].slice(0)).length && "ID" === (a = o[0]).type && ee.getById && 9 === t.nodeType && pe && te.relative[o[1].type]) {
                if (!(t = (te.find.ID(a.matches[0].replace(ct, dt), t) || [])[0])) return n;
                l && (t = t.parentNode), e = e.slice(o.shift().value.length)
            }
            for (i = it.needsContext.test(e) ? 0 : o.length; i-- && (a = o[i], !te.relative[u = a.type]);)
                if ((s = te.find[u]) && (r = s(a.matches[0].replace(ct, dt), lt.test(o[0].type) && xt(t.parentNode) || t))) {
                    if (o.splice(i, 1), !(e = r.length && Ct(o))) return Ve.apply(n, r), n;
                    break
                }
        }
        return (l || oe(e, f))(r, t, !pe, n, lt.test(e) && xt(t.parentNode) || t), n
    }, ee.sortStable = Oe.split("").sort(Me).join("") === Oe, ee.detectDuplicates = !!le, fe(), ee.sortDetached = !0;
    var At = Array.isArray,
        Dt = function(e, t, n) {
            var r, i;
            if (!e) return 0;
            if (n = n || e, e.length !== undefined) {
                for (r = 0, i = e.length; r < i; r++)
                    if (!1 === t.call(n, e[r], r, e)) return 0
            } else
                for (r in e)
                    if (e.hasOwnProperty(r) && !1 === t.call(n, e[r], r, e)) return 0;
            return 1
        },
        _t = function(e, t, n) {
            var r, i;
            for (r = 0, i = e.length; r < i; r++)
                if (t.call(n, e[r], r, e)) return r;
            return -1
        },
        Rt = {
            isArray: At,
            toArray: function(e) {
                var t, n, r = e;
                if (!At(e))
                    for (r = [], t = 0, n = e.length; t < n; t++) r[t] = e[t];
                return r
            },
            each: Dt,
            map: function(n, r) {
                var i = [];
                return Dt(n, function(e, t) {
                    i.push(r(e, t, n))
                }), i
            },
            filter: function(n, r) {
                var i = [];
                return Dt(n, function(e, t) {
                    r && !r(e, t, n) || i.push(e)
                }), i
            },
            indexOf: function(e, t) {
                var n, r;
                if (e)
                    for (n = 0, r = e.length; n < r; n++)
                        if (e[n] === t) return n;
                return -1
            },
            reduce: function(e, t, n, r) {
                var i = 0;
                for (arguments.length < 3 && (n = e[0]); i < e.length; i++) n = t.call(r, n, e[i], i);
                return n
            },
            findIndex: _t,
            find: function(e, t, n) {
                var r = _t(e, t, n);
                return -1 !== r ? e[r] : undefined
            },
            last: function(e) {
                return e[e.length - 1]
            }
        },
        Ot = /^\s*|\s*$/g,
        Ft = function(e) {
            return null === e || e === undefined ? "" : ("" + e).replace(Ot, "")
        },
        Bt = function(e, t) {
            return t ? !("array" !== t || !Rt.isArray(e)) || typeof e === t : e !== undefined
        },
        Pt = function(e, n, r, i) {
            i = i || this, e && (r && (e = e[r]), Rt.each(e, function(e, t) {
                if (!1 === n.call(i, e, t, r)) return !1;
                Pt(e, n, r, i)
            }))
        },
        Lt = {
            trim: Ft,
            isArray: Rt.isArray,
            is: Bt,
            toArray: Rt.toArray,
            makeMap: function(e, t, n) {
                var r;
                for (t = t || ",", "string" == typeof(e = e || []) && (e = e.split(t)), n = n || {}, r = e.length; r--;) n[e[r]] = {};
                return n
            },
            each: Rt.each,
            map: Rt.map,
            grep: Rt.filter,
            inArray: Rt.indexOf,
            hasOwn: function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            },
            extend: function(e, t) {
                for (var n, r, i, o = [], a = 2; a < arguments.length; a++) o[a - 2] = arguments[a];
                var u, s = arguments;
                for (n = 1, r = s.length; n < r; n++)
                    for (i in t = s[n]) t.hasOwnProperty(i) && (u = t[i]) !== undefined && (e[i] = u);
                return e
            },
            create: function(e, t, n) {
                var r, i, o, a, u, s = this,
                    l = 0;
                if (e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e), o = e[3].match(/(^|\.)(\w+)$/i)[2], !(i = s.createNS(e[3].replace(/\.\w+$/, ""), n))[o]) {
                    if ("static" === e[2]) return i[o] = t, void(this.onCreate && this.onCreate(e[2], e[3], i[o]));
                    t[o] || (t[o] = function() {}, l = 1), i[o] = t[o], s.extend(i[o].prototype, t), e[5] && (r = s.resolve(e[5]).prototype, a = e[5].match(/\.(\w+)$/i)[1], u = i[o], i[o] = l ? function() {
                        return r[a].apply(this, arguments)
                    } : function() {
                        return this.parent = r[a], u.apply(this, arguments)
                    }, i[o].prototype[o] = i[o], s.each(r, function(e, t) {
                        i[o].prototype[t] = r[t]
                    }), s.each(t, function(e, t) {
                        r[t] ? i[o].prototype[t] = function() {
                            return this.parent = r[t], e.apply(this, arguments)
                        } : t !== o && (i[o].prototype[t] = e)
                    })), s.each(t["static"], function(e, t) {
                        i[o][t] = e
                    })
                }
            },
            walk: Pt,
            createNS: function(e, t) {
                var n, r;
                for (t = t || window, e = e.split("."), n = 0; n < e.length; n++) t[r = e[n]] || (t[r] = {}), t = t[r];
                return t
            },
            resolve: function(e, t) {
                var n, r;
                for (t = t || window, n = 0, r = (e = e.split(".")).length; n < r && (t = t[e[n]]); n++);
                return t
            },
            explode: function(e, t) {
                return !e || Bt(e, "array") ? e : Rt.map(e.split(t || ","), Ft)
            },
            _addCacheSuffix: function(e) {
                var t = ve.cacheSuffix;
                return t && (e += (-1 === e.indexOf("?") ? "?" : "&") + t), e
            }
        },
        It = document,
        jt = Array.prototype.push,
        Mt = Array.prototype.slice,
        qt = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
        Ht = Re.Event,
        zt = Lt.makeMap("children,contents,next,prev"),
        Ut = function(e) {
            return void 0 !== e
        },
        $t = function(e) {
            return "string" == typeof e
        },
        Vt = function(e, t) {
            var n, r, i;
            for (i = (t = t || It).createElement("div"), n = t.createDocumentFragment(), i.innerHTML = e; r = i.firstChild;) n.appendChild(r);
            return n
        },
        Wt = function(e, t, n, r) {
            var i;
            if ($t(t)) t = Vt(t, un(e[0]));
            else if (t.length && !t.nodeType) {
                if (t = tn.makeArray(t), r)
                    for (i = t.length - 1; 0 <= i; i--) Wt(e, t[i], n, r);
                else
                    for (i = 0; i < t.length; i++) Wt(e, t[i], n, r);
                return e
            }
            if (t.nodeType)
                for (i = e.length; i--;) n.call(e[i], t);
            return e
        },
        Xt = function(e, t) {
            return e && t && -1 !== (" " + e.className + " ").indexOf(" " + t + " ")
        },
        Kt = function(e, t, n) {
            var r, i;
            return t = tn(t)[0], e.each(function() {
                var e = this;
                n && r === e.parentNode || (r = e.parentNode, i = t.cloneNode(!1), e.parentNode.insertBefore(i, e)), i.appendChild(e)
            }), e
        },
        Yt = Lt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " "),
        Gt = Lt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected", " "),
        Qt = {
            for: "htmlFor",
            class: "className",
            readonly: "readOnly"
        },
        Jt = {
            float: "cssFloat"
        },
        Zt = {},
        en = {},
        tn = function(e, t) {
            return new tn.fn.init(e, t)
        },
        nn = /^\s*|\s*$/g,
        rn = function(e) {
            return null === e || e === undefined ? "" : ("" + e).replace(nn, "")
        },
        on = function(e, t) {
            var n, r, i, o;
            if (e)
                if ((n = e.length) === undefined) {
                    for (r in e)
                        if (e.hasOwnProperty(r) && (o = e[r], !1 === t.call(o, r, o))) break
                } else
                    for (i = 0; i < n && (o = e[i], !1 !== t.call(o, i, o)); i++);
            return e
        },
        an = function(e, n) {
            var r = [];
            return on(e, function(e, t) {
                n(t, e) && r.push(t)
            }), r
        },
        un = function(e) {
            return e ? 9 === e.nodeType ? e : e.ownerDocument : It
        };
    tn.fn = tn.prototype = {
        constructor: tn,
        selector: "",
        context: null,
        length: 0,
        init: function(e, t) {
            var n, r, i = this;
            if (!e) return i;
            if (e.nodeType) return i.context = i[0] = e, i.length = 1, i;
            if (t && t.nodeType) i.context = t;
            else {
                if (t) return tn(e).attr(t);
                i.context = t = document
            }
            if ($t(e)) {
                if (!(n = "<" === (i.selector = e).charAt(0) && ">" === e.charAt(e.length - 1) && 3 <= e.length ? [null, e, null] : qt.exec(e))) return tn(t).find(e);
                if (n[1])
                    for (r = Vt(e, un(t)).firstChild; r;) jt.call(i, r), r = r.nextSibling;
                else {
                    if (!(r = un(t).getElementById(n[2]))) return i;
                    if (r.id !== n[2]) return i.find(e);
                    i.length = 1, i[0] = r
                }
            } else this.add(e, !1);
            return i
        },
        toArray: function() {
            return Lt.toArray(this)
        },
        add: function(e, t) {
            var n, r, i = this;
            if ($t(e)) return i.add(tn(e));
            if (!1 !== t)
                for (n = tn.unique(i.toArray().concat(tn.makeArray(e))), i.length = n.length, r = 0; r < n.length; r++) i[r] = n[r];
            else jt.apply(i, tn.makeArray(e));
            return i
        },
        attr: function(t, n) {
            var e, r = this;
            if ("object" == typeof t) on(t, function(e, t) {
                r.attr(e, t)
            });
            else {
                if (!Ut(n)) {
                    if (r[0] && 1 === r[0].nodeType) {
                        if ((e = Zt[t]) && e.get) return e.get(r[0], t);
                        if (Gt[t]) return r.prop(t) ? t : undefined;
                        null === (n = r[0].getAttribute(t, 2)) && (n = undefined)
                    }
                    return n
                }
                this.each(function() {
                    var e;
                    if (1 === this.nodeType) {
                        if ((e = Zt[t]) && e.set) return void e.set(this, n);
                        null === n ? this.removeAttribute(t, 2) : this.setAttribute(t, n, 2)
                    }
                })
            }
            return r
        },
        removeAttr: function(e) {
            return this.attr(e, null)
        },
        prop: function(e, t) {
            var n = this;
            if ("object" == typeof(e = Qt[e] || e)) on(e, function(e, t) {
                n.prop(e, t)
            });
            else {
                if (!Ut(t)) return n[0] && n[0].nodeType && e in n[0] ? n[0][e] : t;
                this.each(function() {
                    1 === this.nodeType && (this[e] = t)
                })
            }
            return n
        },
        css: function(t, n) {
            var e, r, i = this,
                o = function(e) {
                    return e.replace(/-(\D)/g, function(e, t) {
                        return t.toUpperCase()
                    })
                },
                a = function(e) {
                    return e.replace(/[A-Z]/g, function(e) {
                        return "-" + e
                    })
                };
            if ("object" == typeof t) on(t, function(e, t) {
                i.css(e, t)
            });
            else if (Ut(n)) t = o(t), "number" != typeof n || Yt[t] || (n = n.toString() + "px"), i.each(function() {
                var e = this.style;
                if ((r = en[t]) && r.set) r.set(this, n);
                else {
                    try {
                        this.style[Jt[t] || t] = n
                    } catch (e) {}
                    null !== n && "" !== n || (e.removeProperty ? e.removeProperty(a(t)) : e.removeAttribute(t))
                }
            });
            else {
                if (e = i[0], (r = en[t]) && r.get) return r.get(e);
                if (!e.ownerDocument.defaultView) return e.currentStyle ? e.currentStyle[o(t)] : "";
                try {
                    return e.ownerDocument.defaultView.getComputedStyle(e, null).getPropertyValue(a(t))
                } catch (e) {
                    return undefined
                }
            }
            return i
        },
        remove: function() {
            for (var e, t = this.length; t--;) e = this[t], Ht.clean(e), e.parentNode && e.parentNode.removeChild(e);
            return this
        },
        empty: function() {
            for (var e, t = this.length; t--;)
                for (e = this[t]; e.firstChild;) e.removeChild(e.firstChild);
            return this
        },
        html: function(t) {
            var n, r = this;
            if (Ut(t)) {
                n = r.length;
                try {
                    for (; n--;) r[n].innerHTML = t
                } catch (e) {
                    tn(r[n]).empty().append(t)
                }
                return r
            }
            return r[0] ? r[0].innerHTML : ""
        },
        text: function(e) {
            var t, n = this;
            if (Ut(e)) {
                for (t = n.length; t--;) "innerText" in n[t] ? n[t].innerText = e : n[0].textContent = e;
                return n
            }
            return n[0] ? n[0].innerText || n[0].textContent : ""
        },
        append: function() {
            return Wt(this, arguments, function(e) {
                (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.appendChild(e)
            })
        },
        prepend: function() {
            return Wt(this, arguments, function(e) {
                (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.insertBefore(e, this.firstChild)
            }, !0)
        },
        before: function() {
            return this[0] && this[0].parentNode ? Wt(this, arguments, function(e) {
                this.parentNode.insertBefore(e, this)
            }) : this
        },
        after: function() {
            return this[0] && this[0].parentNode ? Wt(this, arguments, function(e) {
                this.parentNode.insertBefore(e, this.nextSibling)
            }, !0) : this
        },
        appendTo: function(e) {
            return tn(e).append(this), this
        },
        prependTo: function(e) {
            return tn(e).prepend(this), this
        },
        replaceWith: function(e) {
            return this.before(e).remove()
        },
        wrap: function(e) {
            return Kt(this, e)
        },
        wrapAll: function(e) {
            return Kt(this, e, !0)
        },
        wrapInner: function(e) {
            return this.each(function() {
                tn(this).contents().wrapAll(e)
            }), this
        },
        unwrap: function() {
            return this.parent().each(function() {
                tn(this).replaceWith(this.childNodes)
            })
        },
        clone: function() {
            var e = [];
            return this.each(function() {
                e.push(this.cloneNode(!0))
            }), tn(e)
        },
        addClass: function(e) {
            return this.toggleClass(e, !0)
        },
        removeClass: function(e) {
            return this.toggleClass(e, !1)
        },
        toggleClass: function(i, o) {
            var e = this;
            return "string" != typeof i || (-1 !== i.indexOf(" ") ? on(i.split(" "), function() {
                e.toggleClass(this, o)
            }) : e.each(function(e, t) {
                var n, r;
                (r = Xt(t, i)) !== o && (n = t.className, r ? t.className = rn((" " + n + " ").replace(" " + i + " ", " ")) : t.className += n ? " " + i : i)
            })), e
        },
        hasClass: function(e) {
            return Xt(this[0], e)
        },
        each: function(e) {
            return on(this, e)
        },
        on: function(e, t) {
            return this.each(function() {
                Ht.bind(this, e, t)
            })
        },
        off: function(e, t) {
            return this.each(function() {
                Ht.unbind(this, e, t)
            })
        },
        trigger: function(e) {
            return this.each(function() {
                "object" == typeof e ? Ht.fire(this, e.type, e) : Ht.fire(this, e)
            })
        },
        show: function() {
            return this.css("display", "")
        },
        hide: function() {
            return this.css("display", "none")
        },
        slice: function() {
            return new tn(Mt.apply(this, arguments))
        },
        eq: function(e) {
            return -1 === e ? this.slice(e) : this.slice(e, +e + 1)
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        find: function(e) {
            var t, n, r = [];
            for (t = 0, n = this.length; t < n; t++) tn.find(e, this[t], r);
            return tn(r)
        },
        filter: function(n) {
            return tn("function" == typeof n ? an(this.toArray(), function(e, t) {
                return n(t, e)
            }) : tn.filter(n, this.toArray()))
        },
        closest: function(n) {
            var r = [];
            return n instanceof tn && (n = n[0]), this.each(function(e, t) {
                for (; t;) {
                    if ("string" == typeof n && tn(t).is(n)) {
                        r.push(t);
                        break
                    }
                    if (t === n) {
                        r.push(t);
                        break
                    }
                    t = t.parentNode
                }
            }), tn(r)
        },
        offset: function(e) {
            var t, n, r, i, o = 0,
                a = 0;
            return e ? this.css(e) : ((t = this[0]) && (r = (n = t.ownerDocument).documentElement, t.getBoundingClientRect && (o = (i = t.getBoundingClientRect()).left + (r.scrollLeft || n.body.scrollLeft) - r.clientLeft, a = i.top + (r.scrollTop || n.body.scrollTop) - r.clientTop)), {
                left: o,
                top: a
            })
        },
        push: jt,
        sort: [].sort,
        splice: [].splice
    }, Lt.extend(tn, {
        extend: Lt.extend,
        makeArray: function(e) {
            return (t = e) && t === t.window || e.nodeType ? [e] : Lt.toArray(e);
            var t
        },
        inArray: function(e, t) {
            var n;
            if (t.indexOf) return t.indexOf(e);
            for (n = t.length; n--;)
                if (t[n] === e) return n;
            return -1
        },
        isArray: Lt.isArray,
        each: on,
        trim: rn,
        grep: an,
        find: pt,
        expr: pt.selectors,
        unique: pt.uniqueSort,
        text: pt.getText,
        contains: pt.contains,
        filter: function(e, t, n) {
            var r = t.length;
            for (n && (e = ":not(" + e + ")"); r--;) 1 !== t[r].nodeType && t.splice(r, 1);
            return t = 1 === t.length ? tn.find.matchesSelector(t[0], e) ? [t[0]] : [] : tn.find.matches(e, t)
        }
    });
    var sn = function(e, t, n) {
            var r = [],
                i = e[t];
            for ("string" != typeof n && n instanceof tn && (n = n[0]); i && 9 !== i.nodeType;) {
                if (n !== undefined) {
                    if (i === n) break;
                    if ("string" == typeof n && tn(i).is(n)) break
                }
                1 === i.nodeType && r.push(i), i = i[t]
            }
            return r
        },
        ln = function(e, t, n, r) {
            var i = [];
            for (r instanceof tn && (r = r[0]); e; e = e[t])
                if (!n || e.nodeType === n) {
                    if (r !== undefined) {
                        if (e === r) break;
                        if ("string" == typeof r && tn(e).is(r)) break
                    }
                    i.push(e)
                }
            return i
        },
        fn = function(e, t, n) {
            for (e = e[t]; e; e = e[t])
                if (e.nodeType === n) return e;
            return null
        };
    on({
        parent: function(e) {
            var t = e.parentNode;
            return t && 11 !== t.nodeType ? t : null
        },
        parents: function(e) {
            return sn(e, "parentNode")
        },
        next: function(e) {
            return fn(e, "nextSibling", 1)
        },
        prev: function(e) {
            return fn(e, "previousSibling", 1)
        },
        children: function(e) {
            return ln(e.firstChild, "nextSibling", 1)
        },
        contents: function(e) {
            return Lt.toArray(("iframe" === e.nodeName ? e.contentDocument || e.contentWindow.document : e).childNodes)
        }
    }, function(e, r) {
        tn.fn[e] = function(t) {
            var n = [];
            return this.each(function() {
                var e = r.call(n, this, t, n);
                e && (tn.isArray(e) ? n.push.apply(n, e) : n.push(e))
            }), 1 < this.length && (zt[e] || (n = tn.unique(n)), 0 === e.indexOf("parents") && (n = n.reverse())), n = tn(n), t ? n.filter(t) : n
        }
    }), on({
        parentsUntil: function(e, t) {
            return sn(e, "parentNode", t)
        },
        nextUntil: function(e, t) {
            return ln(e, "nextSibling", 1, t).slice(1)
        },
        prevUntil: function(e, t) {
            return ln(e, "previousSibling", 1, t).slice(1)
        }
    }, function(r, i) {
        tn.fn[r] = function(t, e) {
            var n = [];
            return this.each(function() {
                var e = i.call(n, this, t, n);
                e && (tn.isArray(e) ? n.push.apply(n, e) : n.push(e))
            }), 1 < this.length && (n = tn.unique(n), 0 !== r.indexOf("parents") && "prevUntil" !== r || (n = n.reverse())), n = tn(n), e ? n.filter(e) : n
        }
    }), tn.fn.is = function(e) {
        return !!e && 0 < this.filter(e).length
    }, tn.fn.init.prototype = tn.fn, tn.overrideDefaults = function(n) {
        var r, i = function(e, t) {
            return r = r || n(), 0 === arguments.length && (e = r.element), t || (t = r.context), new i.fn.init(e, t)
        };
        return tn.extend(i, this), i
    };
    var cn = function(n, r, e) {
        on(e, function(e, t) {
            n[e] = n[e] || {}, n[e][r] = t
        })
    };
    ve.ie && ve.ie < 8 && (cn(Zt, "get", {
        maxlength: function(e) {
            var t = e.maxLength;
            return 2147483647 === t ? undefined : t
        },
        size: function(e) {
            var t = e.size;
            return 20 === t ? undefined : t
        },
        class: function(e) {
            return e.className
        },
        style: function(e) {
            var t = e.style.cssText;
            return 0 === t.length ? undefined : t
        }
    }), cn(Zt, "set", {
        class: function(e, t) {
            e.className = t
        },
        style: function(e, t) {
            e.style.cssText = t
        }
    })), ve.ie && ve.ie < 9 && (Jt["float"] = "styleFloat", cn(en, "set", {
        opacity: function(e, t) {
            var n = e.style;
            null === t || "" === t ? n.removeAttribute("filter") : (n.zoom = 1, n.filter = "alpha(opacity=" + 100 * t + ")")
        }
    })), tn.attrHooks = Zt, tn.cssHooks = en;
    var dn, pn = function(e) {
            var t, n = !1;
            return function() {
                return n || (n = !0, t = e.apply(null, arguments)), t
            }
        },
        hn = function(e, t) {
            var n = function(e, t) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    if (r.test(t)) return r
                }
                return undefined
            }(e, t);
            if (!n) return {
                major: 0,
                minor: 0
            };
            var r = function(e) {
                return Number(t.replace(n, "$" + e))
            };
            return gn(r(1), r(2))
        },
        mn = function() {
            return gn(0, 0)
        },
        gn = function(e, t) {
            return {
                major: e,
                minor: t
            }
        },
        vn = {
            nu: gn,
            detect: function(e, t) {
                var n = String(t).toLowerCase();
                return 0 === e.length ? mn() : hn(e, n)
            },
            unknown: mn
        },
        yn = "Firefox",
        bn = function(e, t) {
            return function() {
                return t === e
            }
        },
        xn = function(e) {
            var t = e.current;
            return {
                current: t,
                version: e.version,
                isEdge: bn("Edge", t),
                isChrome: bn("Chrome", t),
                isIE: bn("IE", t),
                isOpera: bn("Opera", t),
                isFirefox: bn(yn, t),
                isSafari: bn("Safari", t)
            }
        },
        wn = {
            unknown: function() {
                return xn({
                    current: undefined,
                    version: vn.unknown()
                })
            },
            nu: xn,
            edge: z.constant("Edge"),
            chrome: z.constant("Chrome"),
            ie: z.constant("IE"),
            opera: z.constant("Opera"),
            firefox: z.constant(yn),
            safari: z.constant("Safari")
        },
        Cn = "Windows",
        En = "Android",
        kn = "Solaris",
        Sn = "FreeBSD",
        Nn = function(e, t) {
            return function() {
                return t === e
            }
        },
        Tn = function(e) {
            var t = e.current;
            return {
                current: t,
                version: e.version,
                isWindows: Nn(Cn, t),
                isiOS: Nn("iOS", t),
                isAndroid: Nn(En, t),
                isOSX: Nn("OSX", t),
                isLinux: Nn("Linux", t),
                isSolaris: Nn(kn, t),
                isFreeBSD: Nn(Sn, t)
            }
        },
        An = {
            unknown: function() {
                return Tn({
                    current: undefined,
                    version: vn.unknown()
                })
            },
            nu: Tn,
            windows: z.constant(Cn),
            ios: z.constant("iOS"),
            android: z.constant(En),
            linux: z.constant("Linux"),
            osx: z.constant("OSX"),
            solaris: z.constant(kn),
            freebsd: z.constant(Sn)
        },
        Dn = function(e, t) {
            var n = String(t).toLowerCase();
            return U.find(e, function(e) {
                return e.search(n)
            })
        },
        _n = function(e, n) {
            return Dn(e, n).map(function(e) {
                var t = vn.detect(e.versionRegexes, n);
                return {
                    current: e.name,
                    version: t
                }
            })
        },
        Rn = function(e, n) {
            return Dn(e, n).map(function(e) {
                var t = vn.detect(e.versionRegexes, n);
                return {
                    current: e.name,
                    version: t
                }
            })
        },
        On = function(e, t) {
            return -1 !== e.indexOf(t)
        },
        Fn = function(e) {
            return e.replace(/^\s+|\s+$/g, "")
        },
        Bn = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
        Pn = function(t) {
            return function(e) {
                return On(e, t)
            }
        },
        Ln = [{
            name: "Edge",
            versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
            search: function(e) {
                return On(e, "edge/") && On(e, "chrome") && On(e, "safari") && On(e, "applewebkit")
            }
        }, {
            name: "Chrome",
            versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Bn],
            search: function(e) {
                return On(e, "chrome") && !On(e, "chromeframe")
            }
        }, {
            name: "IE",
            versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
            search: function(e) {
                return On(e, "msie") || On(e, "trident")
            }
        }, {
            name: "Opera",
            versionRegexes: [Bn, /.*?opera\/([0-9]+)\.([0-9]+).*/],
            search: Pn("opera")
        }, {
            name: "Firefox",
            versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
            search: Pn("firefox")
        }, {
            name: "Safari",
            versionRegexes: [Bn, /.*?cpu os ([0-9]+)_([0-9]+).*/],
            search: function(e) {
                return (On(e, "safari") || On(e, "mobile/")) && On(e, "applewebkit")
            }
        }],
        In = [{
            name: "Windows",
            search: Pn("win"),
            versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
        }, {
            name: "iOS",
            search: function(e) {
                return On(e, "iphone") || On(e, "ipad")
            },
            versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
        }, {
            name: "Android",
            search: Pn("android"),
            versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
        }, {
            name: "OSX",
            search: Pn("os x"),
            versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
        }, {
            name: "Linux",
            search: Pn("linux"),
            versionRegexes: []
        }, {
            name: "Solaris",
            search: Pn("sunos"),
            versionRegexes: []
        }, {
            name: "FreeBSD",
            search: Pn("freebsd"),
            versionRegexes: []
        }],
        jn = {
            browsers: z.constant(Ln),
            oses: z.constant(In)
        },
        Mn = function(e) {
            var t, n, r, i, o, a, u, s, l, f, c, d = jn.browsers(),
                p = jn.oses(),
                h = _n(d, e).fold(wn.unknown, wn.nu),
                m = Rn(p, e).fold(An.unknown, An.nu);
            return {
                browser: h,
                os: m,
                deviceType: (n = h, r = e, i = (t = m).isiOS() && !0 === /ipad/i.test(r), o = t.isiOS() && !i, a = t.isAndroid() && 3 === t.version.major, u = t.isAndroid() && 4 === t.version.major, s = i || a || u && !0 === /mobile/i.test(r), l = t.isiOS() || t.isAndroid(), f = l && !s, c = n.isSafari() && t.isiOS() && !1 === /safari/i.test(r), {
                    isiPad: z.constant(i),
                    isiPhone: z.constant(o),
                    isTablet: z.constant(s),
                    isPhone: z.constant(f),
                    isTouch: z.constant(l),
                    isAndroid: t.isAndroid,
                    isiOS: t.isiOS,
                    isWebView: z.constant(c)
                })
            }
        },
        qn = {
            detect: pn(function() {
                var e = navigator.userAgent;
                return Mn(e)
            })
        },
        Hn = function(e) {
            if (null === e || e === undefined) throw new Error("Node cannot be null or undefined");
            return {
                dom: z.constant(e)
            }
        },
        zn = {
            fromHtml: function(e, t) {
                var n = (t || document).createElement("div");
                if (n.innerHTML = e, !n.hasChildNodes() || 1 < n.childNodes.length) throw console.error("HTML does not have a single root node", e), "HTML must have a single root node";
                return Hn(n.childNodes[0])
            },
            fromTag: function(e, t) {
                var n = (t || document).createElement(e);
                return Hn(n)
            },
            fromText: function(e, t) {
                var n = (t || document).createTextNode(e);
                return Hn(n)
            },
            fromDom: Hn,
            fromPoint: function(e, t, n) {
                return A.from(e.dom().elementFromPoint(t, n)).map(Hn)
            }
        },
        Un = 8,
        $n = 9,
        Vn = 1,
        Wn = 3,
        Xn = function(e) {
            return e.dom().nodeName.toLowerCase()
        },
        Kn = function(e) {
            return e.dom().nodeType
        },
        Yn = function(t) {
            return function(e) {
                return Kn(e) === t
            }
        },
        Gn = Yn(Vn),
        Qn = Yn(Wn),
        Jn = Yn($n),
        Zn = {
            name: Xn,
            type: Kn,
            value: function(e) {
                return e.dom().nodeValue
            },
            isElement: Gn,
            isText: Qn,
            isDocument: Jn,
            isComment: function(e) {
                return Kn(e) === Un || "#comment" === Xn(e)
            }
        },
        er = (dn = Object.keys) === undefined ? function(e) {
            var t = [];
            for (var n in e) e.hasOwnProperty(n) && t.push(n);
            return t
        } : dn,
        tr = function(e, t) {
            for (var n = er(e), r = 0, i = n.length; r < i; r++) {
                var o = n[r];
                t(e[o], o, e)
            }
        },
        nr = function(r, i) {
            var o = {};
            return tr(r, function(e, t) {
                var n = i(e, t, r);
                o[n.k] = n.v
            }), o
        },
        rr = function(e, n) {
            var r = [];
            return tr(e, function(e, t) {
                r.push(n(e, t))
            }), r
        },
        ir = function(e) {
            return rr(e, function(e) {
                return e
            })
        },
        or = {
            bifilter: function(e, n) {
                var r = {},
                    i = {};
                return tr(e, function(e, t) {
                    (n(e, t) ? r : i)[t] = e
                }), {
                    t: r,
                    f: i
                }
            },
            each: tr,
            map: function(e, r) {
                return nr(e, function(e, t, n) {
                    return {
                        k: t,
                        v: r(e, t, n)
                    }
                })
            },
            mapToArray: rr,
            tupleMap: nr,
            find: function(e, t) {
                for (var n = er(e), r = 0, i = n.length; r < i; r++) {
                    var o = n[r],
                        a = e[o];
                    if (t(a, o, e)) return A.some(a)
                }
                return A.none()
            },
            keys: er,
            values: ir,
            size: function(e) {
                return ir(e).length
            }
        },
        ar = function(e, t, n) {
            if (!(N.isString(n) || N.isBoolean(n) || N.isNumber(n))) throw console.error("Invalid call to Attr.set. Key ", t, ":: Value ", n, ":: Element ", e), new Error("Attribute value was not simple");
            e.setAttribute(t, n + "")
        },
        ur = function(e, t, n) {
            ar(e.dom(), t, n)
        },
        sr = function(e, t) {
            var n = e.dom().getAttribute(t);
            return null === n ? undefined : n
        },
        lr = function(e, t) {
            var n = e.dom();
            return !(!n || !n.hasAttribute) && n.hasAttribute(t)
        },
        fr = {
            clone: function(e) {
                return U.foldl(e.dom().attributes, function(e, t) {
                    return e[t.name] = t.value, e
                }, {})
            },
            set: ur,
            setAll: function(e, t) {
                var n = e.dom();
                or.each(t, function(e, t) {
                    ar(n, t, e)
                })
            },
            get: sr,
            has: lr,
            remove: function(e, t) {
                e.dom().removeAttribute(t)
            },
            hasNone: function(e) {
                var t = e.dom().attributes;
                return t === undefined || null === t || 0 === t.length
            },
            transfer: function(i, o, e) {
                Zn.isElement(i) && Zn.isElement(o) && U.each(e, function(e) {
                    var t, n, r;
                    n = o, lr(t = i, r = e) && !lr(n, r) && ur(n, r, sr(t, r))
                })
            }
        },
        cr = pn(function() {
            return dr(zn.fromDom(document))
        }),
        dr = function(e) {
            var t = e.dom().body;
            if (null === t || t === undefined) throw "Body is not available yet";
            return zn.fromDom(t)
        },
        pr = {
            body: cr,
            getBody: dr,
            inBody: function(e) {
                var t = Zn.isText(e) ? e.dom().parentNode : e.dom();
                return t !== undefined && null !== t && t.ownerDocument.body.contains(t)
            }
        },
        hr = function(e) {
            return e.style !== undefined
        },
        mr = function(e, t, n) {
            if (!N.isString(n)) throw console.error("Invalid call to CSS.set. Property ", t, ":: Value ", n, ":: Element ", e), new Error("CSS value must be a string: " + n);
            hr(e) && e.style.setProperty(t, n)
        },
        gr = function(e, t) {
            return hr(e) ? e.style.getPropertyValue(t) : ""
        },
        vr = function(e, t) {
            var n = e.dom(),
                r = gr(n, t);
            return A.from(r).filter(function(e) {
                return 0 < e.length
            })
        },
        yr = function(e, t) {
            var n = e.dom();
            or.each(t, function(e, t) {
                mr(n, t, e)
            })
        },
        br = function(e, t) {
            var n = e.dom(),
                r = window.getComputedStyle(n).getPropertyValue(t),
                i = "" !== r || pr.inBody(e) ? r : gr(n, t);
            return null === i ? undefined : i
        },
        xr = vr,
        wr = function(e) {
            return e.slice(0).sort()
        },
        Cr = function(e, t) {
            throw new Error("All required keys (" + wr(e).join(", ") + ") were not specified. Specified keys were: " + wr(t).join(", ") + ".")
        },
        Er = function(e) {
            throw new Error("Unsupported keys for object: " + wr(e).join(", "))
        },
        kr = function(t, e) {
            if (!N.isArray(e)) throw new Error("The " + t + " fields must be an array. Was: " + e + ".");
            U.each(e, function(e) {
                if (!N.isString(e)) throw new Error("The value " + e + " in the " + t + " fields was not a string.")
            })
        },
        Sr = function(e) {
            var n = wr(e);
            U.find(n, function(e, t) {
                return t < n.length - 1 && e === n[t + 1]
            }).each(function(e) {
                throw new Error("The field: " + e + " occurs more than once in the combined fields: [" + n.join(", ") + "].")
            })
        },
        Nr = {
            immutable: function() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                return function() {
                    for (var n = [], e = 0; e < arguments.length; e++) n[e] = arguments[e];
                    if (t.length !== n.length) throw new Error('Wrong number of arguments to struct. Expected "[' + t.length + ']", got ' + n.length + " arguments");
                    var r = {};
                    return U.each(t, function(e, t) {
                        r[e] = z.constant(n[t])
                    }), r
                }
            },
            immutableBag: function(i, o) {
                var a = i.concat(o);
                if (0 === a.length) throw new Error("You must specify at least one required or optional field.");
                return kr("required", i), kr("optional", o), Sr(a),
                    function(t) {
                        var n = or.keys(t);
                        U.forall(i, function(e) {
                            return U.contains(n, e)
                        }) || Cr(i, n);
                        var e = U.filter(n, function(e) {
                            return !U.contains(a, e)
                        });
                        0 < e.length && Er(e);
                        var r = {};
                        return U.each(i, function(e) {
                            r[e] = z.constant(t[e])
                        }), U.each(o, function(e) {
                            r[e] = z.constant(Object.prototype.hasOwnProperty.call(t, e) ? A.some(t[e]) : A.none())
                        }), r
                    }
            }
        },
        Tr = function(e, t) {
            for (var n = [], r = function(e) {
                    return n.push(e), t(e)
                }, i = t(e);
                (i = i.bind(r)).isSome(););
            return n
        },
        Ar = function() {
            return W.getOrDie("Node")
        },
        Dr = function(e, t, n) {
            return 0 != (e.compareDocumentPosition(t) & n)
        },
        _r = function(e, t) {
            return Dr(e, t, Ar().DOCUMENT_POSITION_CONTAINED_BY)
        },
        Rr = Vn,
        Or = $n,
        Fr = function(e) {
            return e.nodeType !== Rr && e.nodeType !== Or || 0 === e.childElementCount
        },
        Br = {
            all: function(e, t) {
                var n = t === undefined ? document : t.dom();
                return Fr(n) ? [] : U.map(n.querySelectorAll(e), zn.fromDom)
            },
            is: function(e, t) {
                var n = e.dom();
                if (n.nodeType !== Rr) return !1;
                if (n.matches !== undefined) return n.matches(t);
                if (n.msMatchesSelector !== undefined) return n.msMatchesSelector(t);
                if (n.webkitMatchesSelector !== undefined) return n.webkitMatchesSelector(t);
                if (n.mozMatchesSelector !== undefined) return n.mozMatchesSelector(t);
                throw new Error("Browser lacks native selectors")
            },
            one: function(e, t) {
                var n = t === undefined ? document : t.dom();
                return Fr(n) ? A.none() : A.from(n.querySelector(e)).map(zn.fromDom)
            }
        },
        Pr = function(e, t) {
            return e.dom() === t.dom()
        },
        Lr = qn.detect().browser.isIE() ? function(e, t) {
            return _r(e.dom(), t.dom())
        } : function(e, t) {
            var n = e.dom(),
                r = t.dom();
            return n !== r && n.contains(r)
        },
        Ir = {
            eq: Pr,
            isEqualNode: function(e, t) {
                return e.dom().isEqualNode(t.dom())
            },
            member: function(e, t) {
                return U.exists(t, z.curry(Pr, e))
            },
            contains: Lr,
            is: Br.is
        },
        jr = function(e) {
            return zn.fromDom(e.dom().ownerDocument)
        },
        Mr = function(e) {
            var t = e.dom();
            return A.from(t.parentNode).map(zn.fromDom)
        },
        qr = function(e) {
            var t = e.dom();
            return A.from(t.previousSibling).map(zn.fromDom)
        },
        Hr = function(e) {
            var t = e.dom();
            return A.from(t.nextSibling).map(zn.fromDom)
        },
        zr = function(e) {
            var t = e.dom();
            return U.map(t.childNodes, zn.fromDom)
        },
        Ur = function(e, t) {
            var n = e.dom().childNodes;
            return A.from(n[t]).map(zn.fromDom)
        },
        $r = Nr.immutable("element", "offset"),
        Vr = {
            owner: jr,
            defaultView: function(e) {
                var t = e.dom().ownerDocument.defaultView;
                return zn.fromDom(t)
            },
            documentElement: function(e) {
                var t = jr(e);
                return zn.fromDom(t.dom().documentElement)
            },
            parent: Mr,
            findIndex: function(n) {
                return Mr(n).bind(function(e) {
                    var t = zr(e);
                    return U.findIndex(t, function(e) {
                        return Ir.eq(n, e)
                    })
                })
            },
            parents: function(e, t) {
                for (var n = N.isFunction(t) ? t : z.constant(!1), r = e.dom(), i = []; null !== r.parentNode && r.parentNode !== undefined;) {
                    var o = r.parentNode,
                        a = zn.fromDom(o);
                    if (i.push(a), !0 === n(a)) break;
                    r = o
                }
                return i
            },
            siblings: function(t) {
                return Mr(t).map(zr).map(function(e) {
                    return U.filter(e, function(e) {
                        return !Ir.eq(t, e)
                    })
                }).getOr([])
            },
            prevSibling: qr,
            offsetParent: function(e) {
                var t = e.dom();
                return A.from(t.offsetParent).map(zn.fromDom)
            },
            prevSiblings: function(e) {
                return U.reverse(Tr(e, qr))
            },
            nextSibling: Hr,
            nextSiblings: function(e) {
                return Tr(e, Hr)
            },
            children: zr,
            child: Ur,
            firstChild: function(e) {
                return Ur(e, 0)
            },
            lastChild: function(e) {
                return Ur(e, e.dom().childNodes.length - 1)
            },
            childNodesCount: function(e) {
                return e.dom().childNodes.length
            },
            hasChildNodes: function(e) {
                return e.dom().hasChildNodes()
            },
            leaf: function(e, t) {
                var n = zr(e);
                return 0 < n.length && t < n.length ? $r(n[t], 0) : $r(e, t)
            }
        },
        Wr = qn.detect().browser,
        Xr = function(e) {
            return U.find(e, Zn.isElement)
        },
        Kr = {
            getPos: function(e, t, n) {
                var r, i, o, a = 0,
                    u = 0,
                    s = e.ownerDocument;
                if (n = n || e, t) {
                    if (n === e && t.getBoundingClientRect && "static" === br(zn.fromDom(e), "position")) return {
                        x: a = (i = t.getBoundingClientRect()).left + (s.documentElement.scrollLeft || e.scrollLeft) - s.documentElement.clientLeft,
                        y: u = i.top + (s.documentElement.scrollTop || e.scrollTop) - s.documentElement.clientTop
                    };
                    for (r = t; r && r !== n && r.nodeType;) a += r.offsetLeft || 0, u += r.offsetTop || 0, r = r.offsetParent;
                    for (r = t.parentNode; r && r !== n && r.nodeType;) a -= r.scrollLeft || 0, u -= r.scrollTop || 0, r = r.parentNode;
                    u += (o = zn.fromDom(t), Wr.isFirefox() && "table" === Zn.name(o) ? Xr(Vr.children(o)).filter(function(e) {
                        return "caption" === Zn.name(e)
                    }).bind(function(i) {
                        return Xr(Vr.nextSiblings(i)).map(function(e) {
                            var t = e.dom().offsetTop,
                                n = i.dom().offsetTop,
                                r = i.dom().offsetHeight;
                            return t <= n ? -r : 0
                        })
                    }).getOr(0) : 0)
                }
                return {
                    x: a,
                    y: u
                }
            }
        },
        Yr = function(e) {
            var n = A.none(),
                t = [],
                r = function(e) {
                    i() ? a(e) : t.push(e)
                },
                i = function() {
                    return n.isSome()
                },
                o = function(e) {
                    U.each(e, a)
                },
                a = function(t) {
                    n.each(function(e) {
                        setTimeout(function() {
                            t(e)
                        }, 0)
                    })
                };
            return e(function(e) {
                n = A.some(e), o(t), t = []
            }), {
                get: r,
                map: function(n) {
                    return Yr(function(t) {
                        r(function(e) {
                            t(n(e))
                        })
                    })
                },
                isReady: i
            }
        },
        Gr = {
            nu: Yr,
            pure: function(t) {
                return Yr(function(e) {
                    e(t)
                })
            }
        },
        Qr = function(n) {
            return function() {
                var e = Array.prototype.slice.call(arguments),
                    t = this;
                setTimeout(function() {
                    n.apply(t, e)
                }, 0)
            }
        },
        Jr = function(t) {
            var e = function(e) {
                t(Qr(e))
            };
            return {
                map: function(r) {
                    return Jr(function(n) {
                        e(function(e) {
                            var t = r(e);
                            n(t)
                        })
                    })
                },
                bind: function(n) {
                    return Jr(function(t) {
                        e(function(e) {
                            n(e).get(t)
                        })
                    })
                },
                anonBind: function(n) {
                    return Jr(function(t) {
                        e(function(e) {
                            n.get(t)
                        })
                    })
                },
                toLazy: function() {
                    return Gr.nu(e)
                },
                get: e
            }
        },
        Zr = {
            nu: Jr,
            pure: function(t) {
                return Jr(function(e) {
                    e(t)
                })
            }
        },
        ei = function(a, e) {
            return e(function(r) {
                var i = [],
                    o = 0;
                0 === a.length ? r([]) : U.each(a, function(e, t) {
                    var n;
                    e.get((n = t, function(e) {
                        i[n] = e, ++o >= a.length && r(i)
                    }))
                })
            })
        },
        ti = function(e) {
            return ei(e, Zr.nu)
        },
        ni = {
            par: ti,
            mapM: function(e, t) {
                var n = U.map(e, t);
                return ti(n)
            },
            compose: function(t, n) {
                return function(e) {
                    return n(e).bind(t)
                }
            }
        },
        ri = function(n) {
            return {
                is: function(e) {
                    return n === e
                },
                isValue: z.always,
                isError: z.never,
                getOr: z.constant(n),
                getOrThunk: z.constant(n),
                getOrDie: z.constant(n),
                or: function(e) {
                    return ri(n)
                },
                orThunk: function(e) {
                    return ri(n)
                },
                fold: function(e, t) {
                    return t(n)
                },
                map: function(e) {
                    return ri(e(n))
                },
                each: function(e) {
                    e(n)
                },
                bind: function(e) {
                    return e(n)
                },
                exists: function(e) {
                    return e(n)
                },
                forall: function(e) {
                    return e(n)
                },
                toOption: function() {
                    return A.some(n)
                }
            }
        },
        ii = function(n) {
            return {
                is: z.never,
                isValue: z.never,
                isError: z.always,
                getOr: z.identity,
                getOrThunk: function(e) {
                    return e()
                },
                getOrDie: function() {
                    return z.die(String(n))()
                },
                or: function(e) {
                    return e
                },
                orThunk: function(e) {
                    return e()
                },
                fold: function(e, t) {
                    return e(n)
                },
                map: function(e) {
                    return ii(n)
                },
                each: z.noop,
                bind: function(e) {
                    return ii(n)
                },
                exists: z.never,
                forall: z.always,
                toOption: A.none
            }
        },
        oi = {
            value: ri,
            error: ii
        };

    function ai(e, u) {
        var t = e,
            n = function(e, t, n, r) {
                var i, o;
                if (e) {
                    if (!r && e[t]) return e[t];
                    if (e !== u) {
                        if (i = e[n]) return i;
                        for (o = e.parentNode; o && o !== u; o = o.parentNode)
                            if (i = o[n]) return i
                    }
                }
            };
        this.current = function() {
            return t
        }, this.next = function(e) {
            return t = n(t, "firstChild", "nextSibling", e)
        }, this.prev = function(e) {
            return t = n(t, "lastChild", "previousSibling", e)
        }, this.prev2 = function(e) {
            return t = function(e, t, n, r) {
                var i, o, a;
                if (e) {
                    if (i = e[n], u && i === u) return;
                    if (i) {
                        if (!r)
                            for (a = i[t]; a; a = a[t])
                                if (!a[t]) return a;
                        return i
                    }
                    if ((o = e.parentNode) && o !== u) return o
                }
            }(t, "lastChild", "previousSibling", e)
        }
    }
    var ui, si, li, fi = function(t) {
            var n;
            return function(e) {
                return (n = n || U.mapToObject(t, z.constant(!0))).hasOwnProperty(Zn.name(e))
            }
        },
        ci = fi(["h1", "h2", "h3", "h4", "h5", "h6"]),
        di = fi(["article", "aside", "details", "div", "dt", "figcaption", "footer", "form", "fieldset", "header", "hgroup", "html", "main", "nav", "section", "summary", "body", "p", "dl", "multicol", "dd", "figure", "address", "center", "blockquote", "h1", "h2", "h3", "h4", "h5", "h6", "listing", "xmp", "pre", "plaintext", "menu", "dir", "ul", "ol", "li", "hr", "table", "tbody", "thead", "tfoot", "th", "tr", "td", "caption"]),
        pi = function(e) {
            return Zn.isElement(e) && !di(e)
        },
        hi = function(e) {
            return Zn.isElement(e) && "br" === Zn.name(e)
        },
        mi = fi(["h1", "h2", "h3", "h4", "h5", "h6", "p", "div", "address", "pre", "form", "blockquote", "center", "dir", "fieldset", "header", "footer", "article", "section", "hgroup", "aside", "nav", "figure"]),
        gi = fi(["ul", "ol", "dl"]),
        vi = fi(["li", "dd", "dt"]),
        yi = fi(["area", "base", "basefont", "br", "col", "frame", "hr", "img", "input", "isindex", "link", "meta", "param", "embed", "source", "wbr", "track"]),
        bi = fi(["thead", "tbody", "tfoot"]),
        xi = fi(["td", "th"]),
        wi = fi(["pre", "script", "textarea", "style"]),
        Ci = function(t) {
            return function(e) {
                return !!e && e.nodeType === t
            }
        },
        Ei = Ci(1),
        ki = function(e) {
            var r = e.toLowerCase().split(" ");
            return function(e) {
                var t, n;
                if (e && e.nodeType)
                    for (n = e.nodeName.toLowerCase(), t = 0; t < r.length; t++)
                        if (n === r[t]) return !0;
                return !1
            }
        },
        Si = function(t) {
            return function(e) {
                if (Ei(e)) {
                    if (e.contentEditable === t) return !0;
                    if (e.getAttribute("data-mce-contenteditable") === t) return !0
                }
                return !1
            }
        },
        Ni = Ci(3),
        Ti = Ci(8),
        Ai = Ci(9),
        Di = ki("br"),
        _i = Si("true"),
        Ri = Si("false"),
        Oi = {
            isText: Ni,
            isElement: Ei,
            isComment: Ti,
            isDocument: Ai,
            isBr: Di,
            isContentEditableTrue: _i,
            isContentEditableFalse: Ri,
            matchNodeNames: ki,
            hasPropValue: function(t, n) {
                return function(e) {
                    return Ei(e) && e[t] === n
                }
            },
            hasAttribute: function(t, e) {
                return function(e) {
                    return Ei(e) && e.hasAttribute(t)
                }
            },
            hasAttributeValue: function(t, n) {
                return function(e) {
                    return Ei(e) && e.getAttribute(t) === n
                }
            },
            matchStyleValues: function(r, e) {
                var i = e.toLowerCase().split(" ");
                return function(e) {
                    var t;
                    if (Ei(e))
                        for (t = 0; t < i.length; t++) {
                            var n = e.ownerDocument.defaultView.getComputedStyle(e, null);
                            if ((n ? n.getPropertyValue(r) : null) === i[t]) return !0
                        }
                    return !1
                }
            },
            isBogus: function(e) {
                return Ei(e) && e.hasAttribute("data-mce-bogus")
            },
            isBogusAll: function(e) {
                return Ei(e) && "all" === e.getAttribute("data-mce-bogus")
            },
            isTable: function(e) {
                return Ei(e) && "TABLE" === e.tagName
            }
        },
        Fi = function(e) {
            return e && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type")
        },
        Bi = function(e, t) {
            var n, r = t.childNodes;
            if (!Oi.isElement(t) || !Fi(t)) {
                for (n = r.length - 1; 0 <= n; n--) Bi(e, r[n]);
                if (!1 === Oi.isDocument(t)) {
                    if (Oi.isText(t) && 0 < t.nodeValue.length) {
                        var i = Lt.trim(t.nodeValue).length;
                        if (e.isBlock(t.parentNode) || 0 < i) return;
                        if (0 === i && (a = (o = t).previousSibling && "SPAN" === o.previousSibling.nodeName, u = o.nextSibling && "SPAN" === o.nextSibling.nodeName, a && u)) return
                    } else if (Oi.isElement(t) && (1 === (r = t.childNodes).length && Fi(r[0]) && t.parentNode.insertBefore(r[0], t), r.length || yi(zn.fromDom(t)))) return;
                    e.remove(t)
                }
                var o, a, u;
                return t
            }
        },
        Pi = {
            trimNode: Bi
        },
        Li = Lt.makeMap,
        Ii = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
        ji = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
        Mi = /[<>&\"\']/g,
        qi = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
        Hi = {
            128: "â¬",
            130: "â",
            131: "Æ",
            132: "â",
            133: "â¦",
            134: "â ",
            135: "â¡",
            136: "Ë",
            137: "â°",
            138: "Å ",
            139: "â¹",
            140: "Å",
            142: "Å½",
            145: "â",
            146: "â",
            147: "â",
            148: "â",
            149: "â¢",
            150: "â",
            151: "â",
            152: "Ë",
            153: "â¢",
            154: "Å¡",
            155: "âº",
            156: "Å",
            158: "Å¾",
            159: "Å¸"
        };
    si = {
        '"': "&quot;",
        "'": "&#39;",
        "<": "&lt;",
        ">": "&gt;",
        "&": "&amp;",
        "`": "&#96;"
    }, li = {
        "&lt;": "<",
        "&gt;": ">",
        "&amp;": "&",
        "&quot;": '"',
        "&apos;": "'"
    };
    var zi = function(e, t) {
        var n, r, i, o = {};
        if (e) {
            for (e = e.split(","), t = t || 10, n = 0; n < e.length; n += 2) r = String.fromCharCode(parseInt(e[n], t)), si[r] || (i = "&" + e[n + 1] + ";", o[r] = i, o[i] = r);
            return o
        }
    };
    ui = zi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32);
    var Ui = function(e, t) {
            return e.replace(t ? Ii : ji, function(e) {
                return si[e] || e
            })
        },
        $i = function(e, t) {
            return e.replace(t ? Ii : ji, function(e) {
                return 1 < e.length ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : si[e] || "&#" + e.charCodeAt(0) + ";"
            })
        },
        Vi = function(e, t, n) {
            return n = n || ui, e.replace(t ? Ii : ji, function(e) {
                return si[e] || n[e] || e
            })
        },
        Wi = {
            encodeRaw: Ui,
            encodeAllRaw: function(e) {
                return ("" + e).replace(Mi, function(e) {
                    return si[e] || e
                })
            },
            encodeNumeric: $i,
            encodeNamed: Vi,
            getEncodeFunc: function(e, t) {
                var n = zi(t) || ui,
                    r = Li(e.replace(/\+/g, ","));
                return r.named && r.numeric ? function(e, t) {
                    return e.replace(t ? Ii : ji, function(e) {
                        return si[e] !== undefined ? si[e] : n[e] !== undefined ? n[e] : 1 < e.length ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : "&#" + e.charCodeAt(0) + ";"
                    })
                } : r.named ? t ? function(e, t) {
                    return Vi(e, t, n)
                } : Vi : r.numeric ? $i : Ui
            },
            decode: function(e) {
                return e.replace(qi, function(e, t) {
                    return t ? 65535 < (t = "x" === t.charAt(0).toLowerCase() ? parseInt(t.substr(1), 16) : parseInt(t, 10)) ? (t -= 65536, String.fromCharCode(55296 + (t >> 10), 56320 + (1023 & t))) : Hi[t] || String.fromCharCode(t) : li[e] || ui[e] || (n = e, (r = zn.fromTag("div").dom()).innerHTML = n, r.textContent || r.innerText || n);
                    var n, r
                })
            }
        },
        Xi = {},
        Ki = {},
        Yi = Lt.makeMap,
        Gi = Lt.each,
        Qi = Lt.extend,
        Ji = Lt.explode,
        Zi = Lt.inArray,
        eo = function(e, t) {
            return (e = Lt.trim(e)) ? e.split(t || " ") : []
        },
        to = function(e) {
            var u, t, n, r, i, o, s = {},
                a = function(e, t, n) {
                    var r, i, o, a = function(e, t) {
                        var n, r, i = {};
                        for (n = 0, r = e.length; n < r; n++) i[e[n]] = t || {};
                        return i
                    };
                    for (t = t || "", "string" == typeof(n = n || []) && (n = eo(n)), r = (e = eo(e)).length; r--;) o = {
                        attributes: a(i = eo([u, t].join(" "))),
                        attributesOrder: i,
                        children: a(n, Ki)
                    }, s[e[r]] = o
                },
                l = function(e, t) {
                    var n, r, i, o;
                    for (n = (e = eo(e)).length, t = eo(t); n--;)
                        for (r = s[e[n]], i = 0, o = t.length; i < o; i++) r.attributes[t[i]] = {}, r.attributesOrder.push(t[i])
                };
            return Xi[e] ? Xi[e] : (u = "id accesskey class dir lang style tabindex title role", t = "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul", n = "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment", "html4" !== e && (u += " contenteditable contextmenu draggable dropzone hidden spellcheck translate", t += " article aside details dialog figure header footer hgroup section nav", n += " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"), "html5-strict" !== e && (u += " xml:lang", n = [n, o = "acronym applet basefont big font strike tt"].join(" "), Gi(eo(o), function(e) {
                a(e, "", n)
            }), t = [t, i = "center dir isindex noframes"].join(" "), r = [t, n].join(" "), Gi(eo(i), function(e) {
                a(e, "", r)
            })), r = r || [t, n].join(" "), a("html", "manifest", "head body"), a("head", "", "base command link meta noscript script style title"), a("title hr noscript br"), a("base", "href target"), a("link", "href rel media hreflang type sizes hreflang"), a("meta", "name http-equiv content charset"), a("style", "media type scoped"), a("script", "src async defer type charset"), a("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", r), a("address dt dd div caption", "", r), a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", n), a("blockquote", "cite", r), a("ol", "reversed start type", "li"), a("ul", "", "li"), a("li", "value", r), a("dl", "", "dt dd"), a("a", "href target rel media hreflang type", n), a("q", "cite", n), a("ins del", "cite datetime", r), a("img", "src sizes srcset alt usemap ismap width height"), a("iframe", "src name width height", r), a("embed", "src type width height"), a("object", "data type typemustmatch name usemap form width height", [r, "param"].join(" ")), a("param", "name value"), a("map", "name", [r, "area"].join(" ")), a("area", "alt coords shape href target rel media hreflang type"), a("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" === e ? " col" : "")), a("colgroup", "span", "col"), a("col", "span"), a("tbody thead tfoot", "", "tr"), a("tr", "", "td th"), a("td", "colspan rowspan headers", r), a("th", "colspan rowspan headers scope abbr", r), a("form", "accept-charset action autocomplete enctype method name novalidate target", r), a("fieldset", "disabled form name", [r, "legend"].join(" ")), a("label", "form for", n), a("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"), a("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" === e ? r : n), a("select", "disabled form multiple name required size", "option optgroup"), a("optgroup", "disabled label", "option"), a("option", "disabled label selected value"), a("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"), a("menu", "type label", [r, "li"].join(" ")), a("noscript", "", r), "html4" !== e && (a("wbr"), a("ruby", "", [n, "rt rp"].join(" ")), a("figcaption", "", r), a("mark rt rp summary bdi", "", n), a("canvas", "width height", r), a("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", [r, "track source"].join(" ")), a("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", [r, "track source"].join(" ")), a("picture", "", "img source"), a("source", "src srcset type media sizes"), a("track", "kind src srclang label default"), a("datalist", "", [n, "option"].join(" ")), a("article section nav aside header footer", "", r), a("hgroup", "", "h1 h2 h3 h4 h5 h6"), a("figure", "", [r, "figcaption"].join(" ")), a("time", "datetime", n), a("dialog", "open", r), a("command", "type label icon disabled checked radiogroup command"), a("output", "for form name", n), a("progress", "value max", n), a("meter", "value min max low high optimum", n), a("details", "open", [r, "summary"].join(" ")), a("keygen", "autofocus challenge disabled form keytype name")), "html5-strict" !== e && (l("script", "language xml:space"), l("style", "xml:space"), l("object", "declare classid code codebase codetype archive standby align border hspace vspace"), l("embed", "align name hspace vspace"), l("param", "valuetype type"), l("a", "charset name rev shape coords"), l("br", "clear"), l("applet", "codebase archive code object alt name width height align hspace vspace"), l("img", "name longdesc align border hspace vspace"), l("iframe", "longdesc frameborder marginwidth marginheight scrolling align"), l("font basefont", "size color face"), l("input", "usemap align"), l("select", "onchange"), l("textarea"), l("h1 h2 h3 h4 h5 h6 div p legend caption", "align"), l("ul", "type compact"), l("li", "type"), l("ol dl menu dir", "compact"), l("pre", "width xml:space"), l("hr", "align noshade size width"), l("isindex", "prompt"), l("table", "summary width frame rules cellspacing cellpadding align bgcolor"), l("col", "width align char charoff valign"), l("colgroup", "width align char charoff valign"), l("thead", "align char charoff valign"), l("tr", "align char charoff valign bgcolor"), l("th", "axis align char charoff valign nowrap bgcolor width height"), l("form", "accept"), l("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"), l("tfoot", "align char charoff valign"), l("tbody", "align char charoff valign"), l("area", "nohref"), l("body", "background bgcolor text link vlink alink")), "html4" !== e && (l("input button select textarea", "autofocus"), l("input textarea", "placeholder"), l("a", "download"), l("link script img", "crossorigin"), l("iframe", "sandbox seamless allowfullscreen")), Gi(eo("a form meter progress dfn"), function(e) {
                s[e] && delete s[e].children[e]
            }), delete s.caption.children.table, delete s.script, Xi[e] = s)
        },
        no = function(e, n) {
            var r;
            return e && (r = {}, "string" == typeof e && (e = {
                "*": e
            }), Gi(e, function(e, t) {
                r[t] = r[t.toUpperCase()] = "map" === n ? Yi(e, /[, ]/) : Ji(e, /[, ]/)
            })), r
        };

    function ro(o) {
        var e, t, n, r, i, a, u, s, l, f, c, d, p, E = {},
            h = {},
            k = [],
            m = {},
            g = {},
            v = function(e, t, n) {
                var r = o[e];
                return r ? r = Yi(r, /[, ]/, Yi(r.toUpperCase(), /[, ]/)) : (r = Xi[e]) || (r = Yi(t, " ", Yi(t.toUpperCase(), " ")), r = Qi(r, n), Xi[e] = r), r
            };
        n = to((o = o || {}).schema), !1 === o.verify_html && (o.valid_elements = "*[*]"), e = no(o.valid_styles), t = no(o.invalid_styles, "map"), s = no(o.valid_classes, "map"), r = v("whitespace_elements", "pre script noscript style textarea video audio iframe object code"), i = v("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr"), a = v("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track"), u = v("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"), f = v("non_empty_elements", "td th iframe video audio object script pre code", a), c = v("move_caret_before_on_enter_elements", "table", f), d = v("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"), l = v("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary", d), p = v("text_inline_elements", "span strong b em i font strike u var cite dfn code mark q sup sub samp"), Gi((o.special || "script noscript noframes noembed title style textarea xmp").split(" "), function(e) {
            g[e] = new RegExp("</" + e + "[^>]*>", "gi")
        });
        var S = function(e) {
                return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$")
            },
            y = function(e) {
                var t, n, r, i, o, a, u, s, l, f, c, d, p, h, m, g, v, y, b, x = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,
                    w = /^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
                    C = /[*?+]/;
                if (e)
                    for (e = eo(e, ","), E["@"] && (g = E["@"].attributes, v = E["@"].attributesOrder), t = 0, n = e.length; t < n; t++)
                        if (o = x.exec(e[t])) {
                            if (h = o[1], l = o[2], m = o[3], s = o[5], a = {
                                    attributes: d = {},
                                    attributesOrder: p = []
                                }, "#" === h && (a.paddEmpty = !0), "-" === h && (a.removeEmpty = !0), "!" === o[4] && (a.removeEmptyAttrs = !0), g) {
                                for (y in g) d[y] = g[y];
                                p.push.apply(p, v)
                            }
                            if (s)
                                for (r = 0, i = (s = eo(s, "|")).length; r < i; r++)
                                    if (o = w.exec(s[r])) {
                                        if (u = {}, c = o[1], f = o[2].replace(/[\\:]:/g, ":"), h = o[3], b = o[4], "!" === c && (a.attributesRequired = a.attributesRequired || [], a.attributesRequired.push(f), u.required = !0), "-" === c) {
                                            delete d[f], p.splice(Zi(p, f), 1);
                                            continue
                                        }
                                        h && ("=" === h && (a.attributesDefault = a.attributesDefault || [], a.attributesDefault.push({
                                            name: f,
                                            value: b
                                        }), u.defaultValue = b), ":" === h && (a.attributesForced = a.attributesForced || [], a.attributesForced.push({
                                            name: f,
                                            value: b
                                        }), u.forcedValue = b), "<" === h && (u.validValues = Yi(b, "?"))), C.test(f) ? (a.attributePatterns = a.attributePatterns || [], u.pattern = S(f), a.attributePatterns.push(u)) : (d[f] || p.push(f), d[f] = u)
                                    }
                            g || "@" !== l || (g = d, v = p), m && (a.outputName = l, E[m] = a), C.test(l) ? (a.pattern = S(l), k.push(a)) : E[l] = a
                        }
            },
            b = function(e) {
                E = {}, k = [], y(e), Gi(n, function(e, t) {
                    h[t] = e.children
                })
            },
            x = function(e) {
                var a = /^(~)?(.+)$/;
                e && (Xi.text_block_elements = Xi.block_elements = null, Gi(eo(e, ","), function(e) {
                    var t = a.exec(e),
                        n = "~" === t[1],
                        r = n ? "span" : "div",
                        i = t[2];
                    if (h[i] = h[r], m[i] = r, n || (l[i.toUpperCase()] = {}, l[i] = {}), !E[i]) {
                        var o = E[r];
                        delete(o = Qi({}, o)).removeEmptyAttrs, delete o.removeEmpty, E[i] = o
                    }
                    Gi(h, function(e, t) {
                        e[r] && (h[t] = e = Qi({}, h[t]), e[i] = e[r])
                    })
                }))
            },
            w = function(e) {
                var i = /^([+\-]?)(\w+)\[([^\]]+)\]$/;
                Xi[o.schema] = null, e && Gi(eo(e, ","), function(e) {
                    var t, n, r = i.exec(e);
                    r && (n = r[1], t = n ? h[r[2]] : h[r[2]] = {
                        "#comment": {}
                    }, t = h[r[2]], Gi(eo(r[3], "|"), function(e) {
                        "-" === n ? delete t[e] : t[e] = {}
                    }))
                })
            },
            C = function(e) {
                var t, n = E[e];
                if (n) return n;
                for (t = k.length; t--;)
                    if ((n = k[t]).pattern.test(e)) return n
            };
        return o.valid_elements ? b(o.valid_elements) : (Gi(n, function(e, t) {
            E[t] = {
                attributes: e.attributes,
                attributesOrder: e.attributesOrder
            }, h[t] = e.children
        }), "html5" !== o.schema && Gi(eo("strong/b em/i"), function(e) {
            e = eo(e, "/"), E[e[1]].outputName = e[0]
        }), Gi(eo("ol ul sub sup blockquote span font a table tbody tr strong em b i"), function(e) {
            E[e] && (E[e].removeEmpty = !0)
        }), Gi(eo("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"), function(e) {
            E[e].paddEmpty = !0
        }), Gi(eo("span"), function(e) {
            E[e].removeEmptyAttrs = !0
        })), x(o.custom_elements), w(o.valid_children), y(o.extended_valid_elements), w("+ol[ul|ol],+ul[ul|ol]"), Gi({
            dd: "dl",
            dt: "dl",
            li: "ul ol",
            td: "tr",
            th: "tr",
            tr: "tbody thead tfoot",
            tbody: "table",
            thead: "table",
            tfoot: "table",
            legend: "fieldset",
            area: "map",
            param: "video audio object"
        }, function(e, t) {
            E[t] && (E[t].parentsRequired = eo(e))
        }), o.invalid_elements && Gi(Ji(o.invalid_elements), function(e) {
            E[e] && delete E[e]
        }), C("span") || y("span[!data-mce-type|*]"), {
            children: h,
            elements: E,
            getValidStyles: function() {
                return e
            },
            getValidClasses: function() {
                return s
            },
            getBlockElements: function() {
                return l
            },
            getInvalidStyles: function() {
                return t
            },
            getShortEndedElements: function() {
                return a
            },
            getTextBlockElements: function() {
                return d
            },
            getTextInlineElements: function() {
                return p
            },
            getBoolAttrs: function() {
                return u
            },
            getElementRule: C,
            getSelfClosingElements: function() {
                return i
            },
            getNonEmptyElements: function() {
                return f
            },
            getMoveCaretBeforeOnEnterElements: function() {
                return c
            },
            getWhiteSpaceElements: function() {
                return r
            },
            getSpecialElements: function() {
                return g
            },
            isValidChild: function(e, t) {
                var n = h[e.toLowerCase()];
                return !(!n || !n[t.toLowerCase()])
            },
            isValid: function(e, t) {
                var n, r, i = C(e);
                if (i) {
                    if (!t) return !0;
                    if (i.attributes[t]) return !0;
                    if (n = i.attributePatterns)
                        for (r = n.length; r--;)
                            if (n[r].pattern.test(e)) return !0
                }
                return !1
            },
            getCustomElements: function() {
                return m
            },
            addValidElements: y,
            setValidElements: b,
            addCustomElements: x,
            addValidChildren: w
        }
    }
    var io = function(e, t, n, r) {
        var i = function(e) {
            return 1 < (e = parseInt(e, 10).toString(16)).length ? e : "0" + e
        };
        return "#" + i(t) + i(n) + i(r)
    };

    function oo(b, e) {
        var x, t, l, f, w = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
            C = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
            E = /\s*([^:]+):\s*([^;]+);?/g,
            k = /\s+$/,
            S = {},
            N = "\ufeff";
        for (b = b || {}, e && (l = e.getValidStyles(), f = e.getInvalidStyles()), t = ("\\\" \\' \\; \\: ; : " + N).split(" "), x = 0; x < t.length; x++) S[t[x]] = N + x, S[N + x] = t[x];
        return {
            toHex: function(e) {
                return e.replace(w, io)
            },
            parse: function(e) {
                var t, n, r, i, o, a, u, s, l = {},
                    f = b.url_converter,
                    c = b.url_converter_scope || this,
                    d = function(e, t, n) {
                        var r, i, o, a;
                        if ((r = l[e + "-top" + t]) && (i = l[e + "-right" + t]) && (o = l[e + "-bottom" + t]) && (a = l[e + "-left" + t])) {
                            var u = [r, i, o, a];
                            for (x = u.length - 1; x-- && u[x] === u[x + 1];); - 1 < x && n || (l[e + t] = -1 === x ? u[0] : u.join(" "), delete l[e + "-top" + t], delete l[e + "-right" + t], delete l[e + "-bottom" + t], delete l[e + "-left" + t])
                        }
                    },
                    p = function(e) {
                        var t, n = l[e];
                        if (n) {
                            for (t = (n = n.split(" ")).length; t--;)
                                if (n[t] !== n[0]) return !1;
                            return l[e] = n[0], !0
                        }
                    },
                    h = function(e) {
                        return i = !0, S[e]
                    },
                    m = function(e, t) {
                        return i && (e = e.replace(/\uFEFF[0-9]/g, function(e) {
                            return S[e]
                        })), t || (e = e.replace(/\\([\'\";:])/g, "$1")), e
                    },
                    g = function(e) {
                        return String.fromCharCode(parseInt(e.slice(1), 16))
                    },
                    v = function(e) {
                        return e.replace(/\\[0-9a-f]+/gi, g)
                    },
                    y = function(e, t, n, r, i, o) {
                        if (i = i || o) return "'" + (i = m(i)).replace(/\'/g, "\\'") + "'";
                        if (t = m(t || n || r), !b.allow_script_urls) {
                            var a = t.replace(/[\s\r\n]+/g, "");
                            if (/(java|vb)script:/i.test(a)) return "";
                            if (!b.allow_svg_data_urls && /^data:image\/svg/i.test(a)) return ""
                        }
                        return f && (t = f.call(c, t, "style")), "url('" + t.replace(/\'/g, "\\'") + "')"
                    };
                if (e) {
                    for (e = (e = e.replace(/[\u0000-\u001F]/g, "")).replace(/\\[\"\';:\uFEFF]/g, h).replace(/\"[^\"]+\"|\'[^\']+\'/g, function(e) {
                            return e.replace(/[;:]/g, h)
                        }); t = E.exec(e);)
                        if (E.lastIndex = t.index + t[0].length, n = t[1].replace(k, "").toLowerCase(), r = t[2].replace(k, ""), n && r) {
                            if (n = v(n), r = v(r), -1 !== n.indexOf(N) || -1 !== n.indexOf('"')) continue;
                            if (!b.allow_script_urls && ("behavior" === n || /expression\s*\(|\/\*|\*\//.test(r))) continue;
                            "font-weight" === n && "700" === r ? r = "bold" : "color" !== n && "background-color" !== n || (r = r.toLowerCase()), r = (r = r.replace(w, io)).replace(C, y), l[n] = i ? m(r, !0) : r
                        }
                    d("border", "", !0), d("border", "-width"), d("border", "-color"), d("border", "-style"), d("padding", ""), d("margin", ""), o = "border", u = "border-style", s = "border-color", p(a = "border-width") && p(u) && p(s) && (l[o] = l[a] + " " + l[u] + " " + l[s], delete l[a], delete l[u], delete l[s]), "medium none" === l.border && delete l.border, "none" === l["border-image"] && delete l["border-image"]
                }
                return l
            },
            serialize: function(o, e) {
                var t, n, r, i, a, u = "",
                    s = function(e) {
                        var t, n, r, i;
                        if (t = l[e])
                            for (n = 0, r = t.length; n < r; n++) e = t[n], (i = o[e]) && (u += (0 < u.length ? " " : "") + e + ": " + i + ";")
                    };
                if (e && l) s("*"), s(e);
                else
                    for (t in o) !(n = o[t]) || f && (r = t, i = e, a = void 0, (a = f["*"]) && a[r] || (a = f[i]) && a[r]) || (u += (0 < u.length ? " " : "") + t + ": " + n + ";");
                return u
            }
        }
    }
    var ao, uo = Lt.each,
        so = Lt.grep,
        lo = ve.ie,
        fo = /^([a-z0-9],?)+$/i,
        co = /^[ \t\r\n]*$/,
        po = function(n, r, i) {
            var e = {},
                o = r.keep_values,
                t = {
                    set: function(e, t, n) {
                        r.url_converter && (t = r.url_converter.call(r.url_converter_scope || i(), t, n, e[0])), e.attr("data-mce-" + n, t).attr(n, t)
                    },
                    get: function(e, t) {
                        return e.attr("data-mce-" + t) || e.attr(t)
                    }
                };
            return e = {
                style: {
                    set: function(e, t) {
                        null === t || "object" != typeof t ? (o && e.attr("data-mce-style", t), e.attr("style", t)) : e.css(t)
                    },
                    get: function(e) {
                        var t = e.attr("data-mce-style") || e.attr("style");
                        return t = n.serialize(n.parse(t), e[0].nodeName)
                    }
                }
            }, o && (e.href = e.src = t), e
        },
        ho = function(e, t) {
            var n = t.attr("style"),
                r = e.serialize(e.parse(n), t[0].nodeName);
            r || (r = null), t.attr("data-mce-style", r)
        },
        mo = function(e, t) {
            var n, r, i = 0;
            if (e)
                for (n = e.nodeType, e = e.previousSibling; e; e = e.previousSibling) r = e.nodeType, (!t || 3 !== r || r !== n && e.nodeValue.length) && (i++, n = r);
            return i
        };

    function go(a, u) {
        var s, l = this;
        void 0 === u && (u = {});
        var r = {},
            o = window,
            i = {},
            t = 0,
            e = function(p, e) {
                var h, m = 0,
                    g = {};
                h = (e = e || {}).maxLoadTime || 5e3;
                var v = function(e) {
                        p.getElementsByTagName("head")[0].appendChild(e)
                    },
                    n = function(e, t, n) {
                        var i, r, o, a, u = function() {
                                for (var e = a.passed, t = e.length; t--;) e[t]();
                                a.status = 2, a.passed = [], a.failed = []
                            },
                            s = function() {
                                for (var e = a.failed, t = e.length; t--;) e[t]();
                                a.status = 3, a.passed = [], a.failed = []
                            },
                            l = function(e, t) {
                                e() || ((new Date).getTime() - o < h ? Ce.setTimeout(t) : s())
                            },
                            f = function() {
                                l(function() {
                                    for (var e, t, n = p.styleSheets, r = n.length; r--;)
                                        if ((t = (e = n[r]).ownerNode ? e.ownerNode : e.owningElement) && t.id === i.id) return u(), !0
                                }, f)
                            },
                            c = function() {
                                l(function() {
                                    try {
                                        var e = r.sheet.cssRules;
                                        return u(), !!e
                                    } catch (e) {}
                                }, c)
                            };
                        if (e = Lt._addCacheSuffix(e), g[e] ? a = g[e] : (a = {
                                passed: [],
                                failed: []
                            }, g[e] = a), t && a.passed.push(t), n && a.failed.push(n), 1 !== a.status)
                            if (2 !== a.status)
                                if (3 !== a.status) {
                                    if (a.status = 1, (i = p.createElement("link")).rel = "stylesheet", i.type = "text/css", i.id = "u" + m++, i.async = !1, i.defer = !1, o = (new Date).getTime(), "onload" in i && !((d = navigator.userAgent.match(/WebKit\/(\d*)/)) && parseInt(d[1], 10) < 536)) i.onload = f, i.onerror = s;
                                    else {
                                        if (0 < navigator.userAgent.indexOf("Firefox")) return (r = p.createElement("style")).textContent = '@import "' + e + '"', c(), void v(r);
                                        f()
                                    }
                                    var d;
                                    v(i), i.href = e
                                } else s();
                        else u()
                    },
                    t = function(t) {
                        return Zr.nu(function(e) {
                            n(t, z.compose(e, z.constant(oi.value(t))), z.compose(e, z.constant(oi.error(t))))
                        })
                    },
                    i = function(e) {
                        return e.fold(z.identity, z.identity)
                    };
                return {
                    load: n,
                    loadAll: function(e, n, r) {
                        ni.par(U.map(e, t)).get(function(e) {
                            var t = U.partition(e, function(e) {
                                return e.isValue()
                            });
                            0 < t.fail.length ? r(t.fail.map(i)) : n(t.pass.map(i))
                        })
                    }
                }
            }(a),
            f = [],
            c = u.schema ? u.schema : ro({}),
            d = oo({
                url_converter: u.url_converter,
                url_converter_scope: u.url_converter_scope
            }, u.schema),
            p = u.ownEvents ? new Re(u.proxy) : Re.Event,
            n = c.getBlockElements(),
            h = tn.overrideDefaults(function() {
                return {
                    context: a,
                    element: H.getRoot()
                }
            }),
            m = function(e) {
                if (e && a && "string" == typeof e) {
                    var t = a.getElementById(e);
                    return t && t.id !== e ? a.getElementsByName(e)[1] : t
                }
                return e
            },
            g = function(e) {
                return "string" == typeof e && (e = m(e)), h(e)
            },
            v = function(e, t, n) {
                var r, i, o = g(e);
                return o.length && (i = (r = s[t]) && r.get ? r.get(o, t) : o.attr(t)), void 0 === i && (i = n || ""), i
            },
            y = function(e) {
                var t = m(e);
                return t ? t.attributes : []
            },
            b = function(e, t, n) {
                var r, i;
                "" === n && (n = null);
                var o = g(e);
                r = o.attr(t), o.length && ((i = s[t]) && i.set ? i.set(o, n, t) : o.attr(t, n), r !== n && u.onSetAttrib && u.onSetAttrib({
                    attrElm: o,
                    attrName: t,
                    attrValue: n
                }))
            },
            x = function() {
                return u.root_element || a.body
            },
            w = function(e, t) {
                return Kr.getPos(a.body, m(e), t)
            },
            C = function(e, t, n) {
                var r = g(e);
                return n ? r.css(t) : ("float" === (t = t.replace(/-(\D)/g, function(e, t) {
                    return t.toUpperCase()
                })) && (t = ve.ie && ve.ie < 12 ? "styleFloat" : "cssFloat"), r[0] && r[0].style ? r[0].style[t] : undefined)
            },
            E = function(e) {
                var t, n;
                return e = m(e), t = C(e, "width"), n = C(e, "height"), -1 === t.indexOf("px") && (t = 0), -1 === n.indexOf("px") && (n = 0), {
                    w: parseInt(t, 10) || e.offsetWidth || e.clientWidth,
                    h: parseInt(n, 10) || e.offsetHeight || e.clientHeight
                }
            },
            k = function(e, t) {
                var n;
                if (!e) return !1;
                if (!Array.isArray(e)) {
                    if ("*" === t) return 1 === e.nodeType;
                    if (fo.test(t)) {
                        var r = t.toLowerCase().split(/,/),
                            i = e.nodeName.toLowerCase();
                        for (n = r.length - 1; 0 <= n; n--)
                            if (r[n] === i) return !0;
                        return !1
                    }
                    if (e.nodeType && 1 !== e.nodeType) return !1
                }
                var o = Array.isArray(e) ? e : [e];
                return 0 < pt(t, o[0].ownerDocument || o[0], null, o).length
            },
            S = function(e, t, n, r) {
                var i, o = [],
                    a = m(e);
                for (r = r === undefined, n = n || ("BODY" !== x().nodeName ? x().parentNode : null), Lt.is(t, "string") && (t = "*" === (i = t) ? function(e) {
                        return 1 === e.nodeType
                    } : function(e) {
                        return k(e, i)
                    }); a && a !== n && a.nodeType && 9 !== a.nodeType;) {
                    if (!t || "function" == typeof t && t(a)) {
                        if (!r) return [a];
                        o.push(a)
                    }
                    a = a.parentNode
                }
                return r ? o : null
            },
            N = function(e, t, n) {
                var r = t;
                if (e)
                    for ("string" == typeof t && (r = function(e) {
                            return k(e, t)
                        }), e = e[n]; e; e = e[n])
                        if ("function" == typeof r && r(e)) return e;
                return null
            },
            T = function(e, n, r) {
                var i, t = "string" == typeof e ? m(e) : e;
                if (!t) return !1;
                if (Lt.isArray(t) && (t.length || 0 === t.length)) return i = [], uo(t, function(e, t) {
                    e && ("string" == typeof e && (e = m(e)), i.push(n.call(r, e, t)))
                }), i;
                var o = r || l;
                return n.call(o, t)
            },
            A = function(e, t) {
                g(e).each(function(e, n) {
                    uo(t, function(e, t) {
                        b(n, t, e)
                    })
                })
            },
            D = function(e, n) {
                var t = g(e);
                lo ? t.each(function(e, t) {
                    if (!1 !== t.canHaveHTML) {
                        for (; t.firstChild;) t.removeChild(t.firstChild);
                        try {
                            t.innerHTML = "<br>" + n, t.removeChild(t.firstChild)
                        } catch (e) {
                            tn("<div></div>").html("<br>" + n).contents().slice(1).appendTo(t)
                        }
                        return n
                    }
                }) : t.html(n)
            },
            _ = function(e, n, r, i, o) {
                return T(e, function(e) {
                    var t = "string" == typeof n ? a.createElement(n) : n;
                    return A(t, r), i && ("string" != typeof i && i.nodeType ? t.appendChild(i) : "string" == typeof i && D(t, i)), o ? t : e.appendChild(t)
                })
            },
            R = function(e, t, n) {
                return _(a.createElement(e), e, t, n, !0)
            },
            O = Wi.decode,
            F = Wi.encodeAllRaw,
            B = function(e, t) {
                var n = g(e);
                return t ? n.each(function() {
                    for (var e; e = this.firstChild;) 3 === e.nodeType && 0 === e.data.length ? this.removeChild(e) : this.parentNode.insertBefore(e, this)
                }).remove() : n.remove(), 1 < n.length ? n.toArray() : n[0]
            },
            P = function(e, t, n) {
                g(e).toggleClass(t, n).each(function() {
                    "" === this.className && tn(this).attr("class", null)
                })
            },
            L = function(t, e, n) {
                return T(e, function(e) {
                    return Lt.is(e, "array") && (t = t.cloneNode(!0)), n && uo(so(e.childNodes), function(e) {
                        t.appendChild(e)
                    }), e.parentNode.replaceChild(t, e)
                })
            },
            I = function() {
                return a.createRange()
            },
            j = function(e, t, n, r) {
                if (Lt.isArray(e)) {
                    for (var i = e.length; i--;) e[i] = j(e[i], t, n, r);
                    return e
                }
                return !u.collect || e !== a && e !== o || f.push([e, t, n, r]), p.bind(e, t, n, r || H)
            },
            M = function(e, t, n) {
                var r;
                if (Lt.isArray(e)) {
                    for (r = e.length; r--;) e[r] = M(e[r], t, n);
                    return e
                }
                if (f && (e === a || e === o))
                    for (r = f.length; r--;) {
                        var i = f[r];
                        e !== i[0] || t && t !== i[1] || n && n !== i[2] || p.unbind(i[0], i[1], i[2])
                    }
                return p.unbind(e, t, n)
            },
            q = function(e) {
                if (e && Oi.isElement(e)) {
                    var t = e.getAttribute("data-mce-contenteditable");
                    return t && "inherit" !== t ? t : "inherit" !== e.contentEditable ? e.contentEditable : null
                }
                return null
            },
            H = {
                doc: a,
                settings: u,
                win: o,
                files: i,
                stdMode: !0,
                boxModel: !0,
                styleSheetLoader: e,
                boundEvents: f,
                styles: d,
                schema: c,
                events: p,
                isBlock: function(e) {
                    if ("string" == typeof e) return !!n[e];
                    if (e) {
                        var t = e.nodeType;
                        if (t) return !(1 !== t || !n[e.nodeName])
                    }
                    return !1
                },
                $: h,
                $$: g,
                root: null,
                clone: function(t, e) {
                    if (!lo || 1 !== t.nodeType || e) return t.cloneNode(e);
                    if (!e) {
                        var n = a.createElement(t.nodeName);
                        return uo(y(t), function(e) {
                            b(n, e.nodeName, v(t, e.nodeName))
                        }), n
                    }
                    return null
                },
                getRoot: x,
                getViewPort: function(e) {
                    var t = e || o,
                        n = t.document,
                        r = n.documentElement;
                    return {
                        x: t.pageXOffset || r.scrollLeft,
                        y: t.pageYOffset || r.scrollTop,
                        w: t.innerWidth || r.clientWidth,
                        h: t.innerHeight || r.clientHeight
                    }
                },
                getRect: function(e) {
                    var t, n;
                    return e = m(e), t = w(e), n = E(e), {
                        x: t.x,
                        y: t.y,
                        w: n.w,
                        h: n.h
                    }
                },
                getSize: E,
                getParent: function(e, t, n) {
                    var r = S(e, t, n, !1);
                    return r && 0 < r.length ? r[0] : null
                },
                getParents: S,
                get: m,
                getNext: function(e, t) {
                    return N(e, t, "nextSibling")
                },
                getPrev: function(e, t) {
                    return N(e, t, "previousSibling")
                },
                select: function(e, t) {
                    return pt(e, m(t) || u.root_element || a, [])
                },
                is: k,
                add: _,
                create: R,
                createHTML: function(e, t, n) {
                    var r, i = "";
                    for (r in i += "<" + e, t) t.hasOwnProperty(r) && null !== t[r] && "undefined" != typeof t[r] && (i += " " + r + '="' + F(t[r]) + '"');
                    return void 0 !== n ? i + ">" + n + "</" + e + ">" : i + " />"
                },
                createFragment: function(e) {
                    var t, n = a.createElement("div"),
                        r = a.createDocumentFragment();
                    for (e && (n.innerHTML = e); t = n.firstChild;) r.appendChild(t);
                    return r
                },
                remove: B,
                setStyle: function(e, t, n) {
                    var r = g(e).css(t, n);
                    u.update_styles && ho(d, r)
                },
                getStyle: C,
                setStyles: function(e, t) {
                    var n = g(e).css(t);
                    u.update_styles && ho(d, n)
                },
                removeAllAttribs: function(e) {
                    return T(e, function(e) {
                        var t, n = e.attributes;
                        for (t = n.length - 1; 0 <= t; t--) e.removeAttributeNode(n.item(t))
                    })
                },
                setAttrib: b,
                setAttribs: A,
                getAttrib: v,
                getPos: w,
                parseStyle: function(e) {
                    return d.parse(e)
                },
                serializeStyle: function(e, t) {
                    return d.serialize(e, t)
                },
                addStyle: function(e) {
                    var t, n;
                    if (H !== go.DOM && a === document) {
                        if (r[e]) return;
                        r[e] = !0
                    }(n = a.getElementById("mceDefaultStyles")) || ((n = a.createElement("style")).id = "mceDefaultStyles", n.type = "text/css", (t = a.getElementsByTagName("head")[0]).firstChild ? t.insertBefore(n, t.firstChild) : t.appendChild(n)), n.styleSheet ? n.styleSheet.cssText += e : n.appendChild(a.createTextNode(e))
                },
                loadCSS: function(e) {
                    var n;
                    H === go.DOM || a !== document ? (e || (e = ""), n = a.getElementsByTagName("head")[0], uo(e.split(","), function(e) {
                        var t;
                        e = Lt._addCacheSuffix(e), i[e] || (i[e] = !0, t = R("link", {
                            rel: "stylesheet",
                            href: e
                        }), n.appendChild(t))
                    })) : go.DOM.loadCSS(e)
                },
                addClass: function(e, t) {
                    g(e).addClass(t)
                },
                removeClass: function(e, t) {
                    P(e, t, !1)
                },
                hasClass: function(e, t) {
                    return g(e).hasClass(t)
                },
                toggleClass: P,
                show: function(e) {
                    g(e).show()
                },
                hide: function(e) {
                    g(e).hide()
                },
                isHidden: function(e) {
                    return "none" === g(e).css("display")
                },
                uniqueId: function(e) {
                    return (e || "mce_") + t++
                },
                setHTML: D,
                getOuterHTML: function(e) {
                    var t = "string" == typeof e ? m(e) : e;
                    return Oi.isElement(t) ? t.outerHTML : tn("<div></div>").append(tn(t).clone()).html()
                },
                setOuterHTML: function(e, t) {
                    g(e).each(function() {
                        try {
                            if ("outerHTML" in this) return void(this.outerHTML = t)
                        } catch (e) {}
                        B(tn(this).html(t), !0)
                    })
                },
                decode: O,
                encode: F,
                insertAfter: function(e, t) {
                    var r = m(t);
                    return T(e, function(e) {
                        var t, n;
                        return t = r.parentNode, (n = r.nextSibling) ? t.insertBefore(e, n) : t.appendChild(e), e
                    })
                },
                replace: L,
                rename: function(t, e) {
                    var n;
                    return t.nodeName !== e.toUpperCase() && (n = R(e), uo(y(t), function(e) {
                        b(n, e.nodeName, v(t, e.nodeName))
                    }), L(n, t, !0)), n || t
                },
                findCommonAncestor: function(e, t) {
                    for (var n, r = e; r;) {
                        for (n = t; n && r !== n;) n = n.parentNode;
                        if (r === n) break;
                        r = r.parentNode
                    }
                    return !r && e.ownerDocument ? e.ownerDocument.documentElement : r
                },
                toHex: function(e) {
                    return d.toHex(Lt.trim(e))
                },
                run: T,
                getAttribs: y,
                isEmpty: function(e, t) {
                    var n, r, i, o, a, u, s = 0;
                    if (e = e.firstChild) {
                        a = new ai(e, e.parentNode), t = t || (c ? c.getNonEmptyElements() : null), o = c ? c.getWhiteSpaceElements() : {};
                        do {
                            if (i = e.nodeType, Oi.isElement(e)) {
                                var l = e.getAttribute("data-mce-bogus");
                                if (l) {
                                    e = a.next("all" === l);
                                    continue
                                }
                                if (u = e.nodeName.toLowerCase(), t && t[u]) {
                                    if ("br" === u) {
                                        s++, e = a.next();
                                        continue
                                    }
                                    return !1
                                }
                                for (n = (r = y(e)).length; n--;)
                                    if ("name" === (u = r[n].nodeName) || "data-mce-bookmark" === u) return !1
                            }
                            if (8 === i) return !1;
                            if (3 === i && !co.test(e.nodeValue)) return !1;
                            if (3 === i && e.parentNode && o[e.parentNode.nodeName] && co.test(e.nodeValue)) return !1;
                            e = a.next()
                        } while (e)
                    }
                    return s <= 1
                },
                createRng: I,
                nodeIndex: mo,
                split: function(e, t, n) {
                    var r, i, o, a = I();
                    if (e && t) return a.setStart(e.parentNode, mo(e)), a.setEnd(t.parentNode, mo(t)), r = a.extractContents(), (a = I()).setStart(t.parentNode, mo(t) + 1), a.setEnd(e.parentNode, mo(e) + 1), i = a.extractContents(), (o = e.parentNode).insertBefore(Pi.trimNode(H, r), e), n ? o.insertBefore(n, e) : o.insertBefore(t, e), o.insertBefore(Pi.trimNode(H, i), e), B(e), n || t
                },
                bind: j,
                unbind: M,
                fire: function(e, t, n) {
                    return p.fire(e, t, n)
                },
                getContentEditable: q,
                getContentEditableParent: function(e) {
                    for (var t = x(), n = null; e && e !== t && null === (n = q(e)); e = e.parentNode);
                    return n
                },
                destroy: function() {
                    if (f)
                        for (var e = f.length; e--;) {
                            var t = f[e];
                            p.unbind(t[0], t[1], t[2])
                        }
                    pt.setDocument && pt.setDocument()
                },
                isChildOf: function(e, t) {
                    for (; e;) {
                        if (t === e) return !0;
                        e = e.parentNode
                    }
                    return !1
                },
                dumpRng: function(e) {
                    return "startContainer: " + e.startContainer.nodeName + ", startOffset: " + e.startOffset + ", endContainer: " + e.endContainer.nodeName + ", endOffset: " + e.endOffset
                }
            };
        return s = po(d, u, function() {
            return H
        }), H
    }(ao = go || (go = {})).DOM = ao(document), ao.nodeIndex = mo;
    var vo = go,
        yo = vo.DOM,
        bo = Lt.each,
        xo = Lt.grep,
        wo = function(e) {
            return "function" == typeof e
        },
        Co = function() {
            var c = {},
                i = [],
                o = {},
                a = [],
                d = 0;
            this.isDone = function(e) {
                return 2 === c[e]
            }, this.markDone = function(e) {
                c[e] = 2
            }, this.add = this.load = function(e, t, n, r) {
                c[e] === undefined && (i.push(e), c[e] = 0), t && (o[e] || (o[e] = []), o[e].push({
                    success: t,
                    failure: r,
                    scope: n || this
                }))
            }, this.remove = function(e) {
                delete c[e], delete o[e]
            }, this.loadQueue = function(e, t, n) {
                this.loadScripts(i, e, t, n)
            }, this.loadScripts = function(n, e, t, r) {
                var s, l = [],
                    f = function(t, e) {
                        bo(o[e], function(e) {
                            wo(e[t]) && e[t].call(e.scope)
                        }), o[e] = undefined
                    };
                a.push({
                    success: e,
                    failure: r,
                    scope: t || this
                }), (s = function() {
                    var e = xo(n);
                    if (n.length = 0, bo(e, function(e) {
                            var t, n, r, i, o, a, u;
                            2 !== c[e] ? 3 !== c[e] ? 1 !== c[e] && (c[e] = 1, d++, t = e, n = function() {
                                c[e] = 2, d--, f("success", e), s()
                            }, r = function() {
                                c[e] = 3, d--, l.push(e), f("failure", e), s()
                            }, u = function() {
                                a.remove(o), i && (i.onreadystatechange = i.onload = i = null), n()
                            }, o = (a = yo).uniqueId(), (i = document.createElement("script")).id = o, i.type = "text/javascript", i.src = Lt._addCacheSuffix(t), "onreadystatechange" in i ? i.onreadystatechange = function() {
                                /loaded|complete/.test(i.readyState) && u()
                            } : i.onload = u, i.onerror = function() {
                                wo(r) ? r() : "undefined" != typeof console && console.log && console.log("Failed to load script: " + t)
                            }, (document.getElementsByTagName("head")[0] || document.body).appendChild(i)) : f("failure", e) : f("success", e)
                        }), !d) {
                        var t = a.slice(0);
                        a.length = 0, bo(t, function(e) {
                            0 === l.length ? wo(e.success) && e.success.call(e.scope) : wo(e.failure) && e.failure.call(e.scope, l)
                        })
                    }
                })()
            }
        };
    Co.ScriptLoader = new Co;
    var Eo, ko = Lt.each;

    function So() {
        var r = this,
            i = [],
            a = {},
            u = {},
            o = [],
            s = function(e) {
                var t;
                return u[e] && (t = u[e].dependencies), t || []
            },
            l = function(e, t) {
                return "object" == typeof t ? t : "string" == typeof e ? {
                    prefix: "",
                    resource: t,
                    suffix: ""
                } : {
                    prefix: e.prefix,
                    resource: t,
                    suffix: e.suffix
                }
            },
            f = function(n, e, t) {
                var r = s(name);
                ko(r, function(e) {
                    var t = l(n, e);
                    c(t.resource, t, undefined, undefined)
                }), e && (t ? e.call(t) : e.call(Co))
            },
            c = function(e, t, n, r, i) {
                if (!a[e]) {
                    var o = "string" == typeof t ? t : t.prefix + t.resource + t.suffix;
                    0 !== o.indexOf("/") && -1 === o.indexOf("://") && (o = So.baseURL + "/" + o), a[e] = o.substring(0, o.lastIndexOf("/")), u[e] ? f(t, n, r) : Co.ScriptLoader.add(o, function() {
                        return f(t, n, r)
                    }, r, i)
                }
            };
        return {
            items: i,
            urls: a,
            lookup: u,
            _listeners: o,
            get: function(e) {
                return u[e] ? u[e].instance : undefined
            },
            dependencies: s,
            requireLangPack: function(e, t) {
                var n = So.language;
                if (n && !1 !== So.languageLoad) {
                    if (t)
                        if (-1 !== (t = "," + t + ",").indexOf("," + n.substr(0, 2) + ",")) n = n.substr(0, 2);
                        else if (-1 === t.indexOf("," + n + ",")) return;
                    Co.ScriptLoader.add(a[e] + "/langs/" + n + ".js")
                }
            },
            add: function(t, e, n) {
                i.push(e), u[t] = {
                    instance: e,
                    dependencies: n
                };
                var r = U.partition(o, function(e) {
                    return e.name === t
                });
                return o = r.fail, ko(r.pass, function(e) {
                    e.callback()
                }), e
            },
            remove: function(e) {
                delete a[e], delete u[e]
            },
            createUrl: l,
            addComponents: function(e, t) {
                var n = r.urls[e];
                ko(t, function(e) {
                    Co.ScriptLoader.add(n + "/" + e)
                })
            },
            load: c,
            waitFor: function(e, t) {
                u.hasOwnProperty(e) ? t() : o.push({
                    name: e,
                    callback: t
                })
            }
        }
    }(Eo = So || (So = {})).PluginManager = Eo(), Eo.ThemeManager = Eo();
    var No, To = "\ufeff",
        Ao = function(e) {
            return e === To
        },
        Do = To,
        _o = function(e) {
            return e.replace(new RegExp(To, "g"), "")
        },
        Ro = Oi.isElement,
        Oo = Oi.isText,
        Fo = function(e) {
            return Oo(e) && (e = e.parentNode), Ro(e) && e.hasAttribute("data-mce-caret")
        },
        Bo = function(e) {
            return Oo(e) && Ao(e.data)
        },
        Po = function(e) {
            return Fo(e) || Bo(e)
        },
        Lo = function(e) {
            return e.firstChild !== e.lastChild || !Oi.isBr(e.firstChild)
        },
        Io = function(e) {
            var t = e.container();
            return e && Oi.isText(t) && t.data.charAt(e.offset()) === Do
        },
        jo = function(e) {
            var t = e.container();
            return e && Oi.isText(t) && t.data.charAt(e.offset() - 1) === Do
        },
        Mo = function(e, t, n) {
            var r, i, o;
            return (r = t.ownerDocument.createElement(e)).setAttribute("data-mce-caret", n ? "before" : "after"), r.setAttribute("data-mce-bogus", "all"), r.appendChild(((o = document.createElement("br")).setAttribute("data-mce-bogus", "1"), o)), i = t.parentNode, n ? i.insertBefore(r, t) : t.nextSibling ? i.insertBefore(r, t.nextSibling) : i.appendChild(r), r
        },
        qo = function(e) {
            return Oo(e) && e.data[0] === Do
        },
        Ho = function(e) {
            return Oo(e) && e.data[e.data.length - 1] === Do
        },
        zo = function(e) {
            return e && e.hasAttribute("data-mce-caret") ? (t = e.getElementsByTagName("br"), n = t[t.length - 1], Oi.isBogus(n) && n.parentNode.removeChild(n), e.removeAttribute("data-mce-caret"), e.removeAttribute("data-mce-bogus"), e.removeAttribute("style"), e.removeAttribute("_moz_abspos"), e) : null;
            var t, n
        },
        Uo = Oi.isContentEditableTrue,
        $o = Oi.isContentEditableFalse,
        Vo = Oi.isBr,
        Wo = Oi.isText,
        Xo = Oi.matchNodeNames("script style textarea"),
        Ko = Oi.matchNodeNames("img input textarea hr iframe video audio object"),
        Yo = Oi.matchNodeNames("table"),
        Go = Po,
        Qo = function(e) {
            return !Go(e) && (Wo(e) ? !Xo(e.parentNode) : Ko(e) || Vo(e) || Yo(e) || Jo(e))
        },
        Jo = function(e) {
            return !1 === (t = e, Oi.isElement(t) && "true" === t.getAttribute("unselectable")) && $o(e);
            var t
        },
        Zo = function(e, t) {
            return Qo(e) && function(e, t) {
                for (e = e.parentNode; e && e !== t; e = e.parentNode) {
                    if (Jo(e)) return !1;
                    if (Uo(e)) return !0
                }
                return !0
            }(e, t)
        },
        ea = Math.round,
        ta = function(e) {
            return e ? {
                left: ea(e.left),
                top: ea(e.top),
                bottom: ea(e.bottom),
                right: ea(e.right),
                width: ea(e.width),
                height: ea(e.height)
            } : {
                left: 0,
                top: 0,
                bottom: 0,
                right: 0,
                width: 0,
                height: 0
            }
        },
        na = function(e, t) {
            return e = ta(e), t || (e.left = e.left + e.width), e.right = e.left, e.width = 0, e
        },
        ra = function(e, t, n) {
            return 0 <= e && e <= Math.min(t.height, n.height) / 2
        },
        ia = function(e, t) {
            return e.bottom - e.height / 2 < t.top || !(e.top > t.bottom) && ra(t.top - e.bottom, e, t)
        },
        oa = function(e, t) {
            return e.top > t.bottom || !(e.bottom < t.top) && ra(t.bottom - e.top, e, t)
        },
        aa = function(e) {
            var t = e.startContainer,
                n = e.startOffset;
            return t.hasChildNodes() && e.endOffset === n + 1 ? t.childNodes[n] : null
        },
        ua = function(e, t) {
            return 1 === e.nodeType && e.hasChildNodes() && (t >= e.childNodes.length && (t = e.childNodes.length - 1), e = e.childNodes[t]), e
        },
        sa = new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),
        la = function(e) {
            return "string" == typeof e && 768 <= e.charCodeAt(0) && sa.test(e)
        },
        fa = [].slice,
        ca = function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            var r = fa.call(arguments);
            return r.length - 1 >= e.length ? e.apply(this, r.slice(1)) : function() {
                var e = r.concat([].slice.call(arguments));
                return ca.apply(this, e)
            }
        },
        da = {
            constant: function(e) {
                return function() {
                    return e
                }
            },
            negate: function(t) {
                return function(e) {
                    return !t(e)
                }
            },
            and: function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                var n = fa.call(arguments);
                return function(e) {
                    for (var t = 0; t < n.length; t++)
                        if (!n[t](e)) return !1;
                    return !0
                }
            },
            or: function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                var n = fa.call(arguments);
                return function(e) {
                    for (var t = 0; t < n.length; t++)
                        if (n[t](e)) return !0;
                    return !1
                }
            },
            curry: ca,
            compose: function(t, n) {
                return function(e) {
                    return t(n(e))
                }
            },
            noop: function() {}
        },
        pa = function(e, t) {
            for (var n = [], r = 0; r < e.length; r++) {
                var i = e[r];
                if (!i.isSome()) return A.none();
                n.push(i.getOrDie())
            }
            return A.some(t.apply(null, n))
        },
        ha = Oi.isElement,
        ma = Qo,
        ga = Oi.matchStyleValues("display", "block table"),
        va = Oi.matchStyleValues("float", "left right"),
        ya = da.and(ha, ma, da.negate(va)),
        ba = da.negate(Oi.matchStyleValues("white-space", "pre pre-line pre-wrap")),
        xa = Oi.isText,
        wa = Oi.isBr,
        Ca = vo.nodeIndex,
        Ea = ua,
        ka = function(e) {
            return "createRange" in e ? e.createRange() : vo.DOM.createRng()
        },
        Sa = function(e) {
            return e && /[\r\n\t ]/.test(e)
        },
        Na = function(e) {
            return !!e.setStart && !!e.setEnd
        },
        Ta = function(e) {
            var t, n = e.startContainer,
                r = e.startOffset;
            return !!(Sa(e.toString()) && ba(n.parentNode) && Oi.isText(n) && (t = n.data, Sa(t[r - 1]) || Sa(t[r + 1])))
        },
        Aa = function(e) {
            return 0 === e.left && 0 === e.right && 0 === e.top && 0 === e.bottom
        },
        Da = function(e) {
            var t, n, r, i, o, a, u, s;
            return t = 0 < (n = e.getClientRects()).length ? ta(n[0]) : ta(e.getBoundingClientRect()), !Na(e) && wa(e) && Aa(t) ? (o = (r = e).ownerDocument, a = ka(o), u = o.createTextNode("Â "), (s = r.parentNode).insertBefore(u, r), a.setStart(u, 0), a.setEnd(u, 1), i = ta(a.getBoundingClientRect()), s.removeChild(u), i) : Aa(t) && Na(e) ? function(e) {
                var t = e.startContainer,
                    n = e.endContainer,
                    r = e.startOffset,
                    i = e.endOffset;
                if (t === n && Oi.isText(n) && 0 === r && 1 === i) {
                    var o = e.cloneRange();
                    return o.setEndAfter(n), Da(o)
                }
                return null
            }(e) : t
        },
        _a = function(e, t) {
            var n = na(e, t);
            return n.width = 1, n.right = n.left + 1, n
        },
        Ra = function(e) {
            var t, n, r = [],
                i = function(e) {
                    var t, n;
                    0 !== e.height && (0 < r.length && (t = e, n = r[r.length - 1], t.left === n.left && t.top === n.top && t.bottom === n.bottom && t.right === n.right) || r.push(e))
                },
                o = function(e, t) {
                    var n = ka(e.ownerDocument);
                    if (t < e.data.length) {
                        if (la(e.data[t])) return r;
                        if (la(e.data[t - 1]) && (n.setStart(e, t), n.setEnd(e, t + 1), !Ta(n))) return i(_a(Da(n), !1)), r
                    }
                    0 < t && (n.setStart(e, t - 1), n.setEnd(e, t), Ta(n) || i(_a(Da(n), !1))), t < e.data.length && (n.setStart(e, t), n.setEnd(e, t + 1), Ta(n) || i(_a(Da(n), !0)))
                };
            if (xa(e.container())) return o(e.container(), e.offset()), r;
            if (ha(e.container()))
                if (e.isAtEnd()) n = Ea(e.container(), e.offset()), xa(n) && o(n, n.data.length), ya(n) && !wa(n) && i(_a(Da(n), !1));
                else {
                    if (n = Ea(e.container(), e.offset()), xa(n) && o(n, 0), ya(n) && e.isAtEnd()) return i(_a(Da(n), !1)), r;
                    t = Ea(e.container(), e.offset() - 1), ya(t) && !wa(t) && (ga(t) || ga(n) || !ya(n)) && i(_a(Da(t), !1)), ya(n) && i(_a(Da(n), !0))
                }
            return r
        };

    function Oa(t, n, e) {
        var r = function() {
            return e || (e = Ra(Oa(t, n))), e
        };
        return {
            container: da.constant(t),
            offset: da.constant(n),
            toRange: function() {
                var e;
                return (e = ka(t.ownerDocument)).setStart(t, n), e.setEnd(t, n), e
            },
            getClientRects: r,
            isVisible: function() {
                return 0 < r().length
            },
            isAtStart: function() {
                return xa(t), 0 === n
            },
            isAtEnd: function() {
                return xa(t) ? n >= t.data.length : n >= t.childNodes.length
            },
            isEqual: function(e) {
                return e && t === e.container() && n === e.offset()
            },
            getNode: function(e) {
                return Ea(t, e ? n - 1 : n)
            }
        }
    }(No = Oa || (Oa = {})).fromRangeStart = function(e) {
        return No(e.startContainer, e.startOffset)
    }, No.fromRangeEnd = function(e) {
        return No(e.endContainer, e.endOffset)
    }, No.after = function(e) {
        return No(e.parentNode, Ca(e) + 1)
    }, No.before = function(e) {
        return No(e.parentNode, Ca(e))
    }, No.isAbove = function(e, t) {
        return pa([U.head(t.getClientRects()), U.last(e.getClientRects())], ia).getOr(!1)
    }, No.isBelow = function(e, t) {
        return pa([U.last(t.getClientRects()), U.head(e.getClientRects())], oa).getOr(!1)
    }, No.isAtStart = function(e) {
        return !!e && e.isAtStart()
    }, No.isAtEnd = function(e) {
        return !!e && e.isAtEnd()
    }, No.isTextPosition = function(e) {
        return !!e && Oi.isText(e.container())
    }, No.isElementPosition = function(e) {
        return !1 === No.isTextPosition(e)
    };
    var Fa, Ba, Pa = Oa,
        La = Oi.isElement,
        Ia = Oi.isText,
        ja = function(e) {
            var t = e.parentNode;
            t && t.removeChild(e)
        },
        Ma = function(e, t) {
            0 === t.length ? ja(e) : e.nodeValue = t
        },
        qa = function(e) {
            var t = _o(e);
            return {
                count: e.length - t.length,
                text: t
            }
        },
        Ha = function(e, t) {
            return $a(e), t
        },
        za = function(e, t) {
            return Ia(e) && t.container() === e ? (r = t, i = qa((n = e).data.substr(0, r.offset())), o = qa(n.data.substr(r.offset())), 0 < (a = i.text + o.text).length ? (Ma(n, a), Pa(n, r.offset() - i.count)) : r) : Ha(e, t);
            var n, r, i, o, a
        },
        Ua = function(e, t) {
            return t.container() === e.parentNode ? (n = e, i = (r = t).container(), o = U.indexOf(U.from(i.childNodes), n).map(function(e) {
                return e < r.offset() ? Pa(i, r.offset() - 1) : r
            }).getOr(r), $a(n), o) : Ha(e, t);
            var n, r, i, o
        },
        $a = function(e) {
            if (La(e) && Po(e) && (Lo(e) ? e.removeAttribute("data-mce-caret") : ja(e)), Ia(e)) {
                var t = _o(function(e) {
                    try {
                        return e.nodeValue
                    } catch (e) {
                        return ""
                    }
                }(e));
                Ma(e, t)
            }
        },
        Va = {
            removeAndReposition: function(e, t) {
                return Pa.isTextPosition(t) ? za(e, t) : Ua(e, t)
            },
            remove: $a
        },
        Wa = function(e) {
            return Pa.isTextPosition(e) ? 0 === e.offset() : Qo(e.getNode())
        },
        Xa = function(e) {
            if (Pa.isTextPosition(e)) {
                var t = e.container();
                return e.offset() === t.data.length
            }
            return Qo(e.getNode(!0))
        },
        Ka = function(e, t) {
            return !Pa.isTextPosition(e) && !Pa.isTextPosition(t) && e.getNode() === t.getNode(!0)
        },
        Ya = function(e, t, n) {
            return e ? !Ka(t, n) && (r = t, !(!Pa.isTextPosition(r) && Oi.isBr(r.getNode()))) && Xa(t) && Wa(n) : !Ka(n, t) && Wa(t) && Xa(n);
            var r
        },
        Ga = function(e, t, n) {
            var r = Ys(t);
            return A.from(e ? r.next(n) : r.prev(n))
        },
        Qa = function(e, t) {
            var n, r, i, o, a, u = e ? t.firstChild : t.lastChild;
            return Oi.isText(u) ? A.some(Pa(u, e ? 0 : u.data.length)) : u ? Qo(u) ? A.some(e ? Pa.before(u) : (a = u, Oi.isBr(a) ? Pa.before(a) : Pa.after(a))) : (r = t, i = u, o = (n = e) ? Pa.before(i) : Pa.after(i), Ga(n, r, o)) : A.none()
        },
        Ja = {
            fromPosition: Ga,
            nextPosition: z.curry(Ga, !0),
            prevPosition: z.curry(Ga, !1),
            navigate: function(t, n, r) {
                return Ga(t, n, r).bind(function(e) {
                    return bs(r, e, n) && Ya(t, r, e) ? Ga(t, n, e) : A.some(e)
                })
            },
            positionIn: Qa,
            firstPositionIn: z.curry(Qa, !0),
            lastPositionIn: z.curry(Qa, !1)
        },
        Za = Oi.isContentEditableTrue,
        eu = Oi.isContentEditableFalse,
        tu = function(e, t, n, r, i) {
            return t._selectionOverrides.showCaret(e, n, r, i)
        },
        nu = function(e, t) {
            var n, r;
            return e.fire("BeforeObjectSelected", {
                target: t
            }).isDefaultPrevented() ? null : ((r = (n = t).ownerDocument.createRange()).selectNode(n), r)
        },
        ru = function(e, t, n) {
            var r = Ss(1, e.getBody(), t),
                i = Pa.fromRangeStart(r),
                o = i.getNode();
            if (eu(o)) return tu(1, e, o, !i.isAtEnd(), !1);
            var a = i.getNode(!0);
            if (eu(a)) return tu(1, e, a, !1, !1);
            var u = e.dom.getParent(i.getNode(), function(e) {
                return eu(e) || Za(e)
            });
            return eu(u) ? tu(1, e, u, !1, n) : null
        },
        iu = function(e, t, n) {
            if (!t || !t.collapsed) return t;
            var r = ru(e, t, n);
            return r || t
        };
    (Ba = Fa || (Fa = {}))[Ba.Br = 0] = "Br", Ba[Ba.Block = 1] = "Block", Ba[Ba.Wrap = 2] = "Wrap", Ba[Ba.Eol = 3] = "Eol";
    var ou, au, uu = function(e, t) {
            return e === ou.Backwards ? t.reverse() : t
        },
        su = function(e, t, n, r) {
            for (var i, o, a, u, s, l, f = Ys(n), c = r, d = []; c && (s = f, l = c, i = t === ou.Forwards ? s.next(l) : s.prev(l));) {
                if (Oi.isBr(i.getNode(!1))) return t === ou.Forwards ? {
                    positions: uu(t, d).concat([i]),
                    breakType: Fa.Br,
                    breakAt: A.some(i)
                } : {
                    positions: uu(t, d),
                    breakType: Fa.Br,
                    breakAt: A.some(i)
                };
                if (i.isVisible()) {
                    if (e(c, i)) {
                        var p = (o = t, a = c, u = i, Oi.isBr(u.getNode(o === ou.Forwards)) ? Fa.Br : !1 === bs(a, u) ? Fa.Block : Fa.Wrap);
                        return {
                            positions: uu(t, d),
                            breakType: p,
                            breakAt: A.some(i)
                        }
                    }
                    d.push(i), c = i
                } else c = i
            }
            return {
                positions: uu(t, d),
                breakType: Fa.Eol,
                breakAt: A.none()
            }
        },
        lu = function(n, r, i, e) {
            return r(i, e).breakAt.map(function(e) {
                var t = r(i, e).positions;
                return n === ou.Backwards ? t.concat(e) : [e].concat(t)
            }).getOr([])
        },
        fu = function(e, o) {
            return U.foldl(e, function(e, i) {
                return e.fold(function() {
                    return A.some(i)
                }, function(r) {
                    return pa([U.head(r.getClientRects()), U.head(i.getClientRects())], function(e, t) {
                        var n = Math.abs(o - e.left);
                        return Math.abs(o - t.left) <= n ? i : r
                    }).or(e)
                })
            }, A.none())
        },
        cu = function(t, e) {
            return U.head(e.getClientRects()).bind(function(e) {
                return fu(t, e.left)
            })
        },
        du = z.curry(su, Oa.isAbove, -1),
        pu = z.curry(su, Oa.isBelow, 1),
        hu = z.curry(lu, -1, du),
        mu = z.curry(lu, 1, pu),
        gu = function(e, t) {
            return Br.all(t, e)
        },
        vu = function(e, t, n, r, i) {
            var o, a, u, s, l, f = gu(zn.fromDom(n), "td,th").map(function(e) {
                    return e.dom()
                }),
                c = U.filter((o = e, a = f, U.bind(a, function(e) {
                    var t, n, r = (t = e.getBoundingClientRect(), n = -1, {
                        left: t.left - n,
                        top: t.top - n,
                        right: t.right + 2 * n,
                        bottom: t.bottom + 2 * n,
                        width: t.width + n,
                        height: t.height + n
                    });
                    return [{
                        x: r.left,
                        y: o(r),
                        cell: e
                    }, {
                        x: r.right,
                        y: o(r),
                        cell: e
                    }]
                })), function(e) {
                    return t(e, i)
                });
            return (u = c, s = r, l = i, U.foldl(u, function(e, r) {
                return e.fold(function() {
                    return A.some(r)
                }, function(e) {
                    var t = Math.sqrt(Math.abs(e.x - s) + Math.abs(e.y - l)),
                        n = Math.sqrt(Math.abs(r.x - s) + Math.abs(r.y - l));
                    return A.some(n < t ? r : e)
                })
            }, A.none())).map(function(e) {
                return e.cell
            })
        },
        yu = z.curry(vu, function(e) {
            return e.bottom
        }, function(e, t) {
            return e.y < t
        }),
        bu = z.curry(vu, function(e) {
            return e.top
        }, function(e, t) {
            return e.y > t
        }),
        xu = function(t, n) {
            return U.head(n.getClientRects()).bind(function(e) {
                return yu(t, e.left, e.top)
            }).bind(function(e) {
                return cu((t = e, Ja.lastPositionIn(t).map(function(e) {
                    return du(t, e).positions.concat(e)
                }).getOr([])), n);
                var t
            })
        },
        wu = function(t, n) {
            return U.last(n.getClientRects()).bind(function(e) {
                return bu(t, e.left, e.top)
            }).bind(function(e) {
                return cu((t = e, Ja.firstPositionIn(t).map(function(e) {
                    return [e].concat(pu(t, e).positions)
                }).getOr([])), n);
                var t
            })
        },
        Cu = function(e) {
            for (var t = 0, n = 0, r = e; r && r.nodeType;) t += r.offsetLeft || 0, n += r.offsetTop || 0, r = r.offsetParent;
            return {
                x: t,
                y: n
            }
        },
        Eu = function(e, t, n) {
            var r, i, o, a, u, s = e.dom,
                l = s.getRoot(),
                f = 0;
            if (u = {
                    elm: t,
                    alignToTop: n
                }, e.fire("scrollIntoView", u), !u.isDefaultPrevented() && Oi.isElement(t)) {
                if (!1 === n && (f = t.offsetHeight), "BODY" !== l.nodeName) {
                    var c = e.selection.getScrollContainer();
                    if (c) return r = Cu(t).y - Cu(c).y + f, a = c.clientHeight, void((r < (o = c.scrollTop) || o + a < r + 25) && (c.scrollTop = r < o ? r : r - a + 25))
                }
                i = s.getViewPort(e.getWin()), r = s.getPos(t).y + f, o = i.y, a = i.h, (r < i.y || o + a < r + 25) && e.getWin().scrollTo(0, r < o ? r : r - a + 25)
            }
        },
        ku = function(d, e) {
            U.head(Oa.fromRangeStart(e).getClientRects()).each(function(e) {
                var t, n, r, i, o, a, u, s, l, f = function(e) {
                        if (e.inline) return e.getBody().getBoundingClientRect();
                        var t = e.getWin();
                        return {
                            left: 0,
                            right: t.innerWidth,
                            top: 0,
                            bottom: t.innerHeight,
                            width: t.innerWidth,
                            height: t.innerHeight
                        }
                    }(d),
                    c = {
                        x: (o = t = f, a = n = e, a.left > o.left && a.right < o.right ? 0 : a.left < o.left ? a.left - o.left : a.right - o.right),
                        y: (r = t, i = n, i.top > r.top && i.bottom < r.bottom ? 0 : i.top < r.top ? i.top - r.top : i.bottom - r.bottom)
                    };
                s = 0 !== c.x ? 0 < c.x ? c.x + 4 : c.x - 4 : 0, l = 0 !== c.y ? 0 < c.y ? c.y + 4 : c.y - 4 : 0, (u = d).inline ? (u.getBody().scrollLeft += s, u.getBody().scrollTop += l) : u.getWin().scrollBy(s, l)
            })
        },
        Su = function(e, t, n) {
            var r = e.getParam(t, n);
            if (-1 !== r.indexOf("=")) {
                var i = e.getParam(t, "", "hash");
                return i.hasOwnProperty(e.id) ? i[e.id] : n
            }
            return r
        },
        Nu = function(e) {
            return e.getParam("iframe_attrs", {})
        },
        Tu = function(e) {
            return e.getParam("doctype", "<!DOCTYPE html>")
        },
        Au = function(e) {
            return e.getParam("document_base_url", "")
        },
        Du = function(e) {
            return Su(e, "body_id", "tinymce")
        },
        _u = function(e) {
            return Su(e, "body_class", "")
        },
        Ru = function(e) {
            return e.getParam("content_security_policy", "")
        },
        Ou = function(e) {
            return e.getParam("br_in_pre", !0)
        },
        Fu = function(e) {
            if (e.getParam("force_p_newlines", !1)) return "p";
            var t = e.getParam("forced_root_block", "p");
            return !1 === t ? "" : t
        },
        Bu = function(e) {
            return e.getParam("forced_root_block_attrs", {})
        },
        Pu = function(e) {
            return e.getParam("br_newline_selector", ".mce-toc h2,figcaption,caption")
        },
        Lu = function(e) {
            return e.getParam("no_newline_selector", "")
        },
        Iu = function(e) {
            return e.getParam("keep_styles", !0)
        },
        ju = function(e) {
            return e.getParam("end_container_on_empty_block", !1)
        },
        Mu = function(e) {
            return Lt.explode(e.getParam("font_size_style_values", ""))
        },
        qu = function(e) {
            return Lt.explode(e.getParam("font_size_classes", ""))
        },
        Hu = function(t, n) {
            Vr.parent(t).each(function(e) {
                e.dom().insertBefore(n.dom(), t.dom())
            })
        },
        zu = function(e, t) {
            e.dom().appendChild(t.dom())
        },
        Uu = {
            before: Hu,
            after: function(e, t) {
                Vr.nextSibling(e).fold(function() {
                    Vr.parent(e).each(function(e) {
                        zu(e, t)
                    })
                }, function(e) {
                    Hu(e, t)
                })
            },
            prepend: function(t, n) {
                Vr.firstChild(t).fold(function() {
                    zu(t, n)
                }, function(e) {
                    t.dom().insertBefore(n.dom(), e.dom())
                })
            },
            append: zu,
            appendAt: function(e, t, n) {
                Vr.child(e, n).fold(function() {
                    zu(e, t)
                }, function(e) {
                    Hu(e, t)
                })
            },
            wrap: function(e, t) {
                Hu(e, t), zu(t, e)
            }
        },
        $u = qn.detect().browser,
        Vu = function() {
            return $u.isIE() || $u.isEdge() || $u.isFirefox()
        },
        Wu = function(e, t) {
            e.selection.setRng(t), ku(e, t)
        },
        Xu = function(t, n, e) {
            var r = t(n, e);
            return r.breakType === Fa.Wrap && 0 === r.positions.length ? r.breakAt.map(function(e) {
                return t(n, e).breakAt.isNone()
            }).getOr(!0) : r.breakAt.isNone()
        },
        Ku = da.curry(Xu, du),
        Yu = da.curry(Xu, pu),
        Gu = function(e, t, n, r) {
            var i, o, a, u, s = e.selection.getRng(),
                l = t ? 1 : -1;
            if (Vu() && (i = t, o = s, a = n, u = Pa.fromRangeStart(o), Ja.positionIn(!i, a).map(function(e) {
                    return e.isEqual(u)
                }).getOr(!1))) {
                var f = tu(l, e, n, !t, !0);
                return Wu(e, f), !0
            }
            return !1
        },
        Qu = function(e, t) {
            var n = t.getNode(e);
            return Oi.isElement(n) && "TABLE" === n.nodeName ? A.some(n) : A.none()
        },
        Ju = function(u, s, l) {
            var e = Qu(!!s, l),
                t = !1 === s;
            e.fold(function() {
                return Wu(u, l.toRange())
            }, function(a) {
                return Ja.positionIn(t, u.getBody()).filter(function(e) {
                    return e.isEqual(l)
                }).fold(function() {
                    return Wu(u, l.toRange())
                }, function(e) {
                    return n = s, i = a, t = l, void((o = Fu(r = u)) ? r.undoManager.transact(function() {
                        var e = zn.fromTag(o);
                        fr.setAll(e, Bu(r)), Uu.append(e, zn.fromTag("br")), n ? Uu.after(zn.fromDom(i), e) : Uu.before(zn.fromDom(i), e);
                        var t = r.dom.createRng();
                        t.setStart(e.dom(), 0), t.setEnd(e.dom(), 0), Wu(r, t)
                    }) : Wu(r, t.toRange()));
                    var n, r, i, t, o
                })
            })
        },
        Zu = function(e, t, n, r) {
            var i, o, a, u, s, l, f = e.selection.getRng(),
                c = Pa.fromRangeStart(f),
                d = e.getBody();
            if (!t && Ku(r, c)) {
                var p = (u = d, xu(s = n, l = c).orThunk(function() {
                    return U.head(l.getClientRects()).bind(function(e) {
                        return fu(hu(u, Pa.before(s)), e.left)
                    })
                }).getOr(Pa.before(s)));
                return Ju(e, t, p), !0
            }
            return !(!t || !Yu(r, c)) && (i = d, p = wu(o = n, a = c).orThunk(function() {
                return U.head(a.getClientRects()).bind(function(e) {
                    return fu(mu(i, Pa.after(o)), e.left)
                })
            }).getOr(Pa.after(o)), Ju(e, t, p), !0)
        },
        es = function(t, n) {
            return function() {
                return A.from(t.dom.getParent(t.selection.getNode(), "td,th")).bind(function(e) {
                    return A.from(t.dom.getParent(e, "table")).map(function(e) {
                        return Gu(t, n, e)
                    })
                }).getOr(!1)
            }
        },
        ts = function(n, r) {
            return function() {
                return A.from(n.dom.getParent(n.selection.getNode(), "td,th")).bind(function(t) {
                    return A.from(n.dom.getParent(t, "table")).map(function(e) {
                        return Zu(n, r, e, t)
                    })
                }).getOr(!1)
            }
        },
        ns = function(e) {
            var t = e,
                n = function() {
                    return t
                };
            return {
                get: n,
                set: function(e) {
                    t = e
                },
                clone: function() {
                    return ns(n())
                }
            }
        },
        rs = Oi.isContentEditableFalse,
        is = function(e, t, n) {
            var r, i, o, a, u, s = na(t.getBoundingClientRect(), n);
            return "BODY" === e.tagName ? (r = e.ownerDocument.documentElement, i = e.scrollLeft || r.scrollLeft, o = e.scrollTop || r.scrollTop) : (u = e.getBoundingClientRect(), i = e.scrollLeft - u.left, o = e.scrollTop - u.top), s.left += i, s.right += i, s.top += o, s.bottom += o, s.width = 1, 0 < (a = t.offsetWidth - t.clientWidth) && (n && (a *= -1), s.left += a, s.right += a), s
        },
        os = function(a, u, e) {
            var t, s, l = ns(A.none()),
                f = function() {
                    ! function(e) {
                        var t, n, r, i, o;
                        for (t = tn("*[contentEditable=false]", e), i = 0; i < t.length; i++) r = (n = t[i]).previousSibling, Ho(r) && (1 === (o = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(o.length - 1, 1)), r = n.nextSibling, qo(r) && (1 === (o = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(0, 1))
                    }(a), s && (Va.remove(s), s = null), l.get().each(function(e) {
                        tn(e.caret).remove(), l.set(A.none())
                    }), clearInterval(t)
                },
                c = function() {
                    t = Ce.setInterval(function() {
                        e() ? tn("div.mce-visual-caret", a).toggleClass("mce-visual-caret-hidden") : tn("div.mce-visual-caret", a).addClass("mce-visual-caret-hidden")
                    }, 500)
                };
            return {
                show: function(t, e) {
                    var n, r, i;
                    if (f(), i = e, Oi.isElement(i) && /^(TD|TH)$/i.test(i.tagName)) return null;
                    if (!u(e)) return s = function(e, t) {
                        var n, r, i;
                        if (r = e.ownerDocument.createTextNode(Do), i = e.parentNode, t) {
                            if (n = e.previousSibling, Oo(n)) {
                                if (Po(n)) return n;
                                if (Ho(n)) return n.splitText(n.data.length - 1)
                            }
                            i.insertBefore(r, e)
                        } else {
                            if (n = e.nextSibling, Oo(n)) {
                                if (Po(n)) return n;
                                if (qo(n)) return n.splitText(1), n
                            }
                            e.nextSibling ? i.insertBefore(r, e.nextSibling) : i.appendChild(r)
                        }
                        return r
                    }(e, t), r = e.ownerDocument.createRange(), rs(s.nextSibling) ? (r.setStart(s, 0), r.setEnd(s, 0)) : (r.setStart(s, 1), r.setEnd(s, 1)), r;
                    s = Mo("p", e, t), n = is(a, e, t), tn(s).css("top", n.top);
                    var o = tn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(a)[0];
                    return l.set(A.some({
                        caret: o,
                        element: e,
                        before: t
                    })), l.get().each(function(e) {
                        t && tn(e.caret).addClass("mce-visual-caret-before")
                    }), c(), (r = e.ownerDocument.createRange()).setStart(s, 0), r.setEnd(s, 0), r
                },
                hide: f,
                getCss: function() {
                    return ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"
                },
                reposition: function() {
                    l.get().each(function(e) {
                        var t = is(a, e.element, e.before);
                        tn(e.caret).css(t)
                    })
                },
                destroy: function() {
                    return Ce.clearInterval(t)
                }
            }
        },
        as = function(e) {
            return rs(e) || Oi.isTable(e) && Vu()
        },
        us = Oi.isContentEditableFalse,
        ss = Oi.matchStyleValues("display", "block table table-cell table-caption list-item"),
        ls = Po,
        fs = Fo,
        cs = da.curry,
        ds = Oi.isElement,
        ps = Qo,
        hs = function(e) {
            return 0 < e
        },
        ms = function(e) {
            return e < 0
        },
        gs = function(e, t) {
            for (var n; n = e(t);)
                if (!fs(n)) return n;
            return null
        },
        vs = function(e, t, n, r, i) {
            var o = new ai(e, r);
            if (ms(t)) {
                if ((us(e) || fs(e)) && n(e = gs(o.prev, !0))) return e;
                for (; e = gs(o.prev, i);)
                    if (n(e)) return e
            }
            if (hs(t)) {
                if ((us(e) || fs(e)) && n(e = gs(o.next, !0))) return e;
                for (; e = gs(o.next, i);)
                    if (n(e)) return e
            }
            return null
        },
        ys = function(e, t) {
            for (; e && e !== t;) {
                if (ss(e)) return e;
                e = e.parentNode
            }
            return null
        },
        bs = function(e, t, n) {
            return ys(e.container(), n) === ys(t.container(), n)
        },
        xs = function(e, t) {
            var n, r;
            return t ? (n = t.container(), r = t.offset(), ds(n) ? n.childNodes[r + e] : null) : null
        },
        ws = function(e, t) {
            var n = t.ownerDocument.createRange();
            return e ? (n.setStartBefore(t), n.setEndBefore(t)) : (n.setStartAfter(t), n.setEndAfter(t)), n
        },
        Cs = function(e, t, n) {
            var r, i, o, a;
            for (i = e ? "previousSibling" : "nextSibling"; n && n !== t;) {
                if (r = n[i], ls(r) && (r = r[i]), us(r)) {
                    if (a = n, ys(r, o = t) === ys(a, o)) return r;
                    break
                }
                if (ps(r)) break;
                n = n.parentNode
            }
            return null
        },
        Es = cs(ws, !0),
        ks = cs(ws, !1),
        Ss = function(e, t, n) {
            var r, i, o, a, u = cs(Cs, !0, t),
                s = cs(Cs, !1, t);
            if (i = n.startContainer, o = n.startOffset, Fo(i)) {
                if (ds(i) || (i = i.parentNode), "before" === (a = i.getAttribute("data-mce-caret")) && (r = i.nextSibling, as(r))) return Es(r);
                if ("after" === a && (r = i.previousSibling, as(r))) return ks(r)
            }
            if (!n.collapsed) return n;
            if (Oi.isText(i)) {
                if (ls(i)) {
                    if (1 === e) {
                        if (r = s(i)) return Es(r);
                        if (r = u(i)) return ks(r)
                    }
                    if (-1 === e) {
                        if (r = u(i)) return ks(r);
                        if (r = s(i)) return Es(r)
                    }
                    return n
                }
                if (Ho(i) && o >= i.data.length - 1) return 1 === e && (r = s(i)) ? Es(r) : n;
                if (qo(i) && o <= 1) return -1 === e && (r = u(i)) ? ks(r) : n;
                if (o === i.data.length) return (r = s(i)) ? Es(r) : n;
                if (0 === o) return (r = u(i)) ? ks(r) : n
            }
            return n
        },
        Ns = function(e, t) {
            var n = xs(e, t);
            return us(n) && !Oi.isBogusAll(n)
        },
        Ts = function(e, t) {
            return Oi.isTable(xs(e, t))
        },
        As = function(e, t) {
            return A.from(xs(e ? 0 : -1, t)).filter(us)
        },
        Ds = function(e, t, n) {
            var r = Ss(e, t, n);
            return -1 === e ? Oa.fromRangeStart(r) : Oa.fromRangeEnd(r)
        },
        _s = cs(Ns, 0),
        Rs = cs(Ns, -1),
        Os = cs(Ts, 0),
        Fs = cs(Ts, -1);
    (au = ou || (ou = {}))[au.Backwards = -1] = "Backwards", au[au.Forwards = 1] = "Forwards";
    var Bs, Ps, Ls, Is, js, Ms = Oi.isContentEditableFalse,
        qs = Oi.isText,
        Hs = Oi.isElement,
        zs = Oi.isBr,
        Us = Qo,
        $s = function(e) {
            return Ko(e) || !!Jo(t = e) && !0 !== Rt.reduce(t.getElementsByTagName("*"), function(e, t) {
                return e || Uo(t)
            }, !1);
            var t
        },
        Vs = Zo,
        Ws = function(e, t) {
            return e.hasChildNodes() && t < e.childNodes.length ? e.childNodes[t] : null
        },
        Xs = function(e, t) {
            if (hs(e)) {
                if (Us(t.previousSibling) && !qs(t.previousSibling)) return Pa.before(t);
                if (qs(t)) return Pa(t, 0)
            }
            if (ms(e)) {
                if (Us(t.nextSibling) && !qs(t.nextSibling)) return Pa.after(t);
                if (qs(t)) return Pa(t, t.data.length)
            }
            return ms(e) ? zs(t) ? Pa.before(t) : Pa.after(t) : Pa.before(t)
        },
        Ks = function(e, t, n) {
            var r, i, o, a, u;
            if (!Hs(n) || !t) return null;
            if (t.isEqual(Pa.after(n)) && n.lastChild) {
                if (u = Pa.after(n.lastChild), ms(e) && Us(n.lastChild) && Hs(n.lastChild)) return zs(n.lastChild) ? Pa.before(n.lastChild) : u
            } else u = t;
            var s, l, f, c = u.container(),
                d = u.offset();
            if (qs(c)) {
                if (ms(e) && 0 < d) return Pa(c, --d);
                if (hs(e) && d < c.length) return Pa(c, ++d);
                r = c
            } else {
                if (ms(e) && 0 < d && (i = Ws(c, d - 1), Us(i))) return !$s(i) && (o = vs(i, e, Vs, i)) ? qs(o) ? Pa(o, o.data.length) : Pa.after(o) : qs(i) ? Pa(i, i.data.length) : Pa.before(i);
                if (hs(e) && d < c.childNodes.length && (i = Ws(c, d), Us(i))) return zs(i) && n.lastChild === i ? null : (s = i, l = n, Oi.isBr(s) && (f = Ks(1, Pa.after(s), l)) && !bs(Pa.before(s), Pa.before(f), l) ? Ks(e, Pa.after(i), n) : !$s(i) && (o = vs(i, e, Vs, i)) ? qs(o) ? Pa(o, 0) : Pa.before(o) : qs(i) ? Pa(i, 0) : Pa.after(i));
                r = i || u.getNode()
            }
            return (hs(e) && u.isAtEnd() || ms(e) && u.isAtStart()) && (r = vs(r, e, da.constant(!0), n, !0), Vs(r, n)) ? Xs(e, r) : (i = vs(r, e, Vs, n), !(a = Rt.last(Rt.filter(function(e, t) {
                for (var n = []; e && e !== t;) n.push(e), e = e.parentNode;
                return n
            }(c, n), Ms))) || i && a.contains(i) ? i ? Xs(e, i) : null : u = hs(e) ? Pa.after(a) : Pa.before(a))
        },
        Ys = function(t) {
            return {
                next: function(e) {
                    return Ks(ou.Forwards, e, t)
                },
                prev: function(e) {
                    return Ks(ou.Backwards, e, t)
                }
            }
        },
        Gs = function(e) {
            return Lt.grep(e.childNodes, function(e) {
                return "LI" === e.nodeName
            })
        },
        Qs = function(e) {
            return e && e.firstChild && e.firstChild === e.lastChild && ("Â " === (t = e.firstChild).data || Oi.isBr(t));
            var t
        },
        Js = function(e) {
            return 0 < e.length && (!(t = e[e.length - 1]).firstChild || Qs(t)) ? e.slice(0, -1) : e;
            var t
        },
        Zs = function(e, t) {
            var n = e.getParent(t, e.isBlock);
            return n && "LI" === n.nodeName ? n : null
        },
        el = function(e, t) {
            var n = Pa.after(e),
                r = Ys(t).prev(n);
            return r ? r.toRange() : null
        },
        tl = function(t, e, n) {
            var r, i, o, a, u = t.parentNode;
            return Lt.each(e, function(e) {
                u.insertBefore(e, t)
            }), r = t, i = n, o = Pa.before(r), (a = Ys(i).next(o)) ? a.toRange() : null
        },
        nl = function(e, t) {
            var n, r, i, o, a, u, s = t.firstChild,
                l = t.lastChild;
            return s && "meta" === s.name && (s = s.next), l && "mce_marker" === l.attr("id") && (l = l.prev), r = l, u = (n = e).getNonEmptyElements(), r && (r.isEmpty(u) || (i = r, n.getBlockElements()[i.name] && (a = i).firstChild && a.firstChild === a.lastChild && ("br" === (o = i.firstChild).name || "Â " === o.value))) && (l = l.prev), !(!s || s !== l || "ul" !== s.name && "ol" !== s.name)
        },
        rl = function(e, i, o, t) {
            var n, r, a, u, s, l, f, c, d, p, h, m, g, v, y, b, x, w, C, E = (n = i, r = t, l = e.serialize(r), f = n.createFragment(l), u = (a = f).firstChild, s = a.lastChild, u && "META" === u.nodeName && u.parentNode.removeChild(u), s && "mce_marker" === s.id && s.parentNode.removeChild(s), a),
                k = Zs(i, o.startContainer),
                S = Js(Gs(E.firstChild)),
                N = i.getRoot(),
                T = function(e) {
                    var t = Pa.fromRangeStart(o),
                        n = Ys(i.getRoot()),
                        r = 1 === e ? n.prev(t) : n.next(t);
                    return !r || Zs(i, r.getNode()) !== k
                };
            return T(1) ? tl(k, S, N) : T(2) ? (c = k, d = S, p = N, i.insertAfter(d.reverse(), c), el(d[0], p)) : (m = S, g = N, v = h = k, b = (y = o).cloneRange(), x = y.cloneRange(), b.setStartBefore(v), x.setEndAfter(v), w = [b.cloneContents(), x.cloneContents()], (C = h.parentNode).insertBefore(w[0], h), Lt.each(m, function(e) {
                C.insertBefore(e, h)
            }), C.insertBefore(w[1], h), C.removeChild(h), el(m[m.length - 1], g))
        },
        il = function(e, t) {
            return !!Zs(e, t)
        },
        ol = Oi.isText,
        al = Oi.isBogus,
        ul = vo.nodeIndex,
        sl = function(e) {
            var t = e.parentNode;
            return al(t) ? sl(t) : t
        },
        ll = function(e) {
            return e ? Rt.reduce(e.childNodes, function(e, t) {
                return al(t) && "BR" !== t.nodeName ? e = e.concat(ll(t)) : e.push(t), e
            }, []) : []
        },
        fl = function(t) {
            return function(e) {
                return t === e
            }
        },
        cl = function(e) {
            var t, r, n, i;
            return (ol(e) ? "text()" : e.nodeName.toLowerCase()) + "[" + (r = ll(sl(t = e)), n = Rt.findIndex(r, fl(t), t), r = r.slice(0, n + 1), i = Rt.reduce(r, function(e, t, n) {
                return ol(t) && ol(r[n - 1]) && e++, e
            }, 0), r = Rt.filter(r, Oi.matchNodeNames(t.nodeName)), (n = Rt.findIndex(r, fl(t), t)) - i) + "]"
        },
        dl = function(e, t) {
            var n, r, i, o, a, u = [];
            return n = t.container(), r = t.offset(), ol(n) ? i = function(e, t) {
                for (;
                    (e = e.previousSibling) && ol(e);) t += e.data.length;
                return t
            }(n, r) : (r >= (o = n.childNodes).length ? (i = "after", r = o.length - 1) : i = "before", n = o[r]), u.push(cl(n)), a = function(e, t, n) {
                var r = [];
                for (t = t.parentNode; !(t === e || n && n(t)); t = t.parentNode) r.push(t);
                return r
            }(e, n), a = Rt.filter(a, da.negate(Oi.isBogus)), (u = u.concat(Rt.map(a, function(e) {
                return cl(e)
            }))).reverse().join("/") + "," + i
        },
        pl = function(e, t) {
            var n, r, i;
            return t ? (t = (n = t.split(","))[0].split("/"), i = 1 < n.length ? n[1] : "before", (r = Rt.reduce(t, function(e, t) {
                return (t = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(t)) ? ("text()" === t[1] && (t[1] = "#text"), n = e, r = t[1], i = parseInt(t[2], 10), o = ll(n), o = Rt.filter(o, function(e, t) {
                    return !ol(e) || !ol(o[t - 1])
                }), (o = Rt.filter(o, Oi.matchNodeNames(r)))[i]) : null;
                var n, r, i, o
            }, e)) ? ol(r) ? function(e, t) {
                for (var n, r = e, i = 0; ol(r);) {
                    if (n = r.data.length, i <= t && t <= i + n) {
                        e = r, t -= i;
                        break
                    }
                    if (!ol(r.nextSibling)) {
                        e = r, t = n;
                        break
                    }
                    i += n, r = r.nextSibling
                }
                return ol(e) && t > e.data.length && (t = e.data.length), Pa(e, t)
            }(r, parseInt(i, 10)) : (i = "after" === i ? ul(r) + 1 : ul(r), Pa(r.parentNode, i)) : null) : null
        },
        hl = Oi.isContentEditableFalse,
        ml = function(e, t, n, r, i) {
            var o, a = r[i ? "startContainer" : "endContainer"],
                u = r[i ? "startOffset" : "endOffset"],
                s = [],
                l = 0,
                f = e.getRoot();
            for (Oi.isText(a) ? s.push(n ? function(e, t, n) {
                    var r, i;
                    for (i = e(t.data.slice(0, n)).length, r = t.previousSibling; r && Oi.isText(r); r = r.previousSibling) i += e(r.data).length;
                    return i
                }(t, a, u) : u) : (u >= (o = a.childNodes).length && o.length && (l = 1, u = Math.max(0, o.length - 1)), s.push(e.nodeIndex(o[u], n) + l)); a && a !== f; a = a.parentNode) s.push(e.nodeIndex(a, n));
            return s
        },
        gl = function(e) {
            Oi.isText(e) && 0 === e.data.length && e.parentNode.removeChild(e)
        },
        vl = function(e, t, n) {
            var r = 0;
            return Lt.each(e.select(t), function(e) {
                if ("all" !== e.getAttribute("data-mce-bogus")) return e !== n && void r++
            }), r
        },
        yl = function(e, t) {
            var n, r, i, o = t ? "start" : "end";
            n = e[o + "Container"], r = e[o + "Offset"], Oi.isElement(n) && "TR" === n.nodeName && (n = (i = n.childNodes)[Math.min(t ? r : r - 1, i.length - 1)]) && (r = t ? 0 : n.childNodes.length, e["set" + (t ? "Start" : "End")](n, r))
        },
        bl = function(e) {
            return yl(e, !0), yl(e, !1), e
        },
        xl = function(e, t) {
            var n;
            if (Oi.isElement(e) && (e = ua(e, t), hl(e))) return e;
            if (Po(e)) {
                if (Oi.isText(e) && Fo(e) && (e = e.parentNode), n = e.previousSibling, hl(n)) return n;
                if (n = e.nextSibling, hl(n)) return n
            }
        },
        wl = function(e, t, n) {
            var r = n.getNode(),
                i = r ? r.nodeName : null,
                o = n.getRng();
            if (hl(r) || "IMG" === i) return {
                name: i,
                index: vl(n.dom, i, r)
            };
            var a, u, s, l, f, c, d, p = xl((a = o).startContainer, a.startOffset) || xl(a.endContainer, a.endOffset);
            return p ? {
                name: i = p.tagName,
                index: vl(n.dom, i, p)
            } : (u = e, l = t, f = o, c = (s = n).dom, (d = {}).start = ml(c, u, l, f, !0), s.isCollapsed() || (d.end = ml(c, u, l, f, !1)), d)
        },
        Cl = function(e, t, n) {
            var r = {
                "data-mce-type": "bookmark",
                id: t,
                style: "overflow:hidden;line-height:0px"
            };
            return n ? e.create("span", r, "&#xFEFF;") : e.create("span", r)
        },
        El = function(e, t) {
            var n = e.dom,
                r = e.getRng(),
                i = n.uniqueId(),
                o = e.isCollapsed(),
                a = e.getNode(),
                u = a.nodeName;
            if ("IMG" === u) return {
                name: u,
                index: vl(n, u, a)
            };
            var s = bl(r.cloneRange());
            if (!o) {
                s.collapse(!1);
                var l = Cl(n, i + "_end", t);
                s.insertNode(l), gl(l.nextSibling)
            }(r = bl(r)).collapse(!0);
            var f = Cl(n, i + "_start", t);
            return r.insertNode(f), gl(f.previousSibling), e.moveToBookmark({
                id: i,
                keep: 1
            }), {
                id: i
            }
        },
        kl = {
            getBookmark: function(e, t, n) {
                return 2 === t ? wl(_o, n, e) : 3 === t ? (i = (r = e).getRng(), {
                    start: dl(r.dom.getRoot(), Pa.fromRangeStart(i)),
                    end: dl(r.dom.getRoot(), Pa.fromRangeEnd(i))
                }) : t ? {
                    rng: e.getRng()
                } : El(e, !1);
                var r, i
            },
            getUndoBookmark: z.curry(wl, z.identity, !0),
            getPersistentBookmark: El
        },
        Sl = "_mce_caret",
        Nl = function(e) {
            return Oi.isElement(e) && e.id === Sl
        },
        Tl = function(e, t) {
            for (; t && t !== e;) {
                if (t.id === Sl) return t;
                t = t.parentNode
            }
            return null
        },
        Al = function(e, t) {
            return !e.isBlock(t) || t.innerHTML || ve.ie || (t.innerHTML = '<br data-mce-bogus="1" />'), t
        },
        Dl = function(e, t) {
            return Ja.lastPositionIn(e).fold(function() {
                return !1
            }, function(e) {
                return t.setStart(e.container(), e.offset()), t.setEnd(e.container(), e.offset()), !0
            })
        },
        _l = function(e, t, n) {
            return !(!1 !== t.hasChildNodes() || !Tl(e, t) || (i = n, o = (r = t).ownerDocument.createTextNode(Do), r.appendChild(o), i.setStart(o, 0), i.setEnd(o, 0), 0));
            var r, i, o
        },
        Rl = function(e, t, n, r) {
            var i, o, a, u, s = n[t ? "start" : "end"],
                l = e.getRoot();
            if (s) {
                for (a = s[0], o = l, i = s.length - 1; 1 <= i; i--) {
                    if (u = o.childNodes, _l(l, o, r)) return !0;
                    if (s[i] > u.length - 1) return !!_l(l, o, r) || Dl(o, r);
                    o = u[s[i]]
                }
                3 === o.nodeType && (a = Math.min(s[0], o.nodeValue.length)), 1 === o.nodeType && (a = Math.min(s[0], o.childNodes.length)), t ? r.setStart(o, a) : r.setEnd(o, a)
            }
            return !0
        },
        Ol = function(e) {
            return Oi.isText(e) && 0 < e.data.length
        },
        Fl = function(e, t, n) {
            var r, i, o, a, u, s, l = e.get(n.id + "_" + t),
                f = n.keep;
            if (l) {
                if (r = l.parentNode, "start" === t ? f ? l.hasChildNodes() ? (r = l.firstChild, i = 1) : Ol(l.nextSibling) ? (r = l.nextSibling, i = 0) : Ol(l.previousSibling) ? (r = l.previousSibling, i = l.previousSibling.data.length) : (r = l.parentNode, i = e.nodeIndex(l) + 1) : i = e.nodeIndex(l) : f ? l.hasChildNodes() ? (r = l.firstChild, i = 1) : Ol(l.previousSibling) ? (r = l.previousSibling, i = l.previousSibling.data.length) : (r = l.parentNode, i = e.nodeIndex(l)) : i = e.nodeIndex(l), u = r, s = i, !f) {
                    for (a = l.previousSibling, o = l.nextSibling, Lt.each(Lt.grep(l.childNodes), function(e) {
                            Oi.isText(e) && (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, ""))
                        }); l = e.get(n.id + "_" + t);) e.remove(l, !0);
                    a && o && a.nodeType === o.nodeType && Oi.isText(a) && !ve.opera && (i = a.nodeValue.length, a.appendData(o.nodeValue), e.remove(o), u = a, s = i)
                }
                return A.some(Pa(u, s))
            }
            return A.none()
        },
        Bl = function(e, t) {
            var n, r, i, o, a, u, s, l, f, c, d, p, h, m, g, v, y = e.dom;
            if (t) {
                if (v = t, Lt.isArray(v.start)) return m = t, g = (h = y).createRng(), Rl(h, !0, m, g) && Rl(h, !1, m, g) ? A.some(g) : A.none();
                if ("string" == typeof t.start) return A.some((c = t, d = (f = y).createRng(), p = pl(f.getRoot(), c.start), d.setStart(p.container(), p.offset()), p = pl(f.getRoot(), c.end), d.setEnd(p.container(), p.offset()), d));
                if (t.hasOwnProperty("id")) return s = Fl(i = y, "start", o = t), l = Fl(i, "end", o), pa([s, (a = l, u = s, a.isSome() ? a : u)], function(e, t) {
                    var n = i.createRng();
                    return n.setStart(Al(i, e.container()), e.offset()), n.setEnd(Al(i, t.container()), t.offset()), n
                });
                if (t.hasOwnProperty("name")) return n = y, r = t, A.from(n.select(r.name)[r.index]).map(function(e) {
                    var t = n.createRng();
                    return t.selectNode(e), t
                });
                if (t.hasOwnProperty("rng")) return A.some(t.rng)
            }
            return A.none()
        },
        Pl = function(e, t, n) {
            return kl.getBookmark(e, t, n)
        },
        Ll = function(t, e) {
            Bl(t, e).each(function(e) {
                t.setRng(e)
            })
        },
        Il = function(e) {
            return Oi.isElement(e) && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type")
        },
        jl = Lt.each,
        Ml = function(i) {
            this.compare = function(e, t) {
                if (e.nodeName !== t.nodeName) return !1;
                var n = function(n) {
                        var r = {};
                        return jl(i.getAttribs(n), function(e) {
                            var t = e.nodeName.toLowerCase();
                            0 !== t.indexOf("_") && "style" !== t && 0 !== t.indexOf("data-") && (r[t] = i.getAttrib(n, t))
                        }), r
                    },
                    r = function(e, t) {
                        var n, r;
                        for (r in e)
                            if (e.hasOwnProperty(r)) {
                                if (void 0 === (n = t[r])) return !1;
                                if (e[r] !== n) return !1;
                                delete t[r]
                            }
                        for (r in t)
                            if (t.hasOwnProperty(r)) return !1;
                        return !0
                    };
                return !(!r(n(e), n(t)) || !r(i.parseStyle(i.getAttrib(e, "style")), i.parseStyle(i.getAttrib(t, "style"))) || Il(e) || Il(t))
            }
        },
        ql = function(t, e) {
            U.each(e, function(e) {
                Uu.before(t, e)
            })
        },
        Hl = function(t, e) {
            U.each(e, function(e) {
                Uu.append(t, e)
            })
        },
        zl = function(e) {
            var t = e.dom();
            null !== t.parentNode && t.parentNode.removeChild(t)
        },
        Ul = {
            empty: function(e) {
                e.dom().textContent = "", U.each(Vr.children(e), function(e) {
                    zl(e)
                })
            },
            remove: zl,
            unwrap: function(e) {
                var t = Vr.children(e);
                0 < t.length && ql(e, t), zl(e)
            }
        },
        $l = (Bs = Zn.isText, Ps = "text", Ls = function(e) {
            return Bs(e) ? A.from(e.dom().nodeValue) : A.none()
        }, Is = qn.detect().browser, {
            get: function(e) {
                if (!Bs(e)) throw new Error("Can only get " + Ps + " value of a " + Ps + " node");
                return js(e).getOr("")
            },
            getOption: js = Is.isIE() && 10 === Is.version.major ? function(e) {
                try {
                    return Ls(e)
                } catch (e) {
                    return A.none()
                }
            } : Ls,
            set: function(e, t) {
                if (!Bs(e)) throw new Error("Can only set raw " + Ps + " value of a " + Ps + " node");
                e.dom().nodeValue = t
            }
        }),
        Vl = function(e) {
            return $l.get(e)
        },
        Wl = function(e) {
            var t = gu(e, "br"),
                n = U.filter(function(e) {
                    for (var t = [], n = e.dom(); n;) t.push(zn.fromDom(n)), n = n.lastChild;
                    return t
                }(e).slice(-1), hi);
            t.length === n.length && U.each(n, Ul.remove)
        },
        Xl = function(e) {
            Ul.empty(e), Uu.append(e, zn.fromHtml('<br data-mce-bogus="1">'))
        },
        Kl = function(n) {
            Vr.lastChild(n).each(function(t) {
                Vr.prevSibling(t).each(function(e) {
                    di(n) && hi(t) && di(e) && Ul.remove(t)
                })
            })
        },
        Yl = Lt.makeMap;

    function Gl(e) {
        var u, s, l, f, c, d = [];
        return u = (e = e || {}).indent, s = Yl(e.indent_before || ""), l = Yl(e.indent_after || ""), f = Wi.getEncodeFunc(e.entity_encoding || "raw", e.entities), c = "html" === e.element_format, {
            start: function(e, t, n) {
                var r, i, o, a;
                if (u && s[e] && 0 < d.length && 0 < (a = d[d.length - 1]).length && "\n" !== a && d.push("\n"), d.push("<", e), t)
                    for (r = 0, i = t.length; r < i; r++) o = t[r], d.push(" ", o.name, '="', f(o.value, !0), '"');
                d[d.length] = !n || c ? ">" : " />", n && u && l[e] && 0 < d.length && 0 < (a = d[d.length - 1]).length && "\n" !== a && d.push("\n")
            },
            end: function(e) {
                var t;
                d.push("</", e, ">"), u && l[e] && 0 < d.length && 0 < (t = d[d.length - 1]).length && "\n" !== t && d.push("\n")
            },
            text: function(e, t) {
                0 < e.length && (d[d.length] = t ? e : f(e))
            },
            cdata: function(e) {
                d.push("<![CDATA[", e, "]]>")
            },
            comment: function(e) {
                d.push("\x3c!--", e, "--\x3e")
            },
            pi: function(e, t) {
                t ? d.push("<?", e, " ", f(t), "?>") : d.push("<?", e, "?>"), u && d.push("\n")
            },
            doctype: function(e) {
                d.push("<!DOCTYPE", e, ">", u ? "\n" : "")
            },
            reset: function() {
                d.length = 0
            },
            getContent: function() {
                return d.join("").replace(/\n$/, "")
            }
        }
    }

    function Ql(t, h) {
        void 0 === h && (h = ro());
        var m = Gl(t);
        return (t = t || {}).validate = !("validate" in t) || t.validate, {
            serialize: function(e) {
                var c, d;
                d = t.validate, c = {
                    3: function(e) {
                        m.text(e.value, e.raw)
                    },
                    8: function(e) {
                        m.comment(e.value)
                    },
                    7: function(e) {
                        m.pi(e.name, e.value)
                    },
                    10: function(e) {
                        m.doctype(e.value)
                    },
                    4: function(e) {
                        m.cdata(e.value)
                    },
                    11: function(e) {
                        if (e = e.firstChild)
                            for (; p(e), e = e.next;);
                    }
                }, m.reset();
                var p = function(e) {
                    var t, n, r, i, o, a, u, s, l, f = c[e.type];
                    if (f) f(e);
                    else {
                        if (t = e.name, n = e.shortEnded, r = e.attributes, d && r && 1 < r.length && ((a = []).map = {}, l = h.getElementRule(e.name))) {
                            for (u = 0, s = l.attributesOrder.length; u < s; u++)(i = l.attributesOrder[u]) in r.map && (o = r.map[i], a.map[i] = o, a.push({
                                name: i,
                                value: o
                            }));
                            for (u = 0, s = r.length; u < s; u++)(i = r[u].name) in a.map || (o = r.map[i], a.map[i] = o, a.push({
                                name: i,
                                value: o
                            }));
                            r = a
                        }
                        if (m.start(e.name, r, n), !n) {
                            if (e = e.firstChild)
                                for (; p(e), e = e.next;);
                            m.end(t)
                        }
                    }
                };
                return 1 !== e.type || t.inner ? c[11](e) : p(e), m.getContent()
            }
        }
    }
    var Jl = function(a) {
            var u = Pa.fromRangeStart(a),
                s = Pa.fromRangeEnd(a),
                l = a.commonAncestorContainer;
            return Ja.fromPosition(!1, l, s).map(function(e) {
                return !bs(u, s, l) && bs(u, e, l) ? (t = u.container(), n = u.offset(), r = e.container(), i = e.offset(), (o = document.createRange()).setStart(t, n), o.setEnd(r, i), o) : a;
                var t, n, r, i, o
            }).getOr(a)
        },
        Zl = function(e) {
            return e.collapsed ? e : Jl(e)
        },
        ef = Oi.matchNodeNames("td th"),
        tf = function(i, e, t) {
            var n, r, o, a, u, s, l, f, c, d, p, h, m = i.schema.getTextInlineElements(),
                g = i.selection,
                v = i.dom;
            if (/^ | $/.test(e) && (e = function(e) {
                    var t, n, r;
                    t = g.getRng(), n = t.startContainer, r = t.startOffset;
                    var i = function(e) {
                        return n[e] && 3 === n[e].nodeType
                    };
                    return 3 === n.nodeType && (0 < r ? e = e.replace(/^&nbsp;/, " ") : i("previousSibling") || (e = e.replace(/^ /, "&nbsp;")), r < n.length ? e = e.replace(/&nbsp;(<br>|)$/, " ") : i("nextSibling") || (e = e.replace(/(&nbsp;| )(<br>|)$/, "&nbsp;"))), e
                }(e)), n = i.parser, h = t.merge, r = Ql({
                    validate: i.settings.validate
                }, i.schema), p = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>', s = {
                    content: e,
                    format: "html",
                    selection: !0,
                    paste: t.paste
                }, (s = i.fire("BeforeSetContent", s)).isDefaultPrevented()) i.fire("SetContent", {
                content: s.content,
                format: "html",
                selection: !0,
                paste: t.paste
            });
            else {
                -1 === (e = s.content).indexOf("{$caret}") && (e += "{$caret}"), e = e.replace(/\{\$caret\}/, p);
                var y, b, x, w, C = (f = g.getRng()).startContainer || (f.parentElement ? f.parentElement() : null),
                    E = i.getBody();
                C === E && g.isCollapsed() && v.isBlock(E.firstChild) && (y = E.firstChild) && !i.schema.getShortEndedElements()[y.nodeName] && v.isEmpty(E.firstChild) && ((f = v.createRng()).setStart(E.firstChild, 0), f.setEnd(E.firstChild, 0), g.setRng(f)), g.isCollapsed() || (i.selection.setRng(Zl(i.selection.getRng())), i.getDoc().execCommand("Delete", !1, null), x = (b = g.getRng()).startContainer, w = b.startOffset, 3 === x.nodeType && b.collapsed && ("Â " === x.data[w] ? (x.deleteData(w, 1), /[\u00a0| ]$/.test(e) || (e += " ")) : "Â " === x.data[w - 1] && (x.deleteData(w - 1, 1), /[\u00a0| ]$/.test(e) || (e = " " + e))));
                var k, S, N, T = {
                    context: (o = g.getNode()).nodeName.toLowerCase(),
                    data: t.data,
                    insert: !0
                };
                if (u = n.parse(e, T), !0 === t.paste && nl(i.schema, u) && il(v, o)) return f = rl(r, v, i.selection.getRng(), u), i.selection.setRng(f), void i.fire("SetContent", s);
                if (function(e) {
                        for (var t = e; t = t.walk();) 1 === t.type && t.attr("data-mce-fragment", "1")
                    }(u), "mce_marker" === (c = u.lastChild).attr("id"))
                    for (c = (l = c).prev; c; c = c.walk(!0))
                        if (3 === c.type || !v.isBlock(c.name)) {
                            i.schema.isValidChild(c.parent.name, "span") && c.parent.insert(l, c, "br" === c.name);
                            break
                        }
                if (i._selectionOverrides.showBlockCaretContainer(o), T.invalid) {
                    for (g.setContent(p), o = g.getNode(), a = i.getBody(), 9 === o.nodeType ? o = c = a : c = o; c !== a;) c = (o = c).parentNode;
                    e = o === a ? a.innerHTML : v.getOuterHTML(o), e = r.serialize(n.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i, function() {
                        return r.serialize(u)
                    }))), o === a ? v.setHTML(a, e) : v.setOuterHTML(o, e)
                } else e = r.serialize(u),
                    function(e, t, n) {
                        if ("all" === n.getAttribute("data-mce-bogus")) n.parentNode.insertBefore(e.dom.createFragment(t), n);
                        else {
                            var r = n.firstChild,
                                i = n.lastChild;
                            !r || r === i && "BR" === r.nodeName ? e.dom.setHTML(n, t) : e.selection.setContent(t)
                        }
                    }(i, e, o);
                ! function() {
                    if (h) {
                        var n = i.getBody(),
                            r = new Ml(v);
                        Lt.each(v.select("*[data-mce-fragment]"), function(e) {
                            for (var t = e.parentNode; t && t !== n; t = t.parentNode) m[e.nodeName.toLowerCase()] && r.compare(t, e) && v.remove(e, !0)
                        })
                    }
                }(),
                function(e) {
                    var t, n, r;
                    if (e) {
                        if (g.scrollIntoView(e), t = function(e) {
                                for (var t = i.getBody(); e && e !== t; e = e.parentNode)
                                    if ("false" === i.dom.getContentEditable(e)) return e;
                                return null
                            }(e)) return v.remove(e), g.select(t);
                        f = v.createRng(), (c = e.previousSibling) && 3 === c.nodeType ? (f.setStart(c, c.nodeValue.length), ve.ie || (d = e.nextSibling) && 3 === d.nodeType && (c.appendData(d.data), d.parentNode.removeChild(d))) : (f.setStartBefore(e), f.setEndBefore(e)), n = v.getParent(e, v.isBlock), v.remove(e), n && v.isEmpty(n) && (i.$(n).empty(), f.setStart(n, 0), f.setEnd(n, 0), ef(n) || n.getAttribute("data-mce-fragment") || !(r = function(e) {
                            var t = Pa.fromRangeStart(e);
                            if (t = Ys(i.getBody()).next(t)) return t.toRange()
                        }(f)) ? v.add(n, v.create("br", {
                            "data-mce-bogus": "1"
                        })) : (f = r, v.remove(n))), g.setRng(f)
                    }
                }(v.get("mce_marker")), k = i.getBody(), Lt.each(k.getElementsByTagName("*"), function(e) {
                    e.removeAttribute("data-mce-fragment")
                }), S = i.dom, N = i.selection.getStart(), A.from(S.getParent(N, "td,th")).map(zn.fromDom).each(Kl), i.fire("SetContent", s), i.addVisual()
            }
        },
        nf = function(e, t) {
            var n, r, i = "string" != typeof(n = t) ? (r = Lt.extend({
                paste: n.paste,
                data: {
                    paste: n.paste
                }
            }, n), {
                content: n.content,
                details: r
            }) : {
                content: n,
                details: {}
            };
            tf(e, i.content, i.details)
        };

    function rf(e, t, n, r, i) {
        return e(n, r) ? A.some(n) : N.isFunction(i) && i(n) ? A.none() : t(n, r, i)
    }
    var of = function(e, t, n) {
        for (var r = e.dom(), i = N.isFunction(n) ? n : z.constant(!1); r.parentNode;) {
            r = r.parentNode;
            var o = zn.fromDom(r);
            if (t(o)) return A.some(o);
            if (i(o)) break
        }
        return A.none()
    }, af = function(e, t) {
        return U.find(e.dom().childNodes, z.compose(t, zn.fromDom)).map(zn.fromDom)
    }, uf = function(e, r) {
        var i = function(e) {
            for (var t = 0; t < e.childNodes.length; t++) {
                if (r(zn.fromDom(e.childNodes[t]))) return A.some(zn.fromDom(e.childNodes[t]));
                var n = i(e.childNodes[t]);
                if (n.isSome()) return n
            }
            return A.none()
        };
        return i(e.dom())
    }, sf = {
        first: function(e) {
            return uf(pr.body(), e)
        },
        ancestor: of ,
        closest: function(e, t, n) {
            return rf(function(e) {
                return t(e)
            }, of , e, t, n)
        },
        sibling: function(t, n) {
            var e = t.dom();
            return e.parentNode ? af(zn.fromDom(e.parentNode), function(e) {
                return !Ir.eq(t, e) && n(e)
            }) : A.none()
        },
        child: af,
        descendant: uf
    }, lf = Nr.immutable("sections", "settings"), ff = qn.detect().deviceType.isTouch(), cf = ["lists", "autolink", "autosave"], df = {
        theme: "mobile"
    }, pf = function(e) {
        var t = N.isArray(e) ? e.join(" ") : e,
            n = U.map(N.isString(t) ? t.split(" ") : [], Fn);
        return U.filter(n, function(e) {
            return 0 < e.length
        })
    }, hf = function(e, t) {
        return e.sections().hasOwnProperty(t)
    }, mf = function(e, t, n, r) {
        var i, o, a = pf(n.forced_plugins),
            u = pf(r.plugins),
            s = e && hf(t, "mobile") ? (i = u, U.filter(i, z.curry(U.contains, cf))) : u,
            l = (o = s, [].concat(pf(a)).concat(pf(o)));
        return Lt.extend(r, {
            plugins: l.join(" ")
        })
    }, gf = function(e, t, n, r) {
        var i, o, a, u, s, l, f, c, d, p, h, m, g, v = (i = ["mobile"], o = r, a = or.bifilter(o, function(e, t) {
                return U.contains(i, t)
            }), lf(a.t, a.f)),
            y = Lt.extend(t, n, v.settings(), (h = e, g = (m = v).settings().inline, h && hf(m, "mobile") && !g ? (f = "mobile", c = df, d = v.sections(), p = d.hasOwnProperty(f) ? d[f] : {}, Lt.extend({}, c, p)) : {}), {
                validate: !0,
                content_editable: v.settings().inline,
                external_plugins: (u = n, s = v.settings(), l = s.external_plugins ? s.external_plugins : {}, u && u.external_plugins ? Lt.extend({}, u.external_plugins, l) : l)
            });
        return mf(e, v, n, y)
    }, vf = function(e, t, n) {
        return A.from(t.settings[n]).filter(e)
    }, yf = z.curry(vf, N.isString), bf = function(e, t, n, r) {
        var i, o, a, u = t in e.settings ? e.settings[t] : n;
        return "hash" === r ? (a = {}, "string" == typeof(o = u) ? U.each(0 < o.indexOf("=") ? o.split(/[;,](?![^=;,]*(?:[;,]|$))/) : o.split(","), function(e) {
            var t = e.split("=");
            1 < t.length ? a[Lt.trim(t[0])] = Lt.trim(t[1]) : a[Lt.trim(t[0])] = Lt.trim(t)
        }) : a = o, a) : "string" === r ? vf(N.isString, e, t).getOr(n) : "number" === r ? vf(N.isNumber, e, t).getOr(n) : "boolean" === r ? vf(N.isBoolean, e, t).getOr(n) : "object" === r ? vf(N.isObject, e, t).getOr(n) : "array" === r ? vf(N.isArray, e, t).getOr(n) : "string[]" === r ? vf((i = N.isString, function(e) {
            return N.isArray(e) && U.forall(e, i)
        }), e, t).getOr(n) : "function" === r ? vf(N.isFunction, e, t).getOr(n) : u
    }, xf = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/, wf = function(e, t) {
        var n = t.container(),
            r = t.offset();
        return e ? Bo(n) ? Oi.isText(n.nextSibling) ? Pa(n.nextSibling, 0) : Pa.after(n) : Io(t) ? Pa(n, r + 1) : t : Bo(n) ? Oi.isText(n.previousSibling) ? Pa(n.previousSibling, n.previousSibling.data.length) : Pa.before(n) : jo(t) ? Pa(n, r - 1) : t
    }, Cf = {
        isInlineTarget: function(e, t) {
            var n = yf(e, "inline_boundaries_selector").getOr("a[href],code");
            return Br.is(zn.fromDom(t), n)
        },
        findRootInline: function(e, t, n) {
            var r, i, o, a = (r = e, i = t, o = n, U.filter(vo.DOM.getParents(o.container(), "*", i), r));
            return A.from(a[a.length - 1])
        },
        isRtl: function(e) {
            return "rtl" === vo.DOM.getStyle(e, "direction", !0) || (t = e.textContent, xf.test(t));
            var t
        },
        isAtZwsp: function(e) {
            return Io(e) || jo(e)
        },
        normalizePosition: wf,
        normalizeForwards: z.curry(wf, !0),
        normalizeBackwards: z.curry(wf, !1),
        hasSameParentBlock: function(e, t, n) {
            var r = ys(t, e),
                i = ys(n, e);
            return r && r === i
        }
    }, Ef = function(e, t) {
        return Ir.contains(e, t) ? sf.closest(t, function(e) {
            return mi(e) || vi(e)
        }, (n = e, function(e) {
            return Ir.eq(n, zn.fromDom(e.dom().parentNode))
        })) : A.none();
        var n
    }, kf = function(e) {
        var t, n, r;
        e.dom.isEmpty(e.getBody()) && (e.setContent(""), n = (t = e).getBody(), r = n.firstChild && t.dom.isBlock(n.firstChild) ? n.firstChild : n, t.selection.setCursorLocation(r, 0))
    }, Sf = function(o, a, u) {
        return pa([Ja.firstPositionIn(u), Ja.lastPositionIn(u)], function(e, t) {
            var n = Cf.normalizePosition(!0, e),
                r = Cf.normalizePosition(!1, t),
                i = Cf.normalizePosition(!1, a);
            return o ? Ja.nextPosition(u, i).map(function(e) {
                return e.isEqual(r) && a.isEqual(n)
            }).getOr(!1) : Ja.prevPosition(u, i).map(function(e) {
                return e.isEqual(n) && a.isEqual(r)
            }).getOr(!1)
        }).getOr(!0)
    }, Nf = function(e, t, n) {
        return sf.ancestor(e, function(e) {
            return Br.is(e, t)
        }, n)
    }, Tf = Nf, Af = function(e, t) {
        return Br.one(t, e)
    }, Df = function(e, t, n) {
        return rf(Br.is, Nf, e, t, n)
    }, _f = function(e, t, n) {
        return Tf(e, t, n).isSome()
    }, Rf = function(e, t) {
        return Oi.isText(t) && /^[ \t\r\n]*$/.test(t.data) && !1 === (n = e, r = t, i = zn.fromDom(n), o = zn.fromDom(r), _f(o, "pre,code", z.curry(Ir.eq, i)));
        var n, r, i, o
    }, Of = function(e, t) {
        return Qo(t) && !1 === Rf(e, t) || (n = t, Oi.isElement(n) && "A" === n.nodeName && n.hasAttribute("name")) || Ff(t);
        var n
    }, Ff = Oi.hasAttribute("data-mce-bookmark"), Bf = Oi.hasAttribute("data-mce-bogus"), Pf = Oi.hasAttributeValue("data-mce-bogus", "all"), Lf = function(e) {
        return function(e) {
            var t, n, r = 0;
            if (Of(e, e)) return !1;
            if (!(n = e.firstChild)) return !0;
            t = new ai(n, e);
            do {
                if (Pf(n)) n = t.next(!0);
                else if (Bf(n)) n = t.next();
                else if (Oi.isBr(n)) r++, n = t.next();
                else {
                    if (Of(e, n)) return !1;
                    n = t.next()
                }
            } while (n);
            return r <= 1
        }(e.dom())
    }, If = Nr.immutable("block", "position"), jf = Nr.immutable("from", "to"), Mf = function(e, t) {
        var n = zn.fromDom(e),
            r = zn.fromDom(t.container());
        return Ef(n, r).map(function(e) {
            return If(e, t)
        })
    }, qf = function(i, o, e) {
        var t = Mf(i, Pa.fromRangeStart(e)),
            n = t.bind(function(e) {
                return Ja.fromPosition(o, i, e.position()).bind(function(e) {
                    return Mf(i, e).map(function(e) {
                        return t = i, n = o, r = e, Oi.isBr(r.position().getNode()) && !1 === Lf(r.block()) ? Ja.positionIn(!1, r.block().dom()).bind(function(e) {
                            return e.isEqual(r.position()) ? Ja.fromPosition(n, t, e).bind(function(e) {
                                return Mf(t, e)
                            }) : A.some(r)
                        }).getOr(r) : r;
                        var t, n, r
                    })
                })
            });
        return pa([t, n], jf).filter(function(e) {
            return r = e, !1 === Ir.eq(r.from().block(), r.to().block()) && (n = e, Vr.parent(n.from().block()).bind(function(t) {
                return Vr.parent(n.to().block()).filter(function(e) {
                    return Ir.eq(t, e)
                })
            }).isSome()) && (t = e, !1 === Oi.isContentEditableFalse(t.from().block()) && !1 === Oi.isContentEditableFalse(t.to().block()));
            var t, n, r
        })
    }, Hf = function(e, t, n) {
        return n.collapsed ? qf(e, t, n) : A.none()
    }, zf = function(e, t, n) {
        return Ir.contains(t, e) ? Vr.parents(e, function(e) {
            return n(e) || Ir.eq(e, t)
        }).slice(0, -1) : []
    }, Uf = function(e, t) {
        return zf(e, t, z.constant(!1))
    }, $f = Uf, Vf = function(e, t) {
        return [e].concat(Uf(e, t))
    }, Wf = function(e) {
        var t, n, r = (t = e, n = Vr.children(t), U.findIndex(n, di).fold(function() {
            return n
        }, function(e) {
            return n.slice(0, e)
        }));
        return U.each(r, function(e) {
            Ul.remove(e)
        }), r
    }, Xf = function(e, t) {
        Ja.positionIn(e, t.dom()).each(function(e) {
            var t = e.getNode();
            Oi.isBr(t) && Ul.remove(zn.fromDom(t))
        })
    }, Kf = function(e, t) {
        var n = Vf(t, e);
        return U.find(n.reverse(), Lf).each(Ul.remove)
    }, Yf = function(i, o) {
        return Ir.contains(o, i) ? Vr.parent(i).bind(function(e) {
            return Ir.eq(e, o) ? A.some(i) : (t = o, n = i, r = Vr.parents(n, function(e) {
                return Ir.eq(e, t)
            }), A.from(r[r.length - 2]));
            var t, n, r
        }) : A.none()
    }, Gf = function(n, r, i) {
        if (Lf(i)) return Ul.remove(i), Lf(r) && Xl(r), Ja.firstPositionIn(r.dom());
        Xf(!0, r), Xf(!1, i);
        var o = Wf(r);
        return Yf(r, i).fold(function() {
            Kf(n, r);
            var e = Ja.lastPositionIn(i.dom());
            return U.each(o, function(e) {
                Uu.append(i, e)
            }), e
        }, function(t) {
            var e = Ja.prevPosition(i.dom(), Pa.before(t.dom()));
            return U.each(o, function(e) {
                Uu.before(t, e)
            }), Kf(n, r), e
        })
    }, Qf = function(e, t, n, r) {
        return t ? Gf(e, r, n) : Gf(e, n, r)
    }, Jf = function(t, n) {
        var e, r = zn.fromDom(t.getBody());
        return (e = Hf(r.dom(), n, t.selection.getRng()).bind(function(e) {
            return Qf(r, n, e.from().block(), e.to().block())
        })).each(function(e) {
            t.selection.setRng(e.toRange())
        }), e.isSome()
    }, Zf = function(e, t) {
        var n = zn.fromDom(t),
            r = z.curry(Ir.eq, e);
        return sf.ancestor(n, xi, r).isSome()
    }, ec = function(e, t) {
        var n, r, i = Ja.prevPosition(e.dom(), Pa.fromRangeStart(t)).isNone(),
            o = Ja.nextPosition(e.dom(), Pa.fromRangeEnd(t)).isNone();
        return !(Zf(n = e, (r = t).startContainer) || Zf(n, r.endContainer)) && i && o
    }, tc = function(e) {
        var n, r, i, t, o = zn.fromDom(e.getBody()),
            a = e.selection.getRng();
        return ec(o, a) ? ((t = e).setContent(""), t.selection.setCursorLocation(), !0) : (n = o, r = e.selection, i = r.getRng(), pa([Ef(n, zn.fromDom(i.startContainer)), Ef(n, zn.fromDom(i.endContainer))], function(e, t) {
            return !1 === Ir.eq(e, t) && (i.deleteContents(), Qf(n, !0, e, t).each(function(e) {
                r.setRng(e.toRange())
            }), !0)
        }).getOr(!1))
    }, nc = function(e, t) {
        return !e.selection.isCollapsed() && tc(e)
    }, rc = function(a) {
        if (!N.isArray(a)) throw new Error("cases must be an array");
        if (0 === a.length) throw new Error("there must be at least one case");
        var u = [],
            n = {};
        return U.each(a, function(e, r) {
            var t = or.keys(e);
            if (1 !== t.length) throw new Error("one and only one name per case");
            var i = t[0],
                o = e[i];
            if (n[i] !== undefined) throw new Error("duplicate key detected:" + i);
            if ("cata" === i) throw new Error("cannot have a case named cata (sorry)");
            if (!N.isArray(o)) throw new Error("case arguments must be an array");
            u.push(i), n[i] = function() {
                var e = arguments.length;
                if (e !== o.length) throw new Error("Wrong number of arguments to case " + i + ". Expected " + o.length + " (" + o + "), got " + e);
                for (var n = new Array(e), t = 0; t < n.length; t++) n[t] = arguments[t];
                return {
                    fold: function() {
                        if (arguments.length !== a.length) throw new Error("Wrong number of arguments to fold. Expected " + a.length + ", got " + arguments.length);
                        return arguments[r].apply(null, n)
                    },
                    match: function(e) {
                        var t = or.keys(e);
                        if (u.length !== t.length) throw new Error("Wrong number of arguments to match. Expected: " + u.join(",") + "\nActual: " + t.join(","));
                        if (!U.forall(u, function(e) {
                                return U.contains(t, e)
                            })) throw new Error("Not all branches were specified when using match. Specified: " + t.join(", ") + "\nRequired: " + u.join(", "));
                        return e[i].apply(null, n)
                    },
                    log: function(e) {
                        console.log(e, {
                            constructors: u,
                            constructor: i,
                            params: n
                        })
                    }
                }
            }
        }), n
    }, ic = rc([{
        remove: ["element"]
    }, {
        moveToElement: ["element"]
    }, {
        moveToPosition: ["position"]
    }]), oc = function(e, t, n, r) {
        var i = r.getNode(!1 === t);
        return Ef(zn.fromDom(e), zn.fromDom(n.getNode())).map(function(e) {
            return Lf(e) ? ic.remove(e.dom()) : ic.moveToElement(i)
        }).orThunk(function() {
            return A.some(ic.moveToElement(i))
        })
    }, ac = function(u, s, l) {
        return Ja.fromPosition(s, u, l).bind(function(e) {
            return a = e.getNode(), xi(zn.fromDom(a)) || vi(zn.fromDom(a)) ? A.none() : (t = u, i = e, o = function(e) {
                return pi(zn.fromDom(e)) && !bs(r, i, t)
            }, As(!(n = s), r = l).fold(function() {
                return As(n, i).fold(z.constant(!1), o)
            }, o) ? A.none() : s && Oi.isContentEditableFalse(e.getNode()) ? oc(u, s, l, e) : !1 === s && Oi.isContentEditableFalse(e.getNode(!0)) ? oc(u, s, l, e) : s && Rs(l) ? A.some(ic.moveToPosition(e)) : !1 === s && _s(l) ? A.some(ic.moveToPosition(e)) : A.none());
            var t, n, r, i, o, a
        })
    }, uc = function(r, e, i) {
        return o = e, a = i.getNode(!1 === o), u = o ? "after" : "before", Oi.isElement(a) && a.getAttribute("data-mce-caret") === u ? (t = e, n = i.getNode(!1 === e), t && Oi.isContentEditableFalse(n.nextSibling) ? A.some(ic.moveToElement(n.nextSibling)) : !1 === t && Oi.isContentEditableFalse(n.previousSibling) ? A.some(ic.moveToElement(n.previousSibling)) : A.none()).fold(function() {
            return ac(r, e, i)
        }, A.some) : ac(r, e, i).bind(function(e) {
            return t = r, n = i, e.fold(function(e) {
                return A.some(ic.remove(e))
            }, function(e) {
                return A.some(ic.moveToElement(e))
            }, function(e) {
                return bs(n, e, t) ? A.none() : A.some(ic.moveToPosition(e))
            });
            var t, n
        });
        var t, n, o, a, u
    }, sc = function(e, t) {
        return r = e, i = (n = t).container(), o = n.offset(), !1 === Pa.isTextPosition(n) && i === r.parentNode && o > Pa.before(r).offset() ? Pa(t.container(), t.offset() - 1) : t;
        var n, r, i, o
    }, lc = function(e) {
        return Qo(e.previousSibling) ? A.some((t = e.previousSibling, Oi.isText(t) ? Pa(t, t.data.length) : Pa.after(t))) : e.previousSibling ? Ja.lastPositionIn(e.previousSibling) : A.none();
        var t
    }, fc = function(e) {
        return Qo(e.nextSibling) ? A.some((t = e.nextSibling, Oi.isText(t) ? Pa(t, 0) : Pa.before(t))) : e.nextSibling ? Ja.firstPositionIn(e.nextSibling) : A.none();
        var t
    }, cc = function(r, i) {
        return lc(i).orThunk(function() {
            return fc(i)
        }).orThunk(function() {
            return e = r, t = i, n = Pa.before(t.previousSibling ? t.previousSibling : t.parentNode), Ja.prevPosition(e, n).fold(function() {
                return Ja.nextPosition(e, Pa.after(t))
            }, A.some);
            var e, t, n
        })
    }, dc = function(n, r) {
        return fc(r).orThunk(function() {
            return lc(r)
        }).orThunk(function() {
            return e = n, t = r, Ja.nextPosition(e, Pa.after(t)).fold(function() {
                return Ja.prevPosition(e, Pa.before(t))
            }, A.some);
            var e, t
        })
    }, pc = function(e, t, n) {
        return (r = e, i = t, o = n, r ? dc(i, o) : cc(i, o)).map(z.curry(sc, n));
        var r, i, o
    }, hc = function(t, n, e) {
        e.fold(function() {
            t.focus()
        }, function(e) {
            t.selection.setRng(e.toRange(), n)
        })
    }, mc = function(e, t) {
        return t && e.schema.getBlockElements().hasOwnProperty(Zn.name(t))
    }, gc = function(e) {
        if (Lf(e)) {
            var t = zn.fromHtml('<br data-mce-bogus="1">');
            return Ul.empty(e), Uu.append(e, t), A.some(Pa.before(t.dom()))
        }
        return A.none()
    }, vc = function(t, n, e) {
        var r, a, i, o = pc(n, t.getBody(), e.dom()),
            u = sf.ancestor(e, z.curry(mc, t), (r = t.getBody(), function(e) {
                return e.dom() === r
            })),
            s = (a = e, i = o, pa([Vr.prevSibling(a), Vr.nextSibling(a), i], function(e, t, n) {
                var r, i = e.dom(),
                    o = t.dom();
                return Oi.isText(i) && Oi.isText(o) ? (r = i.data.length, i.appendData(o.data), Ul.remove(t), Ul.remove(a), n.container() === o ? Pa(i, r) : n) : (Ul.remove(a), n)
            }).orThunk(function() {
                return Ul.remove(a), i
            }));
        t.dom.isEmpty(t.getBody()) ? (t.setContent(""), t.selection.setCursorLocation()) : u.bind(gc).fold(function() {
            hc(t, n, s)
        }, function(e) {
            hc(t, n, A.some(e))
        })
    }, yc = function(a, u) {
        var e, t, n, r, i;
        return (e = a.getBody(), t = u, n = a.selection.getRng(), r = Ss(t ? 1 : -1, e, n), i = Pa.fromRangeStart(r), !1 === t && Rs(i) ? A.some(ic.remove(i.getNode(!0))) : t && _s(i) ? A.some(ic.remove(i.getNode())) : uc(e, t, i)).map(function(e) {
            return e.fold((i = a, o = u, function(e) {
                return i._selectionOverrides.hideFakeCaret(), vc(i, o, zn.fromDom(e)), !0
            }), (n = a, r = u, function(e) {
                var t = r ? Pa.before(e) : Pa.after(e);
                return n.selection.setRng(t.toRange()), !0
            }), (t = a, function(e) {
                return t.selection.setRng(e.toRange()), !0
            }));
            var t, n, r, i, o
        }).getOr(!1)
    }, bc = function(e, t) {
        var n, r = e.selection.getNode();
        return !!Oi.isContentEditableFalse(r) && (n = zn.fromDom(e.getBody()), U.each(gu(n, ".mce-offscreen-selection"), Ul.remove), vc(e, t, zn.fromDom(e.selection.getNode())), kf(e), !0)
    }, xc = function(e, t) {
        return e.selection.isCollapsed() ? yc(e, t) : bc(e, t)
    }, wc = function(e) {
        var t, n = function(e, t) {
            for (; t && t !== e;) {
                if (Oi.isContentEditableTrue(t) || Oi.isContentEditableFalse(t)) return t;
                t = t.parentNode
            }
            return null
        }(e.getBody(), e.selection.getNode());
        return Oi.isContentEditableTrue(n) && e.dom.isBlock(n) && e.dom.isEmpty(n) && (t = e.dom.create("br", {
            "data-mce-bogus": "1"
        }), e.dom.setHTML(n, ""), n.appendChild(t), e.selection.setRng(Pa.before(t).toRange())), !0
    }, Cc = Oi.isText, Ec = function(e) {
        return Cc(e) && e.data[0] === Do
    }, kc = function(e) {
        return Cc(e) && e.data[e.data.length - 1] === Do
    }, Sc = function(e) {
        return e.ownerDocument.createTextNode(Do)
    }, Nc = function(e, t) {
        return e ? function(e) {
            if (Cc(e.previousSibling)) return kc(e.previousSibling) || e.previousSibling.appendData(Do), e.previousSibling;
            if (Cc(e)) return Ec(e) || e.insertData(0, Do), e;
            var t = Sc(e);
            return e.parentNode.insertBefore(t, e), t
        }(t) : function(e) {
            if (Cc(e.nextSibling)) return Ec(e.nextSibling) || e.nextSibling.insertData(0, Do), e.nextSibling;
            if (Cc(e)) return kc(e) || e.appendData(Do), e;
            var t = Sc(e);
            return e.nextSibling ? e.parentNode.insertBefore(t, e.nextSibling) : e.parentNode.appendChild(t), t
        }(t)
    }, Tc = z.curry(Nc, !0), Ac = z.curry(Nc, !1), Dc = function(e, t) {
        return Oi.isText(e.container()) ? Nc(t, e.container()) : Nc(t, e.getNode())
    }, _c = function(e, t) {
        var n = t.get();
        return n && e.container() === n && Bo(n)
    }, Rc = function(n, e) {
        return e.fold(function(e) {
            Va.remove(n.get());
            var t = Tc(e);
            return n.set(t), A.some(Pa(t, t.length - 1))
        }, function(e) {
            return Ja.firstPositionIn(e).map(function(e) {
                if (_c(e, n)) return Pa(n.get(), 1);
                Va.remove(n.get());
                var t = Dc(e, !0);
                return n.set(t), Pa(t, 1)
            })
        }, function(e) {
            return Ja.lastPositionIn(e).map(function(e) {
                if (_c(e, n)) return Pa(n.get(), n.get().length - 1);
                Va.remove(n.get());
                var t = Dc(e, !1);
                return n.set(t), Pa(t, t.length - 1)
            })
        }, function(e) {
            Va.remove(n.get());
            var t = Ac(e);
            return n.set(t), A.some(Pa(t, 1))
        })
    }, Oc = function(e, t) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n].apply(null, t);
            if (r.isSome()) return r
        }
        return A.none()
    }, Fc = rc([{
        before: ["element"]
    }, {
        start: ["element"]
    }, {
        end: ["element"]
    }, {
        after: ["element"]
    }]), Bc = function(e, t) {
        var n = ys(t, e);
        return n || e
    }, Pc = function(e, t, n) {
        var r = Cf.normalizeForwards(n),
            i = Bc(t, r.container());
        return Cf.findRootInline(e, i, r).fold(function() {
            return Ja.nextPosition(i, r).bind(z.curry(Cf.findRootInline, e, i)).map(function(e) {
                return Fc.before(e)
            })
        }, A.none)
    }, Lc = function(e, t) {
        return null === Tl(e, t)
    }, Ic = function(e, t, n) {
        return Cf.findRootInline(e, t, n).filter(z.curry(Lc, t))
    }, jc = function(e, t, n) {
        var r = Cf.normalizeBackwards(n);
        return Ic(e, t, r).bind(function(e) {
            return Ja.prevPosition(e, r).isNone() ? A.some(Fc.start(e)) : A.none()
        })
    }, Mc = function(e, t, n) {
        var r = Cf.normalizeForwards(n);
        return Ic(e, t, r).bind(function(e) {
            return Ja.nextPosition(e, r).isNone() ? A.some(Fc.end(e)) : A.none()
        })
    }, qc = function(e, t, n) {
        var r = Cf.normalizeBackwards(n),
            i = Bc(t, r.container());
        return Cf.findRootInline(e, i, r).fold(function() {
            return Ja.prevPosition(i, r).bind(z.curry(Cf.findRootInline, e, i)).map(function(e) {
                return Fc.after(e)
            })
        }, A.none)
    }, Hc = function(e) {
        return !1 === Cf.isRtl(Uc(e))
    }, zc = function(e, t, n) {
        return Oc([Pc, jc, Mc, qc], [e, t, n]).filter(Hc)
    }, Uc = function(e) {
        return e.fold(z.identity, z.identity, z.identity, z.identity)
    }, $c = function(e) {
        return e.fold(z.constant("before"), z.constant("start"), z.constant("end"), z.constant("after"))
    }, Vc = function(e) {
        return e.fold(Fc.before, Fc.before, Fc.after, Fc.after)
    }, Wc = function(n, e, r, t, i, o) {
        return pa([Cf.findRootInline(e, r, t), Cf.findRootInline(e, r, i)], function(e, t) {
            return e !== t && Cf.hasSameParentBlock(r, e, t) ? Fc.after(n ? e : t) : o
        }).getOr(o)
    }, Xc = function(e, r) {
        return e.fold(z.constant(!0), function(e) {
            return n = r, !($c(t = e) === $c(n) && Uc(t) === Uc(n));
            var t, n
        })
    }, Kc = function(e, t) {
        return e ? t.fold(z.compose(A.some, Fc.start), A.none, z.compose(A.some, Fc.after), A.none) : t.fold(A.none, z.compose(A.some, Fc.before), A.none, z.compose(A.some, Fc.end))
    }, Yc = function(a, u, s, l) {
        var e = Cf.normalizePosition(a, l),
            f = zc(u, s, e);
        return zc(u, s, e).bind(z.curry(Kc, a)).orThunk(function() {
            return t = a, n = u, r = s, i = f, e = l, o = Cf.normalizePosition(t, e), Ja.fromPosition(t, r, o).map(z.curry(Cf.normalizePosition, t)).fold(function() {
                return i.map(Vc)
            }, function(e) {
                return zc(n, r, e).map(z.curry(Wc, t, n, r, o, e)).filter(z.curry(Xc, i))
            }).filter(Hc);
            var t, n, r, i, e, o
        })
    }, Gc = zc, Qc = Yc, Jc = (z.curry(Yc, !1), z.curry(Yc, !0), Vc), Zc = function(e) {
        return e.fold(Fc.start, Fc.start, Fc.end, Fc.end)
    }, ed = function(e) {
        return N.isFunction(e.selection.getSel().modify)
    }, td = function(e, t, n) {
        var r = e ? 1 : -1;
        return t.setRng(Pa(n.container(), n.offset() + r).toRange()), t.getSel().modify("move", e ? "forward" : "backward", "word"), !0
    }, nd = function(e, t) {
        var n = t.selection.getRng(),
            r = e ? Pa.fromRangeEnd(n) : Pa.fromRangeStart(n);
        return !!ed(t) && (e && Io(r) ? td(!0, t.selection, r) : !(e || !jo(r)) && td(!1, t.selection, r))
    }, rd = function(e, t) {
        var n = e.dom.createRng();
        n.setStart(t.container(), t.offset()), n.setEnd(t.container(), t.offset()), e.selection.setRng(n)
    }, id = function(e) {
        return !1 !== e.settings.inline_boundaries
    }, od = function(e, t) {
        e ? t.setAttribute("data-mce-selected", "inline-boundary") : t.removeAttribute("data-mce-selected")
    }, ad = function(t, e, n) {
        return Rc(e, n).map(function(e) {
            return rd(t, e), n
        })
    }, ud = function(e, t, n) {
        return function() {
            return !!id(t) && nd(e, t)
        }
    }, sd = {
        move: function(a, u, s) {
            return function() {
                return !!id(a) && (t = a, n = u, e = s, r = t.getBody(), i = Pa.fromRangeStart(t.selection.getRng()), o = z.curry(Cf.isInlineTarget, t), Qc(e, o, r, i).bind(function(e) {
                    return ad(t, n, e)
                })).isSome();
                var t, n, e, r, i, o
            }
        },
        moveNextWord: z.curry(ud, !0),
        movePrevWord: z.curry(ud, !1),
        setupSelectedState: function(a) {
            var u = ns(null),
                s = z.curry(Cf.isInlineTarget, a);
            return a.on("NodeChange", function(e) {
                var t, n, r, i, o;
                id(a) && (t = s, n = a.dom, r = e.parents, i = U.filter(n.select('*[data-mce-selected="inline-boundary"]'), t), o = U.filter(r, t), U.each(U.difference(i, o), z.curry(od, !1)), U.each(U.difference(o, i), z.curry(od, !0)), function(e, t) {
                    if (e.selection.isCollapsed() && !0 !== e.composing && t.get()) {
                        var n = Pa.fromRangeStart(e.selection.getRng());
                        Pa.isTextPosition(n) && !1 === Cf.isAtZwsp(n) && (rd(e, Va.removeAndReposition(t.get(), n)), t.set(null))
                    }
                }(a, u), function(n, r, i, e) {
                    if (r.selection.isCollapsed()) {
                        var t = U.filter(e, n);
                        U.each(t, function(e) {
                            var t = Pa.fromRangeStart(r.selection.getRng());
                            Gc(n, r.getBody(), t).bind(function(e) {
                                return ad(r, i, e)
                            })
                        })
                    }
                }(s, a, u, e.parents))
            }), u
        },
        setCaretPosition: rd
    }, ld = function(t, n) {
        return function(e) {
            return Rc(n, e).map(function(e) {
                return sd.setCaretPosition(t, e), !0
            }).getOr(!1)
        }
    }, fd = function(r, i, o, a) {
        var u = r.getBody(),
            s = z.curry(Cf.isInlineTarget, r);
        r.undoManager.ignore(function() {
            var e, t, n;
            r.selection.setRng((e = o, t = a, (n = document.createRange()).setStart(e.container(), e.offset()), n.setEnd(t.container(), t.offset()), n)), r.execCommand("Delete"), Gc(s, u, Pa.fromRangeStart(r.selection.getRng())).map(Zc).map(ld(r, i))
        }), r.nodeChanged()
    }, cd = function(n, r, o, i) {
        var e, t, a = (e = n.getBody(), t = i.container(), ys(t, e) || e),
            u = z.curry(Cf.isInlineTarget, n),
            s = Gc(u, a, i);
        return s.bind(function(e) {
            return o ? e.fold(z.constant(A.some(Zc(e))), A.none, z.constant(A.some(Jc(e))), A.none) : e.fold(A.none, z.constant(A.some(Jc(e))), A.none, z.constant(A.some(Zc(e))))
        }).map(ld(n, r)).getOrThunk(function() {
            var t = Ja.navigate(o, a, i),
                e = t.bind(function(e) {
                    return Gc(u, a, e)
                });
            return s.isSome() && e.isSome() ? Cf.findRootInline(u, a, i).map(function(e) {
                return i = e, !!pa([Ja.firstPositionIn(i), Ja.lastPositionIn(i)], function(e, t) {
                    var n = Cf.normalizePosition(!0, e),
                        r = Cf.normalizePosition(!1, t);
                    return Ja.nextPosition(i, n).map(function(e) {
                        return e.isEqual(r)
                    }).getOr(!0)
                }).getOr(!0) && (vc(n, o, zn.fromDom(e)), !0);
                var i
            }).getOr(!1) : e.bind(function(e) {
                return t.map(function(e) {
                    return o ? fd(n, r, i, e) : fd(n, r, e, i), !0
                })
            }).getOr(!1)
        })
    }, dd = function(e, t, n) {
        if (e.selection.isCollapsed() && !1 !== e.settings.inline_boundaries) {
            var r = Pa.fromRangeStart(e.selection.getRng());
            return cd(e, t, n, r)
        }
        return !1
    }, pd = Nr.immutable("start", "end"), hd = Nr.immutable("rng", "table", "cells"), md = rc([{
        removeTable: ["element"]
    }, {
        emptyCells: ["cells"]
    }]), gd = function(e, t) {
        return Df(zn.fromDom(e), "td,th", t)
    }, vd = function(e, t) {
        return Tf(e, "table", t)
    }, yd = function(e) {
        return !1 === Ir.eq(e.start(), e.end())
    }, bd = function(e, n) {
        return vd(e.start(), n).bind(function(t) {
            return vd(e.end(), n).bind(function(e) {
                return Ir.eq(t, e) ? A.some(t) : A.none()
            })
        })
    }, xd = function(e) {
        return gu(e, "td,th")
    }, wd = function(r, e) {
        var t = gd(e.startContainer, r),
            n = gd(e.endContainer, r);
        return e.collapsed ? A.none() : pa([t, n], pd).fold(function() {
            return t.fold(function() {
                return n.bind(function(t) {
                    return vd(t, r).bind(function(e) {
                        return U.head(xd(e)).map(function(e) {
                            return pd(e, t)
                        })
                    })
                })
            }, function(t) {
                return vd(t, r).bind(function(e) {
                    return U.last(xd(e)).map(function(e) {
                        return pd(t, e)
                    })
                })
            })
        }, function(e) {
            return Cd(r, e) ? A.none() : (n = r, vd((t = e).start(), n).bind(function(e) {
                return U.last(xd(e)).map(function(e) {
                    return pd(t.start(), e)
                })
            }));
            var t, n
        })
    }, Cd = function(e, t) {
        return bd(t, e).isSome()
    }, Ed = function(e, t) {
        var n, r, i, o, a, u = (n = e, z.curry(Ir.eq, n));
        return (r = t, i = u, o = gd(r.startContainer, i), a = gd(r.endContainer, i), pa([o, a], pd).filter(yd).filter(function(e) {
            return Cd(i, e)
        }).orThunk(function() {
            return wd(i, r)
        })).bind(function(e) {
            return bd(t = e, u).map(function(e) {
                return hd(t, e, xd(e))
            });
            var t
        })
    }, kd = function(e, t) {
        return U.findIndex(e, function(e) {
            return Ir.eq(e, t)
        })
    }, Sd = function(n) {
        return (r = n, pa([kd(r.cells(), r.rng().start()), kd(r.cells(), r.rng().end())], function(e, t) {
            return r.cells().slice(e, t + 1)
        })).map(function(e) {
            var t = n.cells();
            return e.length === t.length ? md.removeTable(n.table()) : md.emptyCells(e)
        });
        var r
    }, Nd = function(e, t) {
        return Ed(e, t).bind(Sd)
    }, Td = function(e) {
        var t = [];
        if (e)
            for (var n = 0; n < e.rangeCount; n++) t.push(e.getRangeAt(n));
        return t
    }, Ad = Td, Dd = function(e) {
        return U.bind(e, function(e) {
            var t = aa(e);
            return t ? [zn.fromDom(t)] : []
        })
    }, _d = function(e) {
        return 1 < Td(e).length
    }, Rd = function(e) {
        return U.filter(Dd(e), xi)
    }, Od = function(e) {
        return gu(e, "td[data-mce-selected],th[data-mce-selected]")
    }, Fd = function(e, t) {
        var n = Od(t),
            r = Rd(e);
        return 0 < n.length ? n : r
    }, Bd = Fd, Pd = function(e) {
        return Fd(Ad(e.selection.getSel()), zn.fromDom(e.getBody()))
    }, Ld = function(e, t) {
        return U.each(t, Xl), e.selection.setCursorLocation(t[0].dom(), 0), !0
    }, Id = function(e, t) {
        return vc(e, !1, t), !0
    }, jd = function(n, e, r, t) {
        return qd(e, t).fold(function() {
            return t = n, Nd(e, r).map(function(e) {
                return e.fold(z.curry(Id, t), z.curry(Ld, t))
            });
            var t
        }, function(e) {
            return Hd(n, e)
        }).getOr(!1)
    }, Md = function(e, t) {
        return U.find(Vf(t, e), xi)
    }, qd = function(e, t) {
        return U.find(Vf(t, e), function(e) {
            return "caption" === Zn.name(e)
        })
    }, Hd = function(e, t) {
        return Xl(t), e.selection.setCursorLocation(t.dom(), 0), A.some(!0)
    }, zd = function(u, s, l, f, c) {
        return Ja.navigate(l, u.getBody(), c).bind(function(e) {
            return r = f, i = l, o = c, a = e, Ja.firstPositionIn(r.dom()).bind(function(t) {
                return Ja.lastPositionIn(r.dom()).map(function(e) {
                    return i ? o.isEqual(t) && a.isEqual(e) : o.isEqual(e) && a.isEqual(t)
                })
            }).getOr(!0) ? Hd(u, f) : (t = f, n = e, qd(s, zn.fromDom(n.getNode())).map(function(e) {
                return !1 === Ir.eq(e, t)
            }));
            var t, n, r, i, o, a
        }).or(A.some(!0))
    }, Ud = function(a, u, s, e) {
        var l = Pa.fromRangeStart(a.selection.getRng());
        return Md(s, e).bind(function(e) {
            return Lf(e) ? Hd(a, e) : (t = a, n = s, r = u, i = e, o = l, Ja.navigate(r, t.getBody(), o).bind(function(e) {
                return Md(n, zn.fromDom(e.getNode())).map(function(e) {
                    return !1 === Ir.eq(e, i)
                })
            }));
            var t, n, r, i, o
        })
    }, $d = function(a, u, e) {
        var s = zn.fromDom(a.getBody());
        return qd(s, e).fold(function() {
            return Ud(a, u, s, e)
        }, function(e) {
            return t = a, n = u, r = s, i = e, o = Pa.fromRangeStart(t.selection.getRng()), Lf(i) ? Hd(t, i) : zd(t, r, n, i, o);
            var t, n, r, i, o
        }).getOr(!1)
    }, Vd = function(e, t) {
        var n, r, i, o, a, u = zn.fromDom(e.selection.getStart(!0)),
            s = Pd(e);
        return e.selection.isCollapsed() && 0 === s.length ? $d(e, t, u) : (n = e, r = u, i = zn.fromDom(n.getBody()), o = n.selection.getRng(), 0 !== (a = Pd(n)).length ? Ld(n, a) : jd(n, i, o, r))
    }, Wd = function(e, t) {
        e.getDoc().execCommand(t, !1, null)
    }, Xd = function(e) {
        xc(e, !1) || dd(e, !1) || Jf(e, !1) || Vd(e) || nc(e, !1) || (Wd(e, "Delete"), kf(e))
    }, Kd = function(e) {
        xc(e, !0) || dd(e, !0) || Jf(e, !0) || Vd(e) || nc(e, !0) || Wd(e, "ForwardDelete")
    }, Yd = function(s) {
        return function(u, e) {
            return A.from(e).map(zn.fromDom).filter(Zn.isElement).bind(function(e) {
                return (r = s, i = u, o = e.dom(), a = function(e) {
                    return xr(e, r)
                }, sf.closest(zn.fromDom(o), function(e) {
                    return a(e).isSome()
                }, function(e) {
                    return Ir.eq(zn.fromDom(i), e)
                }).bind(a)).or((t = s, n = e.dom(), A.from(vo.DOM.getStyle(n, t, !0))));
                var t, n, r, i, o, a
            }).getOr("")
        }
    }, Gd = {
        getFontSize: Yd("font-size"),
        getFontFamily: z.compose(function(e) {
            return e.replace(/[\'\"\\]/g, "").replace(/,\s+/g, ",")
        }, Yd("font-family")),
        toPt: function(e, t) {
            return /[0-9.]+px$/.test(e) ? (n = 72 * parseInt(e, 10) / 96, r = t || 0, i = Math.pow(10, r), Math.round(n * i) / i + "pt") : e;
            var n, r, i
        }
    }, Qd = function(e) {
        return Ja.firstPositionIn(e.getBody()).map(function(e) {
            var t = e.container();
            return Oi.isText(t) ? t.parentNode : t
        })
    }, Jd = function(i) {
        return A.from(i.selection.getRng()).bind(function(e) {
            var t, n, r = i.getBody();
            return n = r, (t = e).startContainer === n && 0 === t.startOffset ? A.none() : A.from(i.selection.getStart(!0))
        })
    }, Zd = function(e, t) {
        if (/^[0-9\.]+$/.test(t)) {
            var n = parseInt(t, 10);
            if (1 <= n && n <= 7) {
                var r = Mu(e),
                    i = qu(e);
                return i ? i[n - 1] || t : r[n - 1] || t
            }
            return t
        }
        return t
    }, ep = function(e, t) {
        return e && t && e.startContainer === t.startContainer && e.startOffset === t.startOffset && e.endContainer === t.endContainer && e.endOffset === t.endOffset
    }, tp = function(e, t, n) {
        return null !== function(e, t, n) {
            for (; e && e !== t;) {
                if (n(e)) return e;
                e = e.parentNode
            }
            return null
        }(e, t, n)
    }, np = function(e, t, n) {
        return tp(e, t, function(e) {
            return e.nodeName === n
        })
    }, rp = function(e) {
        return e && "TABLE" === e.nodeName
    }, ip = function(e, t, n) {
        for (var r = new ai(t, e.getParent(t.parentNode, e.isBlock) || e.getRoot()); t = r[n ? "prev" : "next"]();)
            if (Oi.isBr(t)) return !0
    }, op = function(e, t, n, r, i) {
        var o, a, u, s, l, f, c = e.getRoot(),
            d = e.schema.getNonEmptyElements();
        if (u = e.getParent(i.parentNode, e.isBlock) || c, r && Oi.isBr(i) && t && e.isEmpty(u)) return A.some(Oa(i.parentNode, e.nodeIndex(i)));
        for (o = new ai(i, u); s = o[r ? "prev" : "next"]();) {
            if ("false" === e.getContentEditableParent(s) || (f = c, Po(l = s) && !1 === tp(l, f, Nl))) return A.none();
            if (Oi.isText(s) && 0 < s.nodeValue.length) return !1 === np(s, c, "A") ? A.some(Oa(s, r ? s.nodeValue.length : 0)) : A.none();
            if (e.isBlock(s) || d[s.nodeName.toLowerCase()]) return A.none();
            a = s
        }
        return n && a ? A.some(Oa(a, 0)) : A.none()
    }, ap = function(e, t, n, r) {
        var i, o, a, u, s, l, f, c, d, p, h = e.getRoot(),
            m = !1;
        if (i = r[(n ? "start" : "end") + "Container"], o = r[(n ? "start" : "end") + "Offset"], f = Oi.isElement(i) && o === i.childNodes.length, s = e.schema.getNonEmptyElements(), l = n, Po(i)) return A.none();
        if (Oi.isElement(i) && o > i.childNodes.length - 1 && (l = !1), Oi.isDocument(i) && (i = h, o = 0), i === h) {
            if (l && (u = i.childNodes[0 < o ? o - 1 : 0])) {
                if (Po(u)) return A.none();
                if (s[u.nodeName] || rp(u)) return A.none()
            }
            if (i.hasChildNodes()) {
                if (o = Math.min(!l && 0 < o ? o - 1 : o, i.childNodes.length - 1), i = i.childNodes[o], o = Oi.isText(i) && f ? i.data.length : 0, !t && i === h.lastChild && rp(i)) return A.none();
                if (function(e, t) {
                        for (; t && t !== e;) {
                            if (Oi.isContentEditableFalse(t)) return !0;
                            t = t.parentNode
                        }
                        return !1
                    }(h, i) || Po(i)) return A.none();
                if (i.hasChildNodes() && !1 === rp(i)) {
                    a = new ai(u = i, h);
                    do {
                        if (Oi.isContentEditableFalse(u) || Po(u)) {
                            m = !1;
                            break
                        }
                        if (Oi.isText(u) && 0 < u.nodeValue.length) {
                            o = l ? 0 : u.nodeValue.length, i = u, m = !0;
                            break
                        }
                        if (s[u.nodeName.toLowerCase()] && (!(c = u) || !/^(TD|TH|CAPTION)$/.test(c.nodeName))) {
                            o = e.nodeIndex(u), i = u.parentNode, l || o++, m = !0;
                            break
                        }
                    } while (u = l ? a.next() : a.prev())
                }
            }
        }
        return t && (Oi.isText(i) && 0 === o && op(e, f, t, !0, i).each(function(e) {
            i = e.container(), o = e.offset(), m = !0
        }), Oi.isElement(i) && ((u = i.childNodes[o]) || (u = i.childNodes[o - 1]), !u || !Oi.isBr(u) || (p = "A", (d = u).previousSibling && d.previousSibling.nodeName === p) || ip(e, u, !1) || ip(e, u, !0) || op(e, f, t, !0, u).each(function(e) {
            i = e.container(), o = e.offset(), m = !0
        }))), l && !t && Oi.isText(i) && o === i.nodeValue.length && op(e, f, t, !1, i).each(function(e) {
            i = e.container(), o = e.offset(), m = !0
        }), m ? A.some(Oa(i, o)) : A.none()
    }, up = function(e, t) {
        var n = t.collapsed,
            r = t.cloneRange(),
            i = Oa.fromRangeStart(t);
        return ap(e, n, !0, r).each(function(e) {
            n && Oa.isAbove(i, e) || r.setStart(e.container(), e.offset())
        }), n || ap(e, n, !1, r).each(function(e) {
            r.setEnd(e.container(), e.offset())
        }), n && r.collapse(!0), ep(t, r) ? A.none() : A.some(r)
    }, sp = function(e, t, n) {
        var r = e.create("span", {}, "&nbsp;");
        n.parentNode.insertBefore(r, n), t.scrollIntoView(r), e.remove(r)
    }, lp = function(e, t, n, r) {
        var i = e.createRng();
        r ? (i.setStartBefore(n), i.setEndBefore(n)) : (i.setStartAfter(n), i.setEndAfter(n)), t.setRng(i)
    }, fp = function(e, t) {
        var n, r, i = e.selection,
            o = e.dom,
            a = i.getRng();
        up(o, a).each(function(e) {
            a.setStart(e.startContainer, e.startOffset), a.setEnd(e.endContainer, e.endOffset)
        });
        var u = a.startOffset,
            s = a.startContainer;
        if (1 === s.nodeType && s.hasChildNodes()) {
            var l = u > s.childNodes.length - 1;
            s = s.childNodes[Math.min(u, s.childNodes.length - 1)] || s, u = l && 3 === s.nodeType ? s.nodeValue.length : 0
        }
        var f = o.getParent(s, o.isBlock),
            c = f ? o.getParent(f.parentNode, o.isBlock) : null,
            d = c ? c.nodeName.toUpperCase() : "",
            p = t && t.ctrlKey;
        "LI" !== d || p || (f = c), s && 3 === s.nodeType && u >= s.nodeValue.length && (function(e, t, n) {
            for (var r, i = new ai(t, n), o = e.getNonEmptyElements(); r = i.next();)
                if (o[r.nodeName.toLowerCase()] || 0 < r.length) return !0
        }(e.schema, s, f) || (n = o.create("br"), a.insertNode(n), a.setStartAfter(n), a.setEndAfter(n), r = !0)), n = o.create("br"), a.insertNode(n), sp(o, i, n), lp(o, i, n, r), e.undoManager.add()
    }, cp = function(e, t) {
        var n = zn.fromTag("br");
        Uu.before(zn.fromDom(t), n), e.undoManager.add()
    }, dp = function(e, t) {
        pp(e.getBody(), t) || Uu.after(zn.fromDom(t), zn.fromTag("br"));
        var n = zn.fromTag("br");
        Uu.after(zn.fromDom(t), n), sp(e.dom, e.selection, n.dom()), lp(e.dom, e.selection, n.dom(), !1), e.undoManager.add()
    }, pp = function(e, t) {
        return n = Pa.after(t), !!Oi.isBr(n.getNode()) || Ja.nextPosition(e, Pa.after(t)).map(function(e) {
            return Oi.isBr(e.getNode())
        }).getOr(!1);
        var n
    }, hp = function(e) {
        return e && "A" === e.nodeName && "href" in e
    }, mp = function(e) {
        return e.fold(z.constant(!1), hp, hp, z.constant(!1))
    }, gp = function(e, t) {
        t.fold(z.noop, z.curry(cp, e), z.curry(dp, e), z.noop)
    }, vp = function(e, t) {
        var n, r, i, o = (n = e, r = z.curry(Cf.isInlineTarget, n), i = Pa.fromRangeStart(n.selection.getRng()), Gc(r, n.getBody(), i).filter(mp));
        o.isSome() ? o.each(z.curry(gp, e)) : fp(e, t)
    }, yp = rc([{
        before: ["element"]
    }, {
        on: ["element", "offset"]
    }, {
        after: ["element"]
    }]), bp = (yp.before, yp.on, yp.after, function(e) {
        return e.fold(z.identity, z.identity, z.identity)
    }), xp = rc([{
        domRange: ["rng"]
    }, {
        relative: ["startSitu", "finishSitu"]
    }, {
        exact: ["start", "soffset", "finish", "foffset"]
    }]), wp = Nr.immutable("start", "soffset", "finish", "foffset"), Cp = {
        domRange: xp.domRange,
        relative: xp.relative,
        exact: xp.exact,
        exactFromRange: function(e) {
            return xp.exact(e.start(), e.soffset(), e.finish(), e.foffset())
        },
        range: wp,
        getWin: function(e) {
            var t = e.match({
                domRange: function(e) {
                    return zn.fromDom(e.startContainer)
                },
                relative: function(e, t) {
                    return bp(e)
                },
                exact: function(e, t, n, r) {
                    return e
                }
            });
            return Vr.defaultView(t)
        }
    }, Ep = qn.detect().browser, kp = function(e, t) {
        var n = Zn.isText(t) ? Vl(t).length : Vr.children(t).length + 1;
        return n < e ? n : e < 0 ? 0 : e
    }, Sp = function(e) {
        return Cp.range(e.start(), kp(e.soffset(), e.start()), e.finish(), kp(e.foffset(), e.finish()))
    }, Np = function(e, t) {
        return Ir.contains(e, t) || Ir.eq(e, t)
    }, Tp = function(t) {
        return function(e) {
            return Np(t, e.start()) && Np(t, e.finish())
        }
    }, Ap = function(e) {
        return !0 === e.inline || Ep.isIE()
    }, Dp = function(e) {
        return Cp.range(zn.fromDom(e.startContainer), e.startOffset, zn.fromDom(e.endContainer), e.endOffset)
    }, _p = function(e) {
        var t = e.getSelection();
        return (t && 0 !== t.rangeCount ? A.from(t.getRangeAt(0)) : A.none()).map(Dp)
    }, Rp = function(e) {
        var t = Vr.defaultView(e);
        return _p(t.dom()).filter(Tp(e))
    }, Op = function(e, t) {
        return A.from(t).filter(Tp(e)).map(Sp)
    }, Fp = function(e) {
        var t = document.createRange();
        try {
            return t.setStart(e.start().dom(), e.soffset()), t.setEnd(e.finish().dom(), e.foffset()), A.some(t)
        } catch (e) {
            return A.none()
        }
    }, Bp = function(e) {
        return (e.bookmark ? e.bookmark : A.none()).bind(z.curry(Op, zn.fromDom(e.getBody()))).bind(Fp)
    }, Pp = function(e) {
        var t = Ap(e) ? Rp(zn.fromDom(e.getBody())) : A.none();
        e.bookmark = t.isSome() ? t : e.bookmark
    }, Lp = function(t) {
        Bp(t).each(function(e) {
            t.selection.setRng(e)
        })
    }, Ip = Bp, jp = function(e, t) {
        var n = e.settings,
            r = e.dom,
            i = e.selection,
            o = e.formatter,
            a = /[a-z%]+$/i.exec(n.indentation)[0],
            u = parseInt(n.indentation, 10),
            s = e.getParam("indent_use_margin", !1);
        e.queryCommandState("InsertUnorderedList") || e.queryCommandState("InsertOrderedList") || (n.forced_root_block || r.getParent(i.getNode(), r.isBlock) || o.apply("div"), U.each(i.getSelectedBlocks(), function(e) {
            return function(e, t, n, r, i, o) {
                if ("false" !== e.getContentEditable(o) && "LI" !== o.nodeName) {
                    var a = n ? "margin" : "padding";
                    if (a = "TABLE" === o.nodeName ? "margin" : a, a += "rtl" === e.getStyle(o, "direction", !0) ? "Right" : "Left", "outdent" === t) {
                        var u = Math.max(0, parseInt(o.style[a] || 0, 10) - r);
                        e.setStyle(o, a, u ? u + i : "")
                    } else u = parseInt(o.style[a] || 0, 10) + r + i, e.setStyle(o, a, u)
                }
            }(r, t, s, u, a, e)
        }))
    }, Mp = Lt.each, qp = Lt.extend, Hp = Lt.map, zp = Lt.inArray;

    function Up(u) {
        var i, o, a, t, s = {
                state: {},
                exec: {},
                value: {}
            },
            n = u.settings;
        u.on("PreInit", function() {
            i = u.dom, o = u.selection, n = u.settings, a = u.formatter
        });
        var r = function(e) {
                var t;
                if (!u.quirks.isHidden() && !u.removed) {
                    if (e = e.toLowerCase(), t = s.state[e]) return t(e);
                    try {
                        return u.getDoc().queryCommandState(e)
                    } catch (e) {}
                    return !1
                }
            },
            e = function(e, n) {
                n = n || "exec", Mp(e, function(t, e) {
                    Mp(e.toLowerCase().split(","), function(e) {
                        s[n][e] = t
                    })
                })
            },
            l = function(e, t, n) {
                e = e.toLowerCase(), s.value[e] = function() {
                    return t.call(n || u)
                }
            };
        qp(this, {
            execCommand: function(t, n, r, e) {
                var i, o, a = !1;
                if (!u.removed) {
                    if (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t) || e && e.skip_focus ? Lp(u) : u.focus(), (e = u.fire("BeforeExecCommand", {
                            command: t,
                            ui: n,
                            value: r
                        })).isDefaultPrevented()) return !1;
                    if (o = t.toLowerCase(), i = s.exec[o]) return i(o, n, r), u.fire("ExecCommand", {
                        command: t,
                        ui: n,
                        value: r
                    }), !0;
                    if (Mp(u.plugins, function(e) {
                            if (e.execCommand && e.execCommand(t, n, r)) return u.fire("ExecCommand", {
                                command: t,
                                ui: n,
                                value: r
                            }), !(a = !0)
                        }), a) return a;
                    if (u.theme && u.theme.execCommand && u.theme.execCommand(t, n, r)) return u.fire("ExecCommand", {
                        command: t,
                        ui: n,
                        value: r
                    }), !0;
                    try {
                        a = u.getDoc().execCommand(t, n, r)
                    } catch (e) {}
                    return !!a && (u.fire("ExecCommand", {
                        command: t,
                        ui: n,
                        value: r
                    }), !0)
                }
            },
            queryCommandState: r,
            queryCommandValue: function(e) {
                var t;
                if (!u.quirks.isHidden() && !u.removed) {
                    if (e = e.toLowerCase(), t = s.value[e]) return t(e);
                    try {
                        return u.getDoc().queryCommandValue(e)
                    } catch (e) {}
                }
            },
            queryCommandSupported: function(e) {
                if (e = e.toLowerCase(), s.exec[e]) return !0;
                try {
                    return u.getDoc().queryCommandSupported(e)
                } catch (e) {}
                return !1
            },
            addCommands: e,
            addCommand: function(e, i, o) {
                e = e.toLowerCase(), s.exec[e] = function(e, t, n, r) {
                    return i.call(o || u, t, n, r)
                }
            },
            addQueryStateHandler: function(e, t, n) {
                e = e.toLowerCase(), s.state[e] = function() {
                    return t.call(n || u)
                }
            },
            addQueryValueHandler: l,
            hasCustomCommand: function(e) {
                return e = e.toLowerCase(), !!s.exec[e]
            }
        });
        var f = function(e, t, n) {
                return t === undefined && (t = !1), n === undefined && (n = null), u.getDoc().execCommand(e, t, n)
            },
            c = function(e) {
                return a.match(e)
            },
            d = function(e, t) {
                a.toggle(e, t ? {
                    value: t
                } : undefined), u.nodeChanged()
            },
            p = function(e) {
                t = o.getBookmark(e)
            },
            h = function() {
                o.moveToBookmark(t)
            };
        e({
            "mceResetDesignMode,mceBeginUndoLevel": function() {},
            "mceEndUndoLevel,mceAddUndoLevel": function() {
                u.undoManager.add()
            },
            "Cut,Copy,Paste": function(e) {
                var t, n = u.getDoc();
                try {
                    f(e)
                } catch (e) {
                    t = !0
                }
                if ("paste" !== e || n.queryCommandEnabled(e) || (t = !0), t || !n.queryCommandSupported(e)) {
                    var r = u.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");
                    ve.mac && (r = r.replace(/Ctrl\+/g, "â+")), u.notificationManager.open({
                        text: r,
                        type: "error"
                    })
                }
            },
            unlink: function() {
                if (o.isCollapsed()) {
                    var e = u.dom.getParent(u.selection.getStart(), "a");
                    e && u.dom.remove(e, !0)
                } else a.remove("link")
            },
            "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone": function(e) {
                var t = e.substring(7);
                "full" === t && (t = "justify"), Mp("left,center,right,justify".split(","), function(e) {
                    t !== e && a.remove("align" + e)
                }), "none" !== t && d("align" + t)
            },
            "InsertUnorderedList,InsertOrderedList": function(e) {
                var t, n;
                f(e), (t = i.getParent(o.getNode(), "ol,ul")) && (n = t.parentNode, /^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName) && (p(), i.split(n, t), h()))
            },
            "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(e) {
                d(e)
            },
            "ForeColor,HiliteColor": function(e, t, n) {
                d(e, n)
            },
            FontName: function(e, t, n) {
                var r, i;
                i = n, (r = u).formatter.toggle("fontname", {
                    value: Zd(r, i)
                }), r.nodeChanged()
            },
            FontSize: function(e, t, n) {
                var r, i;
                i = n, (r = u).formatter.toggle("fontsize", {
                    value: Zd(r, i)
                }), r.nodeChanged()
            },
            RemoveFormat: function(e) {
                a.remove(e)
            },
            mceBlockQuote: function() {
                d("blockquote")
            },
            FormatBlock: function(e, t, n) {
                return d(n || "p")
            },
            mceCleanup: function() {
                var e = o.getBookmark();
                u.setContent(u.getContent()), o.moveToBookmark(e)
            },
            mceRemoveNode: function(e, t, n) {
                var r = n || o.getNode();
                r !== u.getBody() && (p(), u.dom.remove(r, !0), h())
            },
            mceSelectNodeDepth: function(e, t, n) {
                var r = 0;
                i.getParent(o.getNode(), function(e) {
                    if (1 === e.nodeType && r++ === n) return o.select(e), !1
                }, u.getBody())
            },
            mceSelectNode: function(e, t, n) {
                o.select(n)
            },
            mceInsertContent: function(e, t, n) {
                nf(u, n)
            },
            mceInsertRawHTML: function(e, t, n) {
                var r = u.getContent();
                o.setContent("tiny_mce_marker"), u.setContent(r.replace(/tiny_mce_marker/g, function() {
                    return n
                }))
            },
            mceToggleFormat: function(e, t, n) {
                d(n)
            },
            mceSetContent: function(e, t, n) {
                u.setContent(n)
            },
            "Indent,Outdent": function(e) {
                jp(u, e)
            },
            mceRepaint: function() {},
            InsertHorizontalRule: function() {
                u.execCommand("mceInsertContent", !1, "<hr />")
            },
            mceToggleVisualAid: function() {
                u.hasVisual = !u.hasVisual, u.addVisual()
            },
            mceReplaceContent: function(e, t, n) {
                u.execCommand("mceInsertContent", !1, n.replace(/\{\$selection\}/g, o.getContent({
                    format: "text"
                })))
            },
            mceInsertLink: function(e, t, n) {
                var r;
                "string" == typeof n && (n = {
                    href: n
                }), r = i.getParent(o.getNode(), "a"), n.href = n.href.replace(" ", "%20"), r && n.href || a.remove("link"), n.href && a.apply("link", n, r)
            },
            selectAll: function() {
                var e = i.getParent(o.getStart(), Oi.isContentEditableTrue);
                if (e) {
                    var t = i.createRng();
                    t.selectNodeContents(e), o.setRng(t)
                }
            },
            delete: function() {
                Xd(u)
            },
            forwardDelete: function() {
                Kd(u)
            },
            mceNewDocument: function() {
                u.setContent("")
            },
            InsertLineBreak: function(e, t, n) {
                return vp(u, n), !0
            }
        });
        var m = function(n) {
            return function() {
                var e = o.isCollapsed() ? [i.getParent(o.getNode(), i.isBlock)] : o.getSelectedBlocks(),
                    t = Hp(e, function(e) {
                        return !!a.matchNode(e, n)
                    });
                return -1 !== zp(t, !0)
            }
        };
        e({
            JustifyLeft: m("alignleft"),
            JustifyCenter: m("aligncenter"),
            JustifyRight: m("alignright"),
            JustifyFull: m("alignjustify"),
            "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(e) {
                return c(e)
            },
            mceBlockQuote: function() {
                return c("blockquote")
            },
            Outdent: function() {
                var e;
                if (n.inline_styles) {
                    if ((e = i.getParent(o.getStart(), i.isBlock)) && 0 < parseInt(e.style.paddingLeft, 10)) return !0;
                    if ((e = i.getParent(o.getEnd(), i.isBlock)) && 0 < parseInt(e.style.paddingLeft, 10)) return !0
                }
                return r("InsertUnorderedList") || r("InsertOrderedList") || !n.inline_styles && !!i.getParent(o.getNode(), "BLOCKQUOTE")
            },
            "InsertUnorderedList,InsertOrderedList": function(e) {
                var t = i.getParent(o.getNode(), "ul,ol");
                return t && ("insertunorderedlist" === e && "UL" === t.tagName || "insertorderedlist" === e && "OL" === t.tagName)
            }
        }, "state"), e({
            Undo: function() {
                u.undoManager.undo()
            },
            Redo: function() {
                u.undoManager.redo()
            }
        }), l("FontName", function() {
            return Jd(t = u).fold(function() {
                return Qd(t).map(function(e) {
                    return Gd.getFontFamily(t.getBody(), e)
                }).getOr("")
            }, function(e) {
                return Gd.getFontFamily(t.getBody(), e)
            });
            var t
        }, this), l("FontSize", function() {
            return Jd(t = u).fold(function() {
                return Qd(t).map(function(e) {
                    return Gd.getFontSize(t.getBody(), e)
                }).getOr("")
            }, function(e) {
                return Gd.getFontSize(t.getBody(), e)
            });
            var t
        }, this)
    }
    var $p = Lt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend", " "),
        Vp = function(a) {
            var u, s, l = this,
                f = {},
                c = function() {
                    return !1
                },
                d = function() {
                    return !0
                };
            u = (a = a || {}).scope || l, s = a.toggleEvent || c;
            var r = function(e, t, n, r) {
                    var i, o, a;
                    if (!1 === t && (t = c), t)
                        for (t = {
                                func: t
                            }, r && Lt.extend(t, r), a = (o = e.toLowerCase().split(" ")).length; a--;) e = o[a], (i = f[e]) || (i = f[e] = [], s(e, !0)), n ? i.unshift(t) : i.push(t);
                    return l
                },
                p = function(e, t) {
                    var n, r, i, o, a;
                    if (e)
                        for (n = (o = e.toLowerCase().split(" ")).length; n--;) {
                            if (e = o[n], r = f[e], !e) {
                                for (i in f) s(i, !1), delete f[i];
                                return l
                            }
                            if (r) {
                                if (t)
                                    for (a = r.length; a--;) r[a].func === t && (r = r.slice(0, a).concat(r.slice(a + 1)), f[e] = r);
                                else r.length = 0;
                                r.length || (s(e, !1), delete f[e])
                            }
                        } else {
                            for (e in f) s(e, !1);
                            f = {}
                        }
                    return l
                };
            l.fire = function(e, t) {
                var n, r, i, o;
                if (e = e.toLowerCase(), (t = t || {}).type = e, t.target || (t.target = u), t.preventDefault || (t.preventDefault = function() {
                        t.isDefaultPrevented = d
                    }, t.stopPropagation = function() {
                        t.isPropagationStopped = d
                    }, t.stopImmediatePropagation = function() {
                        t.isImmediatePropagationStopped = d
                    }, t.isDefaultPrevented = c, t.isPropagationStopped = c, t.isImmediatePropagationStopped = c), a.beforeFire && a.beforeFire(t), n = f[e])
                    for (r = 0, i = n.length; r < i; r++) {
                        if ((o = n[r]).once && p(e, o.func), t.isImmediatePropagationStopped()) return t.stopPropagation(), t;
                        if (!1 === o.func.call(u, t)) return t.preventDefault(), t
                    }
                return t
            }, l.on = r, l.off = p, l.once = function(e, t, n) {
                return r(e, t, n, {
                    once: !0
                })
            }, l.has = function(e) {
                return e = e.toLowerCase(), !(!f[e] || 0 === f[e].length)
            }
        };
    Vp.isNative = function(e) {
        return !!$p[e.toLowerCase()]
    };
    var Wp, Xp = function(n) {
            return n._eventDispatcher || (n._eventDispatcher = new Vp({
                scope: n,
                toggleEvent: function(e, t) {
                    Vp.isNative(e) && n.toggleNativeEvent && n.toggleNativeEvent(e, t)
                }
            })), n._eventDispatcher
        },
        Kp = {
            fire: function(e, t, n) {
                if (this.removed && "remove" !== e) return t;
                if (t = Xp(this).fire(e, t, n), !1 !== n && this.parent)
                    for (var r = this.parent(); r && !t.isPropagationStopped();) r.fire(e, t, !1), r = r.parent();
                return t
            },
            on: function(e, t, n) {
                return Xp(this).on(e, t, n)
            },
            off: function(e, t) {
                return Xp(this).off(e, t)
            },
            once: function(e, t) {
                return Xp(this).once(e, t)
            },
            hasEventListeners: function(e) {
                return Xp(this).has(e)
            }
        },
        Yp = function(e, t) {
            var n = fr.get(e, t);
            return n === undefined || "" === n ? [] : n.split(" ")
        },
        Gp = Yp,
        Qp = function(e, t, n) {
            var r = Yp(e, t).concat([n]);
            fr.set(e, t, r.join(" "))
        },
        Jp = function(e, t, n) {
            var r = U.filter(Yp(e, t), function(e) {
                return e !== n
            });
            0 < r.length ? fr.set(e, t, r.join(" ")) : fr.remove(e, t)
        },
        Zp = function(e) {
            return Gp(e, "class")
        },
        eh = function(e, t) {
            return Qp(e, "class", t)
        },
        th = function(e, t) {
            return Jp(e, "class", t)
        },
        nh = Zp,
        rh = eh,
        ih = th,
        oh = function(e, t) {
            U.contains(Zp(e), t) ? th(e, t) : eh(e, t)
        },
        ah = function(e) {
            return e.dom().classList !== undefined
        },
        uh = function(e, t) {
            return ah(e) && e.dom().classList.contains(t)
        },
        sh = {
            add: function(e, t) {
                ah(e) ? e.dom().classList.add(t) : rh(e, t)
            },
            remove: function(e, t) {
                var n;
                ah(e) ? e.dom().classList.remove(t) : ih(e, t), 0 === (ah(n = e) ? n.dom().classList : nh(n)).length && fr.remove(n, "class")
            },
            toggle: function(e, t) {
                return ah(e) ? e.dom().classList.toggle(t) : oh(e, t)
            },
            toggler: function(e, t) {
                var n, r, i, o, a, u, s = ah(e),
                    l = e.dom().classList;
                return n = function() {
                    s ? l.remove(t) : ih(e, t)
                }, r = function() {
                    s ? l.add(t) : rh(e, t)
                }, i = uh(e, t), o = i || !1, {
                    on: a = function() {
                        r(), o = !0
                    },
                    off: u = function() {
                        n(), o = !1
                    },
                    toggle: function() {
                        (o ? u : a)()
                    },
                    isOn: function() {
                        return o
                    }
                }
            },
            has: uh
        },
        lh = function(e, t) {
            return e.fire("PreProcess", t)
        },
        fh = function(e, t) {
            return e.fire("PostProcess", t)
        },
        ch = function(e) {
            return e.fire("remove")
        },
        dh = function(e, t) {
            return e.fire("SwitchMode", {
                mode: t
            })
        },
        ph = function(e, t, n, r) {
            e.fire("ObjectResizeStart", {
                target: t,
                width: n,
                height: r
            })
        },
        hh = function(e, t, n, r) {
            e.fire("ObjectResized", {
                target: t,
                width: n,
                height: r
            })
        },
        mh = function(e, t, n) {
            try {
                e.getDoc().execCommand(t, !1, n)
            } catch (e) {}
        },
        gh = function(e, t) {
            var n, r, i;
            n = zn.fromDom(e.getBody()), r = "mce-content-readonly", i = t, sh.has(n, r) && !1 === i ? sh.remove(n, r) : i && sh.add(n, r), t ? (e.selection.controlSelection.hideResizeRect(), e.readonly = !0, e.getBody().contentEditable = "false") : (e.readonly = !1, e.getBody().contentEditable = "true", mh(e, "StyleWithCSS", !1), mh(e, "enableInlineTableEditing", !1), mh(e, "enableObjectResizing", !1), e.focus(), e.nodeChanged())
        },
        vh = function(e) {
            return e.readonly ? "readonly" : "design"
        },
        yh = vo.DOM,
        bh = function(e, t) {
            return "selectionchange" === t ? e.getDoc() : !e.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t) ? e.getDoc().documentElement : e.settings.event_root ? (e.eventRoot || (e.eventRoot = yh.select(e.settings.event_root)[0]), e.eventRoot) : e.getBody()
        },
        xh = function(e, t, n) {
            var r;
            (r = e).hidden || r.readonly ? !0 === e.readonly && n.preventDefault() : e.fire(t, n)
        },
        wh = function(o, a) {
            var e, t;
            if (o.delegates || (o.delegates = {}), !o.delegates[a] && !o.removed)
                if (e = bh(o, a), o.settings.event_root) {
                    if (Wp || (Wp = {}, o.editorManager.on("removeEditor", function() {
                            var e;
                            if (!o.editorManager.activeEditor && Wp) {
                                for (e in Wp) o.dom.unbind(bh(o, e));
                                Wp = null
                            }
                        })), Wp[a]) return;
                    t = function(e) {
                        for (var t = e.target, n = o.editorManager.get(), r = n.length; r--;) {
                            var i = n[r].getBody();
                            (i === t || yh.isChildOf(t, i)) && xh(n[r], a, e)
                        }
                    }, Wp[a] = t, yh.bind(e, a, t)
                } else t = function(e) {
                    xh(o, a, e)
                }, yh.bind(e, a, t), o.delegates[a] = t
        },
        Ch = {
            bindPendingEventDelegates: function() {
                var t = this;
                Lt.each(t._pendingNativeEvents, function(e) {
                    wh(t, e)
                })
            },
            toggleNativeEvent: function(e, t) {
                var n = this;
                "focus" !== e && "blur" !== e && (t ? n.initialized ? wh(n, e) : n._pendingNativeEvents ? n._pendingNativeEvents.push(e) : n._pendingNativeEvents = [e] : n.initialized && (n.dom.unbind(bh(n, e), e, n.delegates[e]), delete n.delegates[e]))
            },
            unbindAllNativeEvents: function() {
                var e, t = this,
                    n = t.getBody(),
                    r = t.dom;
                if (t.delegates) {
                    for (e in t.delegates) t.dom.unbind(bh(t, e), e, t.delegates[e]);
                    delete t.delegates
                }!t.inline && n && r && (n.onload = null, r.unbind(t.getWin()), r.unbind(t.getDoc())), r && (r.unbind(n), r.unbind(t.getContainer()))
            }
        },
        Eh = Ch = Lt.extend({}, Kp, Ch),
        kh = Lt.each,
        Sh = Lt.explode,
        Nh = {
            f9: 120,
            f10: 121,
            f11: 122
        },
        Th = Lt.makeMap("alt,ctrl,shift,meta,access");

    function Ah(o) {
        var a = {},
            r = [],
            u = function(e) {
                var t, n, r = {};
                for (n in kh(Sh(e, "+"), function(e) {
                        e in Th ? r[e] = !0 : /^[0-9]{2,}$/.test(e) ? r.keyCode = parseInt(e, 10) : (r.charCode = e.charCodeAt(0), r.keyCode = Nh[e] || e.toUpperCase().charCodeAt(0))
                    }), t = [r.keyCode], Th) r[n] ? t.push(n) : r[n] = !1;
                return r.id = t.join(","), r.access && (r.alt = !0, ve.mac ? r.ctrl = !0 : r.shift = !0), r.meta && (ve.mac ? r.meta = !0 : (r.ctrl = !0, r.meta = !1)), r
            },
            s = function(e, t, n, r) {
                var i;
                return (i = Lt.map(Sh(e, ">"), u))[i.length - 1] = Lt.extend(i[i.length - 1], {
                    func: n,
                    scope: r || o
                }), Lt.extend(i[0], {
                    desc: o.translate(t),
                    subpatterns: i.slice(1)
                })
            },
            i = function(e, t) {
                return !!t && t.ctrl === e.ctrlKey && t.meta === e.metaKey && t.alt === e.altKey && t.shift === e.shiftKey && !!(e.keyCode === t.keyCode || e.charCode && e.charCode === t.charCode) && (e.preventDefault(), !0)
            },
            l = function(e) {
                return e.func ? e.func.call(e.scope) : null
            };
        o.on("keyup keypress keydown", function(t) {
            var e, n;
            ((n = t).altKey || n.ctrlKey || n.metaKey || "keydown" === (e = t).type && 112 <= e.keyCode && e.keyCode <= 123) && !t.isDefaultPrevented() && (kh(a, function(e) {
                if (i(t, e)) return r = e.subpatterns.slice(0), "keydown" === t.type && l(e), !0
            }), i(t, r[0]) && (1 === r.length && "keydown" === t.type && l(r[0]), r.shift()))
        }), this.add = function(e, n, r, i) {
            var t;
            return "string" == typeof(t = r) ? r = function() {
                o.execCommand(t, !1, null)
            } : Lt.isArray(t) && (r = function() {
                o.execCommand(t[0], t[1], t[2])
            }), kh(Sh(Lt.trim(e.toLowerCase())), function(e) {
                var t = s(e, n, r, i);
                a[t.id] = t
            }), !0
        }, this.remove = function(e) {
            var t = s(e);
            return !!a[t.id] && (delete a[t.id], !0)
        }
    }
    var Dh = function(e) {
            var t = e !== undefined ? e.dom() : document;
            return A.from(t.activeElement).map(zn.fromDom)
        },
        _h = function(e) {
            var t = Vr.owner(e).dom();
            return e.dom() === t.activeElement
        },
        Rh = function(t) {
            return Dh(Vr.owner(t)).filter(function(e) {
                return t.dom().contains(e.dom())
            })
        },
        Oh = function(t, e) {
            return (n = e, n.collapsed ? A.from(ua(n.startContainer, n.startOffset)).map(zn.fromDom) : A.none()).bind(function(e) {
                return bi(e) ? A.some(e) : !1 === Ir.contains(t, e) ? A.some(t) : A.none()
            });
            var n
        },
        Fh = function(t, e) {
            Oh(zn.fromDom(t.getBody()), e).bind(function(e) {
                return Ja.firstPositionIn(e.dom())
            }).fold(function() {
                t.selection.normalize()
            }, function(e) {
                return t.selection.setRng(e.toRange())
            })
        },
        Bh = function(t) {
            if (t.setActive) try {
                t.setActive()
            } catch (e) {
                t.focus()
            } else t.focus()
        },
        Ph = function(e) {
            var t, n = e.getBody();
            return n && (t = zn.fromDom(n), _h(t) || Rh(t).isSome())
        },
        Lh = function(e) {
            return e.inline ? Ph(e) : (t = e).iframeElement && _h(zn.fromDom(t.iframeElement));
            var t
        },
        Ih = function(e) {
            return e.editorManager.setActive(e)
        },
        jh = function(e, t) {
            e.removed || (t ? Ih(e) : function(t) {
                var e = t.selection,
                    n = t.settings.content_editable,
                    r = t.getBody(),
                    i = e.getRng();
                t.quirks.refreshContentEditable();
                var o, a, u = (o = t, a = e.getNode(), o.dom.getParent(a, function(e) {
                    return "true" === o.dom.getContentEditable(e)
                }));
                if (t.$.contains(r, u)) return Bh(u), Fh(t, i), Ih(t);
                t.bookmark !== undefined && !1 === Lh(t) && Ip(t).each(function(e) {
                    t.selection.setRng(e), i = e
                }), n || (ve.opera || Bh(r), t.getWin().focus()), (ve.gecko || n) && (Bh(r), Fh(t, i)), Ih(t)
            }(e))
        },
        Mh = Lh,
        qh = function(e, t) {
            return t.dom()[e]
        },
        Hh = function(e, t) {
            return parseInt(br(t, e), 10)
        },
        zh = z.curry(qh, "clientWidth"),
        Uh = z.curry(qh, "clientHeight"),
        $h = z.curry(Hh, "margin-top"),
        Vh = z.curry(Hh, "margin-left"),
        Wh = function(e, t, n) {
            var r, i, o, a, u, s, l, f, c, d, p = zn.fromDom(e.getBody()),
                h = e.inline ? p : Vr.documentElement(p),
                m = (r = e.inline, o = t, a = n, u = (i = h).dom().getBoundingClientRect(), {
                    x: o - (r ? u.left + i.dom().clientLeft + Vh(i) : 0),
                    y: a - (r ? u.top + i.dom().clientTop + $h(i) : 0)
                });
            return l = m.x, f = m.y, c = zh(s = h), d = Uh(s), 0 <= l && 0 <= f && l <= c && f <= d
        },
        Xh = function(e) {
            var t, n = e.inline ? e.getBody() : e.getContentAreaContainer();
            return (t = n, A.from(t).map(zn.fromDom)).map(function(e) {
                return Ir.contains(Vr.owner(e), e)
            }).getOr(!1)
        };

    function Kh(n) {
        var t, i = [],
            o = function() {
                var e, t = n.theme;
                return t && t.getNotificationManagerImpl ? t.getNotificationManagerImpl() : {
                    open: e = function() {
                        throw new Error("Theme did not provide a NotificationManager implementation.")
                    },
                    close: e,
                    reposition: e,
                    getArgs: e
                }
            },
            a = function() {
                0 < i.length && o().reposition(i)
            },
            u = function(t) {
                U.findIndex(i, function(e) {
                    return e === t
                }).each(function(e) {
                    i.splice(e, 1)
                })
            },
            r = function(r) {
                if (!n.removed && Xh(n)) return U.find(i, function(e) {
                    return t = o().getArgs(e), n = r, !(t.type !== n.type || t.text !== n.text || t.progressBar || t.timeout || n.progressBar || n.timeout);
                    var t, n
                }).getOrThunk(function() {
                    n.editorManager.setActive(n);
                    var e, t = o().open(r, function() {
                        u(t), a()
                    });
                    return e = t, i.push(e), a(), t
                })
            };
        return (t = n).on("SkinLoaded", function() {
            var e = t.settings.service_message;
            e && r({
                text: e,
                type: "warning",
                timeout: 0,
                icon: ""
            })
        }), t.on("ResizeEditor ResizeWindow", function() {
            Ce.requestAnimationFrame(a)
        }), t.on("remove", function() {
            U.each(i, function(e) {
                o().close(e)
            })
        }), {
            open: r,
            close: function() {
                A.from(i[0]).each(function(e) {
                    o().close(e), u(e), a()
                })
            },
            getNotifications: function() {
                return i
            }
        }
    }

    function Yh(r) {
        var i = [],
            o = function() {
                var e, t = r.theme;
                return t && t.getWindowManagerImpl ? t.getWindowManagerImpl() : {
                    open: e = function() {
                        throw new Error("Theme did not provide a WindowManager implementation.")
                    },
                    alert: e,
                    confirm: e,
                    close: e,
                    getParams: e,
                    setParams: e
                }
            },
            a = function(e, t) {
                return function() {
                    return t ? t.apply(e, arguments) : undefined
                }
            },
            u = function(e) {
                var t;
                i.push(e), t = e, r.fire("OpenWindow", {
                    win: t
                })
            },
            s = function(n) {
                U.findIndex(i, function(e) {
                    return e === n
                }).each(function(e) {
                    var t;
                    i.splice(e, 1), t = n, r.fire("CloseWindow", {
                        win: t
                    }), 0 === i.length && r.focus()
                })
            },
            e = function() {
                return A.from(i[i.length - 1])
            };
        return r.on("remove", function() {
            U.each(i.slice(0), function(e) {
                o().close(e)
            })
        }), {
            windows: i,
            open: function(e, t) {
                r.editorManager.setActive(r), Pp(r);
                var n = o().open(e, t, s);
                return u(n), n
            },
            alert: function(e, t, n) {
                var r = o().alert(e, a(n || this, t), s);
                u(r)
            },
            confirm: function(e, t, n) {
                var r = o().confirm(e, a(n || this, t), s);
                u(r)
            },
            close: function() {
                e().each(function(e) {
                    o().close(e), s(e)
                })
            },
            getParams: function() {
                return e().map(o().getParams).getOr(null)
            },
            setParams: function(t) {
                e().each(function(e) {
                    o().setParams(e, t)
                })
            },
            getWindows: function() {
                return i
            }
        }
    }
    var Gh = So.PluginManager,
        Qh = function(e, t) {
            var n = function(e, t) {
                for (var n in Gh.urls)
                    if (Gh.urls[n] + "/plugin" + t + ".js" === e) return n;
                return null
            }(t, e.suffix);
            return n ? "Failed to load plugin: " + n + " from url " + t : "Failed to load plugin url: " + t
        },
        Jh = function(e, t) {
            e.notificationManager.open({
                type: "error",
                text: t
            })
        },
        Zh = function(e, t) {
            e._skinLoaded ? Jh(e, t) : e.on("SkinLoaded", function() {
                Jh(e, t)
            })
        },
        em = function(e, t) {
            Zh(e, Qh(e, t))
        },
        tm = function(e, t) {
            Zh(e, "Failed to upload image: " + t)
        },
        nm = Zh,
        rm = function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            var r = window.console;
            r && (r.error ? r.error.apply(r, arguments) : r.log.apply(r, arguments))
        },
        im = So.PluginManager,
        om = So.ThemeManager;

    function am() {
        return new(W.getOrDie("XMLHttpRequest"))
    }

    function um(u, s) {
        var r = {},
            n = function(e, r, i, t) {
                var o, n;
                (o = new am).open("POST", s.url), o.withCredentials = s.credentials, o.upload.onprogress = function(e) {
                    t(e.loaded / e.total * 100)
                }, o.onerror = function() {
                    i("Image upload failed due to a XHR Transport error. Code: " + o.status)
                }, o.onload = function() {
                    var e, t, n;
                    o.status < 200 || 300 <= o.status ? i("HTTP Error: " + o.status) : (e = JSON.parse(o.responseText)) && "string" == typeof e.location ? r((t = s.basePath, n = e.location, t ? t.replace(/\/$/, "") + "/" + n.replace(/^\//, "") : n)) : i("Invalid JSON: " + o.responseText)
                }, (n = new FormData).append("file", e.blob(), e.filename()), o.send(n)
            },
            l = function(e, t) {
                return {
                    url: t,
                    blobInfo: e,
                    status: !0
                }
            },
            f = function(e, t) {
                return {
                    url: "",
                    blobInfo: e,
                    status: !1,
                    error: t
                }
            },
            c = function(e, t) {
                Lt.each(r[e], function(e) {
                    e(t)
                }), delete r[e]
            },
            i = function(e, n) {
                return e = Lt.grep(e, function(e) {
                    return !u.isUploaded(e.blobUri())
                }), ye.all(Lt.map(e, function(e) {
                    return u.isPending(e.blobUri()) ? (t = e.blobUri(), new ye(function(e) {
                        r[t] = r[t] || [], r[t].push(e)
                    })) : (i = e, o = s.handler, a = n, u.markPending(i.blobUri()), new ye(function(t) {
                        var n;
                        try {
                            var r = function() {
                                n && n.close()
                            };
                            o(i, function(e) {
                                r(), u.markUploaded(i.blobUri(), e), c(i.blobUri(), l(i, e)), t(l(i, e))
                            }, function(e) {
                                r(), u.removeFailed(i.blobUri()), c(i.blobUri(), f(i, e)), t(f(i, e))
                            }, function(e) {
                                e < 0 || 100 < e || (n || (n = a()), n.progressBar.value(e))
                            })
                        } catch (e) {
                            t(f(i, e.message))
                        }
                    }));
                    var i, o, a, t
                }))
            };
        return s = Lt.extend({
            credentials: !1,
            handler: n
        }, s), {
            upload: function(e, t) {
                return s.url || s.handler !== n ? i(e, t) : new ye(function(e) {
                    e([])
                })
            }
        }
    }

    function sm(e, t) {
        return new(W.getOrDie("Blob"))(e, t)
    }

    function lm() {
        return new(W.getOrDie("FileReader"))
    }

    function fm(e) {
        return new(W.getOrDie("Uint8Array"))(e)
    }
    var cm = function(e) {
            return W.getOrDie("atob")(e)
        },
        dm = function(e) {
            var t, n;
            return e = decodeURIComponent(e).split(","), (n = /data:([^;]+)/.exec(e[0])) && (t = n[1]), {
                type: t,
                data: e[1]
            }
        },
        pm = function(e) {
            return 0 === e.indexOf("blob:") ? (i = e, new ye(function(e, t) {
                var n = function() {
                    t("Cannot convert " + i + " to Blob. Resource might not exist or is inaccessible.")
                };
                try {
                    var r = new am;
                    r.open("GET", i, !0), r.responseType = "blob", r.onload = function() {
                        200 === this.status ? e(this.response) : n()
                    }, r.onerror = n, r.send()
                } catch (e) {
                    n()
                }
            })) : 0 === e.indexOf("data:") ? (o = e, new ye(function(t) {
                var e, n, r;
                o = dm(o);
                try {
                    e = cm(o.data)
                } catch (e) {
                    return void t(new sm([]))
                }
                for (n = new fm(e.length), r = 0; r < n.length; r++) n[r] = e.charCodeAt(r);
                t(new sm([n], {
                    type: o.type
                }))
            })) : null;
            var i, o
        },
        hm = function(n) {
            return new ye(function(e) {
                var t = new lm;
                t.onloadend = function() {
                    e(t.result)
                }, t.readAsDataURL(n)
            })
        },
        mm = dm,
        gm = 0,
        vm = function(e) {
            return (e || "blobid") + gm++
        },
        ym = function(n, r, i, t) {
            var o, a;
            0 !== r.src.indexOf("blob:") ? (o = mm(r.src).data, (a = n.findFirst(function(e) {
                return e.base64() === o
            })) ? i({
                image: r,
                blobInfo: a
            }) : pm(r.src).then(function(e) {
                a = n.create(vm(), e, o), n.add(a), i({
                    image: r,
                    blobInfo: a
                })
            }, function(e) {
                t(e)
            })) : (a = n.getByUri(r.src)) ? i({
                image: r,
                blobInfo: a
            }) : pm(r.src).then(function(t) {
                hm(t).then(function(e) {
                    o = mm(e).data, a = n.create(vm(), t, o), n.add(a), i({
                        image: r,
                        blobInfo: a
                    })
                })
            }, function(e) {
                t(e)
            })
        },
        bm = function(e) {
            return e ? e.getElementsByTagName("img") : []
        },
        xm = 0,
        wm = {
            uuid: function(e) {
                return e + xm++ + (t = function() {
                    return Math.round(4294967295 * Math.random()).toString(36)
                }, "s" + (new Date).getTime().toString(36) + t() + t() + t());
                var t
            }
        };

    function Cm(u) {
        var n, i, o, t, e, a, r, s, l, f, c = (n = [], i = da.constant, o = function(e) {
                var t, n, r;
                if (!e.blob || !e.base64) throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");
                return t = e.id || wm.uuid("blobid"), n = e.name || t, {
                    id: i(t),
                    name: i(n),
                    filename: i(n + "." + (r = e.blob.type, {
                        "image/jpeg": "jpg",
                        "image/jpg": "jpg",
                        "image/gif": "gif",
                        "image/png": "png"
                    }[r.toLowerCase()] || "dat")),
                    blob: i(e.blob),
                    base64: i(e.base64),
                    blobUri: i(e.blobUri || K.createObjectURL(e.blob)),
                    uri: i(e.uri)
                }
            }, {
                create: function(e, t, n, r) {
                    return o("object" == typeof e ? e : {
                        id: e,
                        name: r,
                        blob: t,
                        base64: n
                    })
                },
                add: function(e) {
                    t(e.id()) || n.push(e)
                },
                get: t = function(t) {
                    return e(function(e) {
                        return e.id() === t
                    })
                },
                getByUri: function(t) {
                    return e(function(e) {
                        return e.blobUri() === t
                    })
                },
                findFirst: e = function(e) {
                    return Rt.filter(n, e)[0]
                },
                removeByUri: function(t) {
                    n = Rt.filter(n, function(e) {
                        return e.blobUri() !== t || (K.revokeObjectURL(e.blobUri()), !1)
                    })
                },
                destroy: function() {
                    Rt.each(n, function(e) {
                        K.revokeObjectURL(e.blobUri())
                    }), n = []
                }
            }),
            d = u.settings,
            p = (s = {}, l = function(e, t) {
                return {
                    status: e,
                    resultUri: t
                }
            }, {
                hasBlobUri: f = function(e) {
                    return e in s
                },
                getResultUri: function(e) {
                    var t = s[e];
                    return t ? t.resultUri : null
                },
                isPending: function(e) {
                    return !!f(e) && 1 === s[e].status
                },
                isUploaded: function(e) {
                    return !!f(e) && 2 === s[e].status
                },
                markPending: function(e) {
                    s[e] = l(1, null)
                },
                markUploaded: function(e, t) {
                    s[e] = l(2, t)
                },
                removeFailed: function(e) {
                    delete s[e]
                },
                destroy: function() {
                    s = {}
                }
            }),
            h = function(t) {
                return function(e) {
                    return u.selection ? t(e) : []
                }
            },
            m = function(e, t, n) {
                for (var r = 0; - 1 !== (r = e.indexOf(t, r)) && (e = e.substring(0, r) + n + e.substr(r + t.length), r += n.length - t.length + 1), -1 !== r;);
                return e
            },
            g = function(e, t, n) {
                return e = m(e, 'src="' + t + '"', 'src="' + n + '"'), e = m(e, 'data-mce-src="' + t + '"', 'data-mce-src="' + n + '"')
            },
            v = function(t, n) {
                Rt.each(u.undoManager.data, function(e) {
                    "fragmented" === e.type ? e.fragments = Rt.map(e.fragments, function(e) {
                        return g(e, t, n)
                    }) : e.content = g(e.content, t, n)
                })
            },
            y = function() {
                return u.notificationManager.open({
                    text: u.translate("Image uploading..."),
                    type: "info",
                    timeout: -1,
                    progressBar: !0
                })
            },
            b = function(e, t) {
                c.removeByUri(e.src), v(e.src, t), u.$(e).attr({
                    src: d.images_reuse_filename ? t + "?" + (new Date).getTime() : t,
                    "data-mce-src": u.convertURL(t, "src")
                })
            },
            x = function(n) {
                return a || (a = um(p, {
                    url: d.images_upload_url,
                    basePath: d.images_upload_base_path,
                    credentials: d.images_upload_credentials,
                    handler: d.images_upload_handler
                })), E().then(h(function(r) {
                    var e;
                    return e = Rt.map(r, function(e) {
                        return e.blobInfo
                    }), a.upload(e, y).then(h(function(e) {
                        var t = Rt.map(e, function(e, t) {
                            var n = r[t].image;
                            return e.status && !1 !== u.settings.images_replace_blob_uris ? b(n, e.url) : e.error && tm(u, e.error), {
                                element: n,
                                status: e.status
                            }
                        });
                        return n && n(t), t
                    }))
                }))
            },
            w = function(e) {
                if (!1 !== d.automatic_uploads) return x(e)
            },
            C = function(e) {
                return !d.images_dataimg_filter || d.images_dataimg_filter(e)
            },
            E = function() {
                var i, o, a;
                return r || (i = p, o = c, a = {}, r = {
                    findAll: function(e, n) {
                        var t;
                        n || (n = da.constant(!0)), t = Rt.filter(bm(e), function(e) {
                            var t = e.src;
                            return !!ve.fileApi && !e.hasAttribute("data-mce-bogus") && !e.hasAttribute("data-mce-placeholder") && !(!t || t === ve.transparentSrc) && (0 === t.indexOf("blob:") ? !i.isUploaded(t) : 0 === t.indexOf("data:") && n(e))
                        });
                        var r = Rt.map(t, function(n) {
                            if (a[n.src]) return new ye(function(t) {
                                a[n.src].then(function(e) {
                                    if ("string" == typeof e) return e;
                                    t({
                                        image: n,
                                        blobInfo: e.blobInfo
                                    })
                                })
                            });
                            var e = new ye(function(e, t) {
                                ym(o, n, e, t)
                            }).then(function(e) {
                                return delete a[e.image.src], e
                            })["catch"](function(e) {
                                return delete a[n.src], e
                            });
                            return a[n.src] = e
                        });
                        return ye.all(r)
                    }
                }), r.findAll(u.getBody(), C).then(h(function(e) {
                    return e = Rt.filter(e, function(e) {
                        return "string" != typeof e || (nm(u, e), !1)
                    }), Rt.each(e, function(e) {
                        v(e.image.src, e.blobInfo.blobUri()), e.image.src = e.blobInfo.blobUri(), e.image.removeAttribute("data-mce-src")
                    }), e
                }))
            },
            k = function(e) {
                return e.replace(/src="(blob:[^"]+)"/g, function(e, n) {
                    var t = p.getResultUri(n);
                    if (t) return 'src="' + t + '"';
                    var r = c.getByUri(n);
                    return r || (r = Rt.reduce(u.editorManager.get(), function(e, t) {
                        return e || t.editorUpload && t.editorUpload.blobCache.getByUri(n)
                    }, null)), r ? 'src="data:' + r.blob().type + ";base64," + r.base64() + '"' : e
                })
            };
        return u.on("setContent", function() {
            !1 !== u.settings.automatic_uploads ? w() : E()
        }), u.on("RawSaveContent", function(e) {
            e.content = k(e.content)
        }), u.on("getContent", function(e) {
            e.source_view || "raw" === e.format || (e.content = k(e.content))
        }), u.on("PostRender", function() {
            u.parser.addNodeFilter("img", function(e) {
                Rt.each(e, function(e) {
                    var t = e.attr("src");
                    if (!c.getByUri(t)) {
                        var n = p.getResultUri(t);
                        n && e.attr("src", n)
                    }
                })
            })
        }), {
            blobCache: c,
            uploadImages: x,
            uploadImagesAuto: w,
            scanForImages: E,
            destroy: function() {
                c.destroy(), p.destroy(), r = a = null
            }
        }
    }
    var Em = function(e, t) {
            return e.hasOwnProperty(t.nodeName)
        },
        km = function(e, t) {
            if (Oi.isText(t)) {
                if (0 === t.nodeValue.length) return !0;
                if (/^\s+$/.test(t.nodeValue) && (!t.nextSibling || Em(e, t.nextSibling))) return !0
            }
            return !1
        },
        Sm = function(e) {
            var t, n, r, i, o, a, u, s, l, f, c, d = e.settings,
                p = e.dom,
                h = e.selection,
                m = e.schema,
                g = m.getBlockElements(),
                v = h.getStart(),
                y = e.getBody();
            if (c = d.forced_root_block, v && Oi.isElement(v) && c && (f = y.nodeName.toLowerCase(), m.isValidChild(f, c.toLowerCase()) && (b = g, x = y, w = v, !U.exists($f(zn.fromDom(w), zn.fromDom(x)), function(e) {
                    return Em(b, e.dom())
                })))) {
                var b, x, w, C, E;
                for (n = (t = h.getRng()).startContainer, r = t.startOffset, i = t.endContainer, o = t.endOffset, l = Mh(e), v = y.firstChild; v;)
                    if (C = g, E = v, Oi.isText(E) || Oi.isElement(E) && !Em(C, E) && !Il(E)) {
                        if (km(g, v)) {
                            v = (u = v).nextSibling, p.remove(u);
                            continue
                        }
                        a || (a = p.create(c, e.settings.forced_root_block_attrs), v.parentNode.insertBefore(a, v), s = !0), v = (u = v).nextSibling, a.appendChild(u)
                    } else a = null, v = v.nextSibling;
                s && l && (t.setStart(n, r), t.setEnd(i, o), h.setRng(t), e.nodeChanged())
            }
        },
        Nm = function(e) {
            e.settings.forced_root_block && e.on("NodeChange", z.curry(Sm, e))
        },
        Tm = function(t) {
            return Vr.firstChild(t).fold(z.constant([t]), function(e) {
                return [t].concat(Tm(e))
            })
        },
        Am = function(t) {
            return Vr.lastChild(t).fold(z.constant([t]), function(e) {
                return "br" === Zn.name(e) ? Vr.prevSibling(e).map(function(e) {
                    return [t].concat(Am(e))
                }).getOr([]) : [t].concat(Am(e))
            })
        },
        Dm = function(i, e) {
            return pa([(o = e, a = o.startContainer, u = o.startOffset, Oi.isText(a) ? 0 === u ? A.some(zn.fromDom(a)) : A.none() : A.from(a.childNodes[u]).map(zn.fromDom)), (t = e, n = t.endContainer, r = t.endOffset, Oi.isText(n) ? r === n.data.length ? A.some(zn.fromDom(n)) : A.none() : A.from(n.childNodes[r - 1]).map(zn.fromDom))], function(e, t) {
                var n = U.find(Tm(i), z.curry(Ir.eq, e)),
                    r = U.find(Am(i), z.curry(Ir.eq, t));
                return n.isSome() && r.isSome()
            }).getOr(!1);
            var t, n, r, o, a, u
        },
        _m = function(e, t, n, r) {
            var i = n,
                o = new ai(n, i),
                a = e.schema.getNonEmptyElements();
            do {
                if (3 === n.nodeType && 0 !== Lt.trim(n.nodeValue).length) return void(r ? t.setStart(n, 0) : t.setEnd(n, n.nodeValue.length));
                if (a[n.nodeName] && !/^(TD|TH)$/.test(n.nodeName)) return void(r ? t.setStartBefore(n) : "BR" === n.nodeName ? t.setEndBefore(n) : t.setEndAfter(n));
                if (ve.ie && ve.ie < 11 && e.isBlock(n) && e.isEmpty(n)) return void(r ? t.setStart(n, 0) : t.setEnd(n, 0))
            } while (n = r ? o.next() : o.prev());
            "BODY" === i.nodeName && (r ? t.setStart(i, 0) : t.setEnd(i, i.childNodes.length))
        },
        Rm = function(e) {
            var t = e.selection.getSel();
            return t && 0 < t.rangeCount
        };

    function Om(o) {
        var r, i = [];
        "onselectionchange" in o.getDoc() || o.on("NodeChange Click MouseUp KeyUp Focus", function(e) {
            var t, n;
            n = {
                startContainer: (t = o.selection.getRng()).startContainer,
                startOffset: t.startOffset,
                endContainer: t.endContainer,
                endOffset: t.endOffset
            }, "nodechange" !== e.type && ep(n, r) || o.fire("SelectionChange"), r = n
        }), o.on("contextmenu", function() {
            o.fire("SelectionChange")
        }), o.on("SelectionChange", function() {
            var e = o.selection.getStart(!0);
            !e || !ve.range && o.selection.isCollapsed() || Rm(o) && ! function(e) {
                var t, n;
                if ((n = o.$(e).parentsUntil(o.getBody()).add(e)).length === i.length) {
                    for (t = n.length; 0 <= t && n[t] === i[t]; t--);
                    if (-1 === t) return i = n, !0
                }
                return i = n, !1
            }(e) && o.dom.isChildOf(e, o.getBody()) && o.nodeChanged({
                selectionChange: !0
            })
        }), o.on("MouseUp", function(e) {
            !e.isDefaultPrevented() && Rm(o) && ("IMG" === o.selection.getNode().nodeName ? Ce.setEditorTimeout(o, function() {
                o.nodeChanged()
            }) : o.nodeChanged())
        }), this.nodeChanged = function(e) {
            var t, n, r, i = o.selection;
            o.initialized && i && !o.settings.disable_nodechange && !o.readonly && (r = o.getBody(), (t = i.getStart(!0) || r).ownerDocument === o.getDoc() && o.dom.isChildOf(t, r) || (t = r), n = [], o.dom.getParent(t, function(e) {
                if (e === r) return !0;
                n.push(e)
            }), (e = e || {}).element = t, e.parents = n, o.fire("NodeChange", e))
        }
    }
    var Fm, Bm, Pm = function(e) {
            var t, n, r, i;
            return i = e.getBoundingClientRect(), n = (t = e.ownerDocument).documentElement, r = t.defaultView, {
                top: i.top + r.pageYOffset - n.clientTop,
                left: i.left + r.pageXOffset - n.clientLeft
            }
        },
        Lm = function(e, t) {
            return n = (u = e).inline ? Pm(u.getBody()) : {
                left: 0,
                top: 0
            }, a = (o = e).getBody(), r = o.inline ? {
                left: a.scrollLeft,
                top: a.scrollTop
            } : {
                left: 0,
                top: 0
            }, {
                pageX: (i = function(e, t) {
                    if (t.target.ownerDocument !== e.getDoc()) {
                        var n = Pm(e.getContentAreaContainer()),
                            r = (o = (i = e).getBody(), a = i.getDoc().documentElement, u = {
                                left: o.scrollLeft,
                                top: o.scrollTop
                            }, s = {
                                left: o.scrollLeft || a.scrollLeft,
                                top: o.scrollTop || a.scrollTop
                            }, i.inline ? u : s);
                        return {
                            left: t.pageX - n.left + r.left,
                            top: t.pageY - n.top + r.top
                        }
                    }
                    var i, o, a, u, s;
                    return {
                        left: t.pageX,
                        top: t.pageY
                    }
                }(e, t)).left - n.left + r.left,
                pageY: i.top - n.top + r.top
            };
            var n, r, i, o, a, u
        },
        Im = Oi.isContentEditableFalse,
        jm = Oi.isContentEditableTrue,
        Mm = function(e) {
            e && e.parentNode && e.parentNode.removeChild(e)
        },
        qm = function(u, s) {
            return function(e) {
                if (0 === e.button) {
                    var t = Rt.find(s.dom.getParents(e.target), da.or(Im, jm));
                    if (o = s.getBody(), Im(a = t) && a !== o) {
                        var n = s.dom.getPos(t),
                            r = s.getBody(),
                            i = s.getDoc().documentElement;
                        u.element = t, u.screenX = e.screenX, u.screenY = e.screenY, u.maxX = (s.inline ? r.scrollWidth : i.offsetWidth) - 2, u.maxY = (s.inline ? r.scrollHeight : i.offsetHeight) - 2, u.relX = e.pageX - n.x, u.relY = e.pageY - n.y, u.width = t.offsetWidth, u.height = t.offsetHeight, u.ghost = function(e, t, n, r) {
                            var i = t.cloneNode(!0);
                            e.dom.setStyles(i, {
                                width: n,
                                height: r
                            }), e.dom.setAttrib(i, "data-mce-selected", null);
                            var o = e.dom.create("div", {
                                class: "mce-drag-container",
                                "data-mce-bogus": "all",
                                unselectable: "on",
                                contenteditable: "false"
                            });
                            return e.dom.setStyles(o, {
                                position: "absolute",
                                opacity: .5,
                                overflow: "hidden",
                                border: 0,
                                padding: 0,
                                margin: 0,
                                width: n,
                                height: r
                            }), e.dom.setStyles(i, {
                                margin: 0,
                                boxSizing: "border-box"
                            }), o.appendChild(i), o
                        }(s, t, u.width, u.height)
                    }
                }
                var o, a
            }
        },
        Hm = function(f, c) {
            return function(e) {
                if (f.dragging && (s = (o = c).selection, l = s.getSel().getRangeAt(0).startContainer, a = 3 === l.nodeType ? l.parentNode : l, u = f.element, a !== u && !o.dom.isChildOf(a, u) && !Im(a))) {
                    var t = (r = f.element, (i = r.cloneNode(!0)).removeAttribute("data-mce-selected"), i),
                        n = c.fire("drop", {
                            targetClone: t,
                            clientX: e.clientX,
                            clientY: e.clientY
                        });
                    n.isDefaultPrevented() || (t = n.targetClone, c.undoManager.transact(function() {
                        Mm(f.element), c.insertContent(c.dom.getOuterHTML(t)), c._selectionOverrides.hideFakeCaret()
                    }))
                }
                var r, i, o, a, u, s, l;
                zm(f)
            }
        },
        zm = function(e) {
            e.dragging = !1, e.element = null, Mm(e.ghost)
        },
        Um = function(e) {
            var t, n, r, i, o, a, m, g, v, u, s, l = {};
            t = vo.DOM, a = document, n = qm(l, e), m = l, g = e, v = Ce.throttle(function(e, t) {
                g._selectionOverrides.hideFakeCaret(), g.selection.placeCaretAt(e, t)
            }, 0), r = function(e) {
                var t, n, r, i, o, a, u, s, l, f, c, d, p = Math.max(Math.abs(e.screenX - m.screenX), Math.abs(e.screenY - m.screenY));
                if (m.element && !m.dragging && 10 < p) {
                    if (g.fire("dragstart", {
                            target: m.element
                        }).isDefaultPrevented()) return;
                    m.dragging = !0, g.focus()
                }
                if (m.dragging) {
                    var h = (c = m, {
                        pageX: (d = Lm(g, e)).pageX - c.relX,
                        pageY: d.pageY + 5
                    });
                    l = m.ghost, f = g.getBody(), l.parentNode !== f && f.appendChild(l), t = m.ghost, n = h, r = m.width, i = m.height, o = m.maxX, a = m.maxY, s = u = 0, t.style.left = n.pageX + "px", t.style.top = n.pageY + "px", n.pageX + r > o && (u = n.pageX + r - o), n.pageY + i > a && (s = n.pageY + i - a), t.style.width = r - u + "px", t.style.height = i - s + "px", v(e.clientX, e.clientY)
                }
            }, i = Hm(l, e), u = l, o = function() {
                u.dragging && s.fire("dragend"), zm(u)
            }, (s = e).on("mousedown", n), e.on("mousemove", r), e.on("mouseup", i), t.bind(a, "mousemove", r), t.bind(a, "mouseup", o), e.on("remove", function() {
                t.unbind(a, "mousemove", r), t.unbind(a, "mouseup", o)
            })
        },
        $m = function(e) {
            var n;
            Um(e), (n = e).on("drop", function(e) {
                var t = "undefined" != typeof e.clientX ? n.getDoc().elementFromPoint(e.clientX, e.clientY) : null;
                (Im(t) || Im(n.dom.getContentEditableParent(t))) && e.preventDefault()
            })
        },
        Vm = function(e) {
            return Rt.reduce(e, function(e, t) {
                return e.concat(function(t) {
                    var e = function(e) {
                        return Rt.map(e, function(e) {
                            return (e = ta(e)).node = t, e
                        })
                    };
                    if (Oi.isElement(t)) return e(t.getClientRects());
                    if (Oi.isText(t)) {
                        var n = t.ownerDocument.createRange();
                        return n.setStart(t, 0), n.setEnd(t, t.data.length), e(n.getClientRects())
                    }
                }(t))
            }, [])
        };
    (Bm = Fm || (Fm = {}))[Bm.Up = -1] = "Up", Bm[Bm.Down = 1] = "Down";
    var Wm = function(i, o, a, e, u, t) {
            var n, s, l = 0,
                f = [],
                r = function(e) {
                    var t, n, r;
                    for (r = Vm([e]), -1 === i && (r = r.reverse()), t = 0; t < r.length; t++)
                        if (n = r[t], !a(n, s)) {
                            if (0 < f.length && o(n, Rt.last(f)) && l++, n.line = l, u(n)) return !0;
                            f.push(n)
                        }
                };
            return (s = Rt.last(t.getClientRects())) && (r(n = t.getNode()), function(e, t, n, r) {
                for (; r = vs(r, e, Zo, t);)
                    if (n(r)) return
            }(i, e, r, n)), f
        },
        Xm = z.curry(Wm, Fm.Up, ia, oa),
        Km = z.curry(Wm, Fm.Down, oa, ia),
        Ym = function(n) {
            return function(e) {
                return t = n, e.line > t;
                var t
            }
        },
        Gm = function(n) {
            return function(e) {
                return t = n, e.line === t;
                var t
            }
        },
        Qm = Oi.isContentEditableFalse,
        Jm = vs,
        Zm = function(e, t) {
            return Math.abs(e.left - t)
        },
        eg = function(e, t) {
            return Math.abs(e.right - t)
        },
        tg = function(e, t) {
            return e >= t.left && e <= t.right
        },
        ng = function(e, i) {
            return Rt.reduce(e, function(e, t) {
                var n, r;
                return n = Math.min(Zm(e, i), eg(e, i)), r = Math.min(Zm(t, i), eg(t, i)), tg(i, t) ? t : tg(i, e) ? e : r === n && Qm(t.node) ? t : r < n ? t : e
            })
        },
        rg = function(e, t, n, r) {
            for (; r = Jm(r, e, Zo, t);)
                if (n(r)) return
        },
        ig = function(e, t, n) {
            var r, i, o, a, u, s, l, f, c = Vm((i = e, Rt.filter(Rt.toArray(i.getElementsByTagName("*")), as))),
                d = Rt.filter(c, function(e) {
                    return n >= e.top && n <= e.bottom
                });
            return (r = ng(d, t)) && (r = ng((u = e, f = function(t, e) {
                var n;
                return n = Rt.filter(Vm([e]), function(e) {
                    return !t(e, s)
                }), l = l.concat(n), 0 === n.length
            }, (l = []).push(s = r), rg(Fm.Up, u, z.curry(f, ia), s.node), rg(Fm.Down, u, z.curry(f, oa), s.node), l), t)) && as(r.node) ? (a = t, {
                node: (o = r).node,
                before: Zm(o, a) < eg(o, a)
            }) : null
        },
        og = function(o, a, e) {
            return !e.collapsed && U.foldl(e.getClientRects(), function(e, t) {
                return e || (i = a, (r = o) >= (n = t).left && r <= n.right && i >= n.top && i <= n.bottom);
                var n, r, i
            }, !1)
        },
        ag = function(t, n) {
            var r = null;
            return {
                cancel: function() {
                    null !== r && (clearTimeout(r), r = null)
                },
                throttle: function() {
                    var e = arguments;
                    null === r && (r = setTimeout(function() {
                        t.apply(null, e), e = r = null
                    }, n))
                }
            }
        },
        ug = function(t) {
            var e = ag(function() {
                if (!t.removed && t.selection.getRng().collapsed) {
                    var e = iu(t, t.selection.getRng(), !1);
                    t.selection.setRng(e)
                }
            }, 0);
            t.on("focus", function() {
                e.throttle()
            }), t.on("blur", function() {
                e.cancel()
            })
        },
        sg = {
            BACKSPACE: 8,
            DELETE: 46,
            DOWN: 40,
            ENTER: 13,
            LEFT: 37,
            RIGHT: 39,
            SPACEBAR: 32,
            TAB: 9,
            UP: 38,
            modifierPressed: function(e) {
                return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e)
            },
            metaKeyPressed: function(e) {
                return ve.mac ? e.metaKey : e.ctrlKey && !e.altKey
            }
        },
        lg = Oi.isContentEditableTrue,
        fg = Oi.isContentEditableFalse,
        cg = Rs,
        dg = _s,
        pg = function(e, t) {
            for (var n = e.getBody(); t && t !== n;) {
                if (lg(t) || fg(t)) return t;
                t = t.parentNode
            }
            return null
        },
        hg = function(h) {
            var m, e, t, a = h.getBody(),
                i = os(h.getBody(), function(e) {
                    return h.dom.isBlock(e)
                }, function() {
                    return Mh(h)
                }),
                g = "sel-" + h.dom.uniqueId(),
                u = function(e) {
                    e && h.selection.setRng(e)
                },
                s = function() {
                    return h.selection.getRng()
                },
                v = function(e, t, n, r) {
                    return void 0 === r && (r = !0), h.fire("ShowCaret", {
                        target: t,
                        direction: e,
                        before: n
                    }).isDefaultPrevented() ? null : (r && h.selection.scrollIntoView(t, -1 === e), i.show(n, t))
                },
                y = function(e, t) {
                    return t = Ss(e, a, t), -1 === e ? Pa.fromRangeStart(t) : Pa.fromRangeEnd(t)
                },
                n = function(e) {
                    return Po(e) || qo(e) || Ho(e)
                },
                b = function(e) {
                    return n(e.startContainer) || n(e.endContainer)
                },
                l = function(e, t) {
                    var n, r, i, o, a, u, s, l, f, c, d = h.$,
                        p = h.dom;
                    if (!e) return null;
                    if (e.collapsed) {
                        if (!b(e))
                            if (!1 === t) {
                                if (l = y(-1, e), as(l.getNode(!0))) return v(-1, l.getNode(!0), !1, !1);
                                if (as(l.getNode())) return v(-1, l.getNode(), !l.isAtEnd(), !1)
                            } else {
                                if (l = y(1, e), as(l.getNode())) return v(1, l.getNode(), !l.isAtEnd(), !1);
                                if (as(l.getNode(!0))) return v(1, l.getNode(!0), !1, !1)
                            }
                        return null
                    }
                    return o = e.startContainer, a = e.startOffset, u = e.endOffset, 3 === o.nodeType && 0 === a && fg(o.parentNode) && (o = o.parentNode, a = p.nodeIndex(o), o = o.parentNode), 1 !== o.nodeType ? null : (u === a + 1 && (n = o.childNodes[a]), fg(n) ? (f = c = n.cloneNode(!0), (s = h.fire("ObjectSelected", {
                        target: n,
                        targetClone: f
                    })).isDefaultPrevented() ? null : (r = Af(zn.fromDom(h.getBody()), "#" + g).fold(function() {
                        return d([])
                    }, function(e) {
                        return d([e.dom()])
                    }), f = s.targetClone, 0 === r.length && (r = d('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id", g)).appendTo(h.getBody()), e = h.dom.createRng(), f === c && ve.ie ? (r.empty().append('<p style="font-size: 0" data-mce-bogus="all">Â </p>').append(f), e.setStartAfter(r[0].firstChild.firstChild), e.setEndAfter(f)) : (r.empty().append("Â ").append(f).append("Â "), e.setStart(r[0].firstChild, 1), e.setEnd(r[0].lastChild, 0)), r.css({
                        top: p.getPos(n, h.getBody()).y
                    }), r[0].focus(), (i = h.selection.getSel()).removeAllRanges(), i.addRange(e), U.each(gu(zn.fromDom(h.getBody()), "*[data-mce-selected]"), function(e) {
                        fr.remove(e, "data-mce-selected")
                    }), n.setAttribute("data-mce-selected", "1"), m = n, x(), e)) : null)
                },
                f = function() {
                    m && m.removeAttribute("data-mce-selected"), Af(zn.fromDom(h.getBody()), "#" + g).each(Ul.remove), m = null
                },
                x = function() {
                    i.hide()
                };
            return ve.ceFalse && (function() {
                h.on("mouseup", function(e) {
                    var t = s();
                    t.collapsed && Wh(h, e.clientX, e.clientY) && u(ru(h, t, !1))
                }), h.on("click", function(e) {
                    var t;
                    (t = pg(h, e.target)) && (fg(t) && (e.preventDefault(), h.focus()), lg(t) && h.dom.isChildOf(t, h.selection.getNode()) && f())
                }), h.on("blur NewBlock", function() {
                    f()
                }), h.on("ResizeWindow FullscreenStateChanged", function() {
                    return i.reposition()
                });
                var n, r, o = function(e, t) {
                    var n, r, i = h.dom.getParent(e, h.dom.isBlock),
                        o = h.dom.getParent(t, h.dom.isBlock);
                    return !(!i || !h.dom.isChildOf(i, o) || !1 !== fg(pg(h, i))) || i && (n = i, r = o, !(h.dom.getParent(n, h.dom.isBlock) === h.dom.getParent(r, h.dom.isBlock))) && function(e) {
                        var t = Ys(e);
                        if (!e.firstChild) return !1;
                        var n = Pa.before(e.firstChild),
                            r = t.next(n);
                        return r && !dg(r) && !cg(r)
                    }(i)
                };
                r = !1, (n = h).on("touchstart", function() {
                    r = !1
                }), n.on("touchmove", function() {
                    r = !0
                }), n.on("touchend", function(e) {
                    var t = pg(n, e.target);
                    fg(t) && (r || (e.preventDefault(), l(nu(n, t))))
                }), h.on("mousedown", function(e) {
                    var t, n = e.target;
                    if ((n === a || "HTML" === n.nodeName || h.dom.isChildOf(n, a)) && !1 !== Wh(h, e.clientX, e.clientY))
                        if (t = pg(h, n)) fg(t) ? (e.preventDefault(), l(nu(h, t))) : (f(), lg(t) && e.shiftKey || og(e.clientX, e.clientY, h.selection.getRng()) || (x(), h.selection.placeCaretAt(e.clientX, e.clientY)));
                        else if (!1 === as(n)) {
                        f(), x();
                        var r = ig(a, e.clientX, e.clientY);
                        if (r && !o(e.target, r.node)) {
                            e.preventDefault();
                            var i = v(1, r.node, r.before, !1);
                            h.getBody().focus(), u(i)
                        }
                    }
                }), h.on("keypress", function(e) {
                    sg.modifierPressed(e) || (e.keyCode, fg(h.selection.getNode()) && e.preventDefault())
                }), h.on("getSelectionRange", function(e) {
                    var t = e.range;
                    if (m) {
                        if (!m.parentNode) return void(m = null);
                        (t = t.cloneRange()).selectNode(m), e.range = t
                    }
                }), h.on("setSelectionRange", function(e) {
                    var t;
                    (t = l(e.range, e.forward)) && (e.range = t)
                }), h.on("AfterSetSelectionRange", function(e) {
                    var t, n = e.range;
                    b(n) || x(), t = n.startContainer.parentNode, h.dom.hasClass(t, "mce-offscreen-selection") || f()
                }), h.on("copy", function(e) {
                    var t, n = e.clipboardData;
                    if (!e.isDefaultPrevented() && e.clipboardData && !ve.ie) {
                        var r = (t = h.dom.get(g)) ? t.getElementsByTagName("*")[0] : t;
                        r && (e.preventDefault(), n.clearData(), n.setData("text/html", r.outerHTML), n.setData("text/plain", r.outerText))
                    }
                }), $m(h), ug(h)
            }(), e = h.contentStyles, t = ".mce-content-body", e.push(i.getCss()), e.push(t + " .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}" + t + " *[contentEditable=false] {cursor: default;}" + t + " *[contentEditable=true] {cursor: text;}")), {
                showCaret: v,
                showBlockCaretContainer: function(e) {
                    e.hasAttribute("data-mce-caret") && (zo(e), u(s()), h.selection.scrollIntoView(e[0]))
                },
                hideFakeCaret: x,
                destroy: function() {
                    i.destroy(), m = null
                }
            }
        },
        mg = function(e, t, n) {
            var r, i, o, a, u = 1;
            for (a = e.getShortEndedElements(), (o = /<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex = r = n; i = o.exec(t);) {
                if (r = o.lastIndex, "/" === i[1]) u--;
                else if (!i[1]) {
                    if (i[2] in a) continue;
                    u++
                }
                if (0 === u) break
            }
            return r
        };

    function gg(j, M) {
        void 0 === M && (M = ro());
        var e = function() {};
        !1 !== (j = j || {}).fix_self_closing && (j.fix_self_closing = !0);
        var q = j.comment ? j.comment : e,
            H = j.cdata ? j.cdata : e,
            z = j.text ? j.text : e,
            U = j.start ? j.start : e,
            $ = j.end ? j.end : e,
            V = j.pi ? j.pi : e,
            W = j.doctype ? j.doctype : e;
        return {
            parse: function(e) {
                var t, n, r, c, i, o, a, d, u, s, p, l, h, f, m, g, v, y, b, x, w, C, E, k, S, N, T, A, D, _ = 0,
                    R = [],
                    O = 0,
                    F = Wi.decode,
                    B = Lt.makeMap("src,href,data,background,formaction,poster,xlink:href"),
                    P = /((java|vb)script|mhtml):/i,
                    L = function(e) {
                        var t, n;
                        for (t = R.length; t-- && R[t].name !== e;);
                        if (0 <= t) {
                            for (n = R.length - 1; t <= n; n--)(e = R[n]).valid && $(e.name);
                            R.length = t
                        }
                    },
                    I = function(e, t, n, r, i) {
                        var o, a, u, s, l;
                        if (n = (t = t.toLowerCase()) in p ? t : F(n || r || i || ""), h && !d && 0 == (0 === (u = t).indexOf("data-") || 0 === u.indexOf("aria-"))) {
                            if (!(o = y[t]) && b) {
                                for (a = b.length; a-- && !(o = b[a]).pattern.test(t);); - 1 === a && (o = null)
                            }
                            if (!o) return;
                            if (o.validValues && !(n in o.validValues)) return
                        }
                        if (B[t] && !j.allow_script_urls) {
                            var f = n.replace(/[\s\u0000-\u001F]+/g, "");
                            try {
                                f = decodeURIComponent(f)
                            } catch (e) {
                                f = unescape(f)
                            }
                            if (P.test(f)) return;
                            if (l = f, !(s = j).allow_html_data_urls && (/^data:image\//i.test(l) ? !1 === s.allow_svg_data_urls && /^data:image\/svg\+xml/i.test(l) : /^data:/i.test(l))) return
                        }
                        d && (t in B || 0 === t.indexOf("on")) || (c.map[t] = n, c.push({
                            name: t,
                            value: n
                        }))
                    };
                for (S = new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))", "g"), N = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g, s = M.getShortEndedElements(), k = j.self_closing_elements || M.getSelfClosingElements(), p = M.getBoolAttrs(), h = j.validate, u = j.remove_internals, D = j.fix_self_closing, T = M.getSpecialElements(), E = e + ">"; t = S.exec(E);) {
                    if (_ < t.index && z(F(e.substr(_, t.index - _))), n = t[6]) ":" === (n = n.toLowerCase()).charAt(0) && (n = n.substr(1)), L(n);
                    else if (n = t[7]) {
                        if (t.index + t[0].length > e.length) {
                            z(F(e.substr(t.index))), _ = t.index + t[0].length;
                            continue
                        }
                        if (":" === (n = n.toLowerCase()).charAt(0) && (n = n.substr(1)), l = n in s, D && k[n] && 0 < R.length && R[R.length - 1].name === n && L(n), !h || (f = M.getElementRule(n))) {
                            if (m = !0, h && (y = f.attributes, b = f.attributePatterns), (v = t[8]) ? ((d = -1 !== v.indexOf("data-mce-type")) && u && (m = !1), (c = []).map = {}, v.replace(N, I)) : (c = []).map = {}, h && !d) {
                                if (x = f.attributesRequired, w = f.attributesDefault, C = f.attributesForced, f.removeEmptyAttrs && !c.length && (m = !1), C)
                                    for (i = C.length; i--;) a = (g = C[i]).name, "{$uid}" === (A = g.value) && (A = "mce_" + O++), c.map[a] = A, c.push({
                                        name: a,
                                        value: A
                                    });
                                if (w)
                                    for (i = w.length; i--;)(a = (g = w[i]).name) in c.map || ("{$uid}" === (A = g.value) && (A = "mce_" + O++), c.map[a] = A, c.push({
                                        name: a,
                                        value: A
                                    }));
                                if (x) {
                                    for (i = x.length; i-- && !(x[i] in c.map);); - 1 === i && (m = !1)
                                }
                                if (g = c.map["data-mce-bogus"]) {
                                    if ("all" === g) {
                                        _ = mg(M, e, S.lastIndex), S.lastIndex = _;
                                        continue
                                    }
                                    m = !1
                                }
                            }
                            m && U(n, c, l)
                        } else m = !1;
                        if (r = T[n]) {
                            r.lastIndex = _ = t.index + t[0].length, (t = r.exec(e)) ? (m && (o = e.substr(_, t.index - _)), _ = t.index + t[0].length) : (o = e.substr(_), _ = e.length), m && (0 < o.length && z(o, !0), $(n)), S.lastIndex = _;
                            continue
                        }
                        l || (v && v.indexOf("/") === v.length - 1 ? m && $(n) : R.push({
                            name: n,
                            valid: m
                        }))
                    } else(n = t[1]) ? (">" === n.charAt(0) && (n = " " + n), j.allow_conditional_comments || "[if" !== n.substr(0, 3).toLowerCase() || (n = " " + n), q(n)) : (n = t[2]) ? H(n.replace(/<!--|-->/g, "")) : (n = t[3]) ? W(n) : (n = t[4]) && V(n, t[5]);
                    _ = t.index + t[0].length
                }
                for (_ < e.length && z(F(e.substr(_))), i = R.length - 1; 0 <= i; i--)(n = R[i]).valid && $(n.name)
            }
        }
    }(gg || (gg = {})).findEndTag = mg;
    var vg = gg,
        yg = function(e, t) {
            var n, r, i, o, a, u, s, l, f = t,
                c = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,
                d = e.schema;
            for (u = e.getTempAttrs(), s = f, l = new RegExp(["\\s?(" + u.join("|") + ')="[^"]+"'].join("|"), "gi"), f = s.replace(l, ""), a = d.getShortEndedElements(); o = c.exec(f);) r = c.lastIndex, i = o[0].length, n = a[o[1]] ? r : vg.findEndTag(d, f, r), f = f.substring(0, r - i) + f.substring(n), c.lastIndex = r - i;
            return _o(f)
        },
        bg = {
            trimExternal: yg,
            trimInternal: yg
        },
        xg = 0,
        wg = 2,
        Cg = 1,
        Eg = function(h, m) {
            var e = h.length + m.length + 2,
                g = new Array(e),
                v = new Array(e),
                l = function(e, t, n, r, i) {
                    var o = f(e, t, n, r);
                    if (null === o || o.start === t && o.diag === t - r || o.end === e && o.diag === e - n)
                        for (var a = e, u = n; a < t || u < r;) a < t && u < r && h[a] === m[u] ? (i.push([0, h[a]]), ++a, ++u) : r - n < t - e ? (i.push([2, h[a]]), ++a) : (i.push([1, m[u]]), ++u);
                    else {
                        l(e, o.start, n, o.start - o.diag, i);
                        for (var s = o.start; s < o.end; ++s) i.push([0, h[s]]);
                        l(o.end, t, o.end - o.diag, r, i)
                    }
                },
                y = function(e, t, n, r) {
                    for (var i = e; i - t < r && i < n && h[i] === m[i - t];) ++i;
                    return {
                        start: e,
                        end: i,
                        diag: t
                    }
                },
                f = function(e, t, n, r) {
                    var i = t - e,
                        o = r - n;
                    if (0 === i || 0 === o) return null;
                    var a, u, s, l, f, c = i - o,
                        d = o + i,
                        p = (d % 2 == 0 ? d : d + 1) / 2;
                    for (g[1 + p] = e, v[1 + p] = t + 1, a = 0; a <= p; ++a) {
                        for (u = -a; u <= a; u += 2) {
                            for (s = u + p, u === -a || u !== a && g[s - 1] < g[s + 1] ? g[s] = g[s + 1] : g[s] = g[s - 1] + 1, f = (l = g[s]) - e + n - u; l < t && f < r && h[l] === m[f];) g[s] = ++l, ++f;
                            if (c % 2 != 0 && c - a <= u && u <= c + a && v[s - c] <= g[s]) return y(v[s - c], u + e - n, t, r)
                        }
                        for (u = c - a; u <= c + a; u += 2) {
                            for (s = u + p - c, u === c - a || u !== c + a && v[s + 1] <= v[s - 1] ? v[s] = v[s + 1] - 1 : v[s] = v[s - 1], f = (l = v[s] - 1) - e + n - u; e <= l && n <= f && h[l] === m[f];) v[s] = l--, f--;
                            if (c % 2 == 0 && -a <= u && u <= a && v[s] <= g[s + c]) return y(v[s], u + e - n, t, r)
                        }
                    }
                },
                t = [];
            return l(0, h.length, 0, m.length, t), t
        },
        kg = function(e) {
            return Oi.isElement(e) ? e.outerHTML : Oi.isText(e) ? Wi.encodeRaw(e.data, !1) : Oi.isComment(e) ? "\x3c!--" + e.data + "--\x3e" : ""
        },
        Sg = function(e, t, n) {
            var r = function(e) {
                var t, n, r;
                for (r = document.createElement("div"), t = document.createDocumentFragment(), e && (r.innerHTML = e); n = r.firstChild;) t.appendChild(n);
                return t
            }(t);
            if (e.hasChildNodes() && n < e.childNodes.length) {
                var i = e.childNodes[n];
                i.parentNode.insertBefore(r, i)
            } else e.appendChild(r)
        },
        Ng = function(e) {
            return Rt.filter(Rt.map(e.childNodes, kg), function(e) {
                return 0 < e.length
            })
        },
        Tg = function(e, t) {
            var n, r, i, o = Rt.map(t.childNodes, kg);
            return n = Eg(o, e), r = t, i = 0, Rt.each(n, function(e) {
                e[0] === xg ? i++ : e[0] === Cg ? (Sg(r, e[1], i), i++) : e[0] === wg && function(e, t) {
                    if (e.hasChildNodes() && t < e.childNodes.length) {
                        var n = e.childNodes[t];
                        n.parentNode.removeChild(n)
                    }
                }(r, i)
            }), t
        },
        Ag = function(e, t) {
            var n = (t || document).createElement("div");
            return n.innerHTML = e, Vr.children(zn.fromDom(n))
        },
        Dg = function(e) {
            return e.dom().innerHTML
        },
        _g = Dg,
        Rg = function(e, t) {
            var n = Vr.owner(e).dom(),
                r = zn.fromDom(n.createDocumentFragment()),
                i = Ag(t, n);
            Hl(r, i), Ul.empty(e), Uu.append(e, r)
        },
        Og = ns(A.none()),
        Fg = function(e) {
            return {
                type: "fragmented",
                fragments: e,
                content: "",
                bookmark: null,
                beforeBookmark: null
            }
        },
        Bg = function(e) {
            return {
                type: "complete",
                fragments: null,
                content: e,
                bookmark: null,
                beforeBookmark: null
            }
        },
        Pg = function(e) {
            return "fragmented" === e.type ? e.fragments.join("") : e.content
        },
        Lg = function(e) {
            var t = zn.fromTag("body", Og.get().getOrThunk(function() {
                var e = document.implementation.createHTMLDocument("undo");
                return Og.set(A.some(e)), e
            }));
            return Rg(t, Pg(e)), U.each(gu(t, "*[data-mce-bogus]"), Ul.unwrap), _g(t)
        },
        Ig = function(n) {
            var e, t, r;
            return e = Ng(n.getBody()), -1 !== (t = (r = U.bind(e, function(e) {
                var t = bg.trimInternal(n.serializer, e);
                return 0 < t.length ? [t] : []
            })).join("")).indexOf("</iframe>") ? Fg(r) : Bg(t)
        },
        jg = function(e, t, n) {
            "fragmented" === t.type ? Tg(t.fragments, e.getBody()) : e.setContent(t.content, {
                format: "raw"
            }), e.selection.moveToBookmark(n ? t.beforeBookmark : t.bookmark)
        },
        Mg = function(e, t) {
            return !(!e || !t) && (r = t, Pg(e) === Pg(r) || (n = t, Lg(e) === Lg(n)));
            var n, r
        };

    function qg(u) {
        var s, r, i = this,
            l = 0,
            f = [],
            t = 0,
            c = function() {
                return 0 === t
            },
            o = function(e) {
                c() && (i.typing = e)
            },
            d = function(e) {
                u.setDirty(e)
            },
            a = function(e) {
                o(!1), i.add({}, e)
            },
            n = function() {
                i.typing && (o(!1), i.add())
            };
        return u.on("init", function() {
            i.add()
        }), u.on("BeforeExecCommand", function(e) {
            var t = e.command;
            "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && (n(), i.beforeChange())
        }), u.on("ExecCommand", function(e) {
            var t = e.command;
            "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && a(e)
        }), u.on("ObjectResizeStart Cut", function() {
            i.beforeChange()
        }), u.on("SaveContent ObjectResized blur", a), u.on("DragEnd", a), u.on("KeyUp", function(e) {
            var t = e.keyCode;
            e.isDefaultPrevented() || ((33 <= t && t <= 36 || 37 <= t && t <= 40 || 45 === t || e.ctrlKey) && (a(), u.nodeChanged()), 46 !== t && 8 !== t || u.nodeChanged(), r && i.typing && !1 === Mg(Ig(u), f[0]) && (!1 === u.isDirty() && (d(!0), u.fire("change", {
                level: f[0],
                lastLevel: null
            })), u.fire("TypingUndo"), r = !1, u.nodeChanged()))
        }), u.on("KeyDown", function(e) {
            var t = e.keyCode;
            if (!e.isDefaultPrevented())
                if (33 <= t && t <= 36 || 37 <= t && t <= 40 || 45 === t) i.typing && a(e);
                else {
                    var n = e.ctrlKey && !e.altKey || e.metaKey;
                    !(t < 16 || 20 < t) || 224 === t || 91 === t || i.typing || n || (i.beforeChange(), o(!0), i.add({}, e), r = !0)
                }
        }), u.on("MouseDown", function(e) {
            i.typing && a(e)
        }), u.on("input", function(e) {
            var t;
            e.inputType && ("insertReplacementText" === e.inputType || "insertText" === (t = e).inputType && null === t.data) && a(e)
        }), u.addShortcut("meta+z", "", "Undo"), u.addShortcut("meta+y,meta+shift+z", "", "Redo"), u.on("AddUndo Undo Redo ClearUndos", function(e) {
            e.isDefaultPrevented() || u.nodeChanged()
        }), i = {
            data: f,
            typing: !1,
            beforeChange: function() {
                c() && (s = kl.getUndoBookmark(u.selection))
            },
            add: function(e, t) {
                var n, r, i, o = u.settings;
                if (i = Ig(u), e = e || {}, e = Lt.extend(e, i), !1 === c() || u.removed) return null;
                if (r = f[l], u.fire("BeforeAddUndo", {
                        level: e,
                        lastLevel: r,
                        originalEvent: t
                    }).isDefaultPrevented()) return null;
                if (r && Mg(r, e)) return null;
                if (f[l] && (f[l].beforeBookmark = s), o.custom_undo_redo_levels && f.length > o.custom_undo_redo_levels) {
                    for (n = 0; n < f.length - 1; n++) f[n] = f[n + 1];
                    f.length--, l = f.length
                }
                e.bookmark = kl.getUndoBookmark(u.selection), l < f.length - 1 && (f.length = l + 1), f.push(e), l = f.length - 1;
                var a = {
                    level: e,
                    lastLevel: r,
                    originalEvent: t
                };
                return u.fire("AddUndo", a), 0 < l && (d(!0), u.fire("change", a)), e
            },
            undo: function() {
                var e;
                return i.typing && (i.add(), i.typing = !1, o(!1)), 0 < l && (e = f[--l], jg(u, e, !0), d(!0), u.fire("undo", {
                    level: e
                })), e
            },
            redo: function() {
                var e;
                return l < f.length - 1 && (e = f[++l], jg(u, e, !1), d(!0), u.fire("redo", {
                    level: e
                })), e
            },
            clear: function() {
                f = [], l = 0, i.typing = !1, i.data = f, u.fire("ClearUndos")
            },
            hasUndo: function() {
                return 0 < l || i.typing && f[0] && !Mg(Ig(u), f[0])
            },
            hasRedo: function() {
                return l < f.length - 1 && !i.typing
            },
            transact: function(e) {
                return n(), i.beforeChange(), i.ignore(e), i.add()
            },
            ignore: function(e) {
                try {
                    t++, e()
                } finally {
                    t--
                }
            },
            extra: function(e, t) {
                var n, r;
                i.transact(e) && (r = f[l].bookmark, n = f[l - 1], jg(u, n, !0), i.transact(t) && (f[l - 1].beforeBookmark = r))
            }
        }
    }
    var Hg, zg, Ug = function(e) {
            return e && /^(IMG)$/.test(e.nodeName)
        },
        $g = function(e) {
            return e && 3 === e.nodeType && /^([\t \r\n]+|)$/.test(e.nodeValue)
        },
        Vg = function(e, t, n) {
            return "color" !== n && "backgroundColor" !== n || (t = e.toHex(t)), "fontWeight" === n && 700 === t && (t = "bold"), "fontFamily" === n && (t = t.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")), "" + t
        },
        Wg = {
            isInlineBlock: Ug,
            moveStart: function(e, t, n) {
                var r, i, o, a = n.startOffset,
                    u = n.startContainer;
                if ((n.startContainer !== n.endContainer || !Ug(n.startContainer.childNodes[n.startOffset])) && 1 === u.nodeType)
                    for (a < (o = u.childNodes).length ? r = new ai(u = o[a], e.getParent(u, e.isBlock)) : (r = new ai(u = o[o.length - 1], e.getParent(u, e.isBlock))).next(!0), i = r.current(); i; i = r.next())
                        if (3 === i.nodeType && !$g(i)) return n.setStart(i, 0), void t.setRng(n)
            },
            getNonWhiteSpaceSibling: function(e, t, n) {
                if (e)
                    for (t = t ? "nextSibling" : "previousSibling", e = n ? e : e[t]; e; e = e[t])
                        if (1 === e.nodeType || !$g(e)) return e
            },
            isTextBlock: function(e, t) {
                return t.nodeType && (t = t.nodeName), !!e.schema.getTextBlockElements()[t.toLowerCase()]
            },
            isValid: function(e, t, n) {
                return e.schema.isValidChild(t, n)
            },
            isWhiteSpaceNode: $g,
            replaceVars: function(e, n) {
                return "string" != typeof e ? e = e(n) : n && (e = e.replace(/%(\w+)/g, function(e, t) {
                    return n[t] || e
                })), e
            },
            isEq: function(e, t) {
                return t = t || "", e = "" + ((e = e || "").nodeName || e), t = "" + (t.nodeName || t), e.toLowerCase() === t.toLowerCase()
            },
            normalizeStyleValue: Vg,
            getStyle: function(e, t, n) {
                return Vg(e, e.getStyle(t, n), n)
            },
            getTextDecoration: function(t, e) {
                var n;
                return t.getParent(e, function(e) {
                    return (n = t.getStyle(e, "text-decoration")) && "none" !== n
                }), n
            },
            getParents: function(e, t, n) {
                return e.getParents(t, n, e.getRoot())
            }
        },
        Xg = Il,
        Kg = Wg.getParents,
        Yg = Wg.isWhiteSpaceNode,
        Gg = Wg.isTextBlock,
        Qg = function(e, t) {
            for (void 0 === t && (t = 3 === e.nodeType ? e.length : e.childNodes.length); e && e.hasChildNodes();)(e = e.childNodes[t]) && (t = 3 === e.nodeType ? e.length : e.childNodes.length);
            return {
                node: e,
                offset: t
            }
        },
        Jg = function(e, t) {
            for (var n = t; n;) {
                if (1 === n.nodeType && e.getContentEditable(n)) return "false" === e.getContentEditable(n) ? n : t;
                n = n.parentNode
            }
            return t
        },
        Zg = function(e, t, n, r) {
            var i, o, a = n.nodeValue;
            return void 0 === r && (r = e ? a.length : 0), e ? (i = a.lastIndexOf(" ", r), -1 === (i = (o = a.lastIndexOf("Â ", r)) < i ? i : o) || t || i++) : (i = a.indexOf(" ", r), o = a.indexOf("Â ", r), i = -1 !== i && (-1 === o || i < o) ? i : o), i
        },
        ev = function(e, t, n, r, i, o) {
            var a, u, s, l;
            if (3 === n.nodeType) {
                if (-1 !== (s = Zg(i, o, n, r))) return {
                    container: n,
                    offset: s
                };
                l = n
            }
            for (a = new ai(n, e.getParent(n, e.isBlock) || t); u = a[i ? "prev" : "next"]();)
                if (3 === u.nodeType) {
                    if (-1 !== (s = Zg(i, o, l = u))) return {
                        container: u,
                        offset: s
                    }
                } else if (e.isBlock(u)) break;
            if (l) return {
                container: l,
                offset: r = i ? 0 : l.length
            }
        },
        tv = function(e, t, n, r, i) {
            var o, a, u, s;
            for (3 === r.nodeType && 0 === r.nodeValue.length && r[i] && (r = r[i]), o = Kg(e, r), a = 0; a < o.length; a++)
                for (u = 0; u < t.length; u++)
                    if (!("collapsed" in (s = t[u]) && s.collapsed !== n.collapsed) && e.is(o[a], s.selector)) return o[a];
            return r
        },
        nv = function(t, e, n, r) {
            var i, o = t.dom,
                a = o.getRoot();
            if (e[0].wrapper || (i = o.getParent(n, e[0].block, a)), !i) {
                var u = o.getParent(n, "LI,TD,TH");
                i = o.getParent(3 === n.nodeType ? n.parentNode : n, function(e) {
                    return e !== a && Gg(t, e)
                }, u)
            }
            if (i && e[0].wrapper && (i = Kg(o, i, "ul,ol").reverse()[0] || i), !i)
                for (i = n; i[r] && !o.isBlock(i[r]) && (i = i[r], !Wg.isEq(i, "br")););
            return i || n
        },
        rv = function(e, t, n, r, i, o, a) {
            var u, s, l, f, c, d;
            if (u = s = a ? n : i, f = a ? "previousSibling" : "nextSibling", c = e.getRoot(), 3 === u.nodeType && !Yg(u) && (a ? 0 < r : o < u.nodeValue.length)) return u;
            for (;;) {
                if (!t[0].block_expand && e.isBlock(s)) return s;
                for (l = s[f]; l; l = l[f])
                    if (!Xg(l) && !Yg(l) && ("BR" !== (d = l).nodeName || !d.getAttribute("data-mce-bogus") || d.nextSibling)) return s;
                if (s === c || s.parentNode === c) {
                    u = s;
                    break
                }
                s = s.parentNode
            }
            return u
        },
        iv = function(e, t, n, r) {
            var i, o = t.startContainer,
                a = t.startOffset,
                u = t.endContainer,
                s = t.endOffset,
                l = e.dom;
            return 1 === o.nodeType && o.hasChildNodes() && 3 === (o = ua(o, a)).nodeType && (a = 0), 1 === u.nodeType && u.hasChildNodes() && 3 === (u = ua(u, t.collapsed ? s : s - 1)).nodeType && (s = u.nodeValue.length), o = Jg(l, o), u = Jg(l, u), (Xg(o.parentNode) || Xg(o)) && 3 === (o = (o = Xg(o) ? o : o.parentNode).nextSibling || o).nodeType && (a = 0), (Xg(u.parentNode) || Xg(u)) && 3 === (u = (u = Xg(u) ? u : u.parentNode).previousSibling || u).nodeType && (s = u.length), n[0].inline && (t.collapsed && ((i = ev(l, e.getBody(), o, a, !0, r)) && (o = i.container, a = i.offset), (i = ev(l, e.getBody(), u, s, !1, r)) && (u = i.container, s = i.offset)), u = r ? u : function(e, t) {
                var n = Qg(e, t);
                if (n.node) {
                    for (; n.node && 0 === n.offset && n.node.previousSibling;) n = Qg(n.node.previousSibling);
                    n.node && 0 < n.offset && 3 === n.node.nodeType && " " === n.node.nodeValue.charAt(n.offset - 1) && 1 < n.offset && (e = n.node).splitText(n.offset - 1)
                }
                return e
            }(u, s)), (n[0].inline || n[0].block_expand) && (n[0].inline && 3 === o.nodeType && 0 !== a || (o = rv(l, n, o, a, u, s, !0)), n[0].inline && 3 === u.nodeType && s !== u.nodeValue.length || (u = rv(l, n, o, a, u, s, !1))), n[0].selector && !1 !== n[0].expand && !n[0].inline && (o = tv(l, n, t, o, "previousSibling"), u = tv(l, n, t, u, "nextSibling")), (n[0].block || n[0].selector) && (o = nv(e, n, o, "previousSibling"), u = nv(e, n, u, "nextSibling"), n[0].block && (l.isBlock(o) || (o = rv(l, n, o, a, u, s, !0)), l.isBlock(u) || (u = rv(l, n, o, a, u, s, !1)))), 1 === o.nodeType && (a = l.nodeIndex(o), o = o.parentNode), 1 === u.nodeType && (s = l.nodeIndex(u) + 1, u = u.parentNode), {
                startContainer: o,
                startOffset: a,
                endContainer: u,
                endOffset: s
            }
        },
        ov = Wg.isEq,
        av = function(e, t, n) {
            var r = e.formatter.get(n);
            if (r)
                for (var i = 0; i < r.length; i++)
                    if (!1 === r[i].inherit && e.dom.is(t, r[i].selector)) return !0;
            return !1
        },
        uv = function(t, e, n, r) {
            var i = t.dom.getRoot();
            return e !== i && (e = t.dom.getParent(e, function(e) {
                return !!av(t, e, n) || e.parentNode === i || !!fv(t, e, n, r, !0)
            }), fv(t, e, n, r))
        },
        sv = function(e, t, n) {
            return !!ov(t, n.inline) || !!ov(t, n.block) || (n.selector ? 1 === t.nodeType && e.is(t, n.selector) : void 0)
        },
        lv = function(e, t, n, r, i, o) {
            var a, u, s, l = n[r];
            if (n.onmatch) return n.onmatch(t, n, r);
            if (l)
                if ("undefined" == typeof l.length) {
                    for (a in l)
                        if (l.hasOwnProperty(a)) {
                            if (u = "attributes" === r ? e.getAttrib(t, a) : Wg.getStyle(e, t, a), i && !u && !n.exact) return;
                            if ((!i || n.exact) && !ov(u, Wg.normalizeStyleValue(e, Wg.replaceVars(l[a], o), a))) return
                        }
                } else
                    for (s = 0; s < l.length; s++)
                        if ("attributes" === r ? e.getAttrib(t, l[s]) : Wg.getStyle(e, t, l[s])) return n;
            return n
        },
        fv = function(e, t, n, r, i) {
            var o, a, u, s, l = e.formatter.get(n),
                f = e.dom;
            if (l && t)
                for (a = 0; a < l.length; a++)
                    if (o = l[a], sv(e.dom, t, o) && lv(f, t, o, "attributes", i, r) && lv(f, t, o, "styles", i, r)) {
                        if (s = o.classes)
                            for (u = 0; u < s.length; u++)
                                if (!e.dom.hasClass(t, s[u])) return;
                        return o
                    }
        },
        cv = {
            matchNode: fv,
            matchName: sv,
            match: function(e, t, n, r) {
                var i;
                return r ? uv(e, r, t, n) : (r = e.selection.getNode(), !!uv(e, r, t, n) || !((i = e.selection.getStart()) === r || !uv(e, i, t, n)))
            },
            matchAll: function(r, i, o) {
                var e, a = [],
                    u = {};
                return e = r.selection.getStart(), r.dom.getParent(e, function(e) {
                    var t, n;
                    for (t = 0; t < i.length; t++) n = i[t], !u[n] && fv(r, e, n, o) && (u[n] = !0, a.push(n))
                }, r.dom.getRoot()), a
            },
            canApply: function(e, t) {
                var n, r, i, o, a, u = e.formatter.get(t),
                    s = e.dom;
                if (u)
                    for (n = e.selection.getStart(), r = Wg.getParents(s, n), o = u.length - 1; 0 <= o; o--) {
                        if (!(a = u[o].selector) || u[o].defaultBlock) return !0;
                        for (i = r.length - 1; 0 <= i; i--)
                            if (s.is(r[i], a)) return !0
                    }
                return !1
            },
            matchesUnInheritedFormatSelector: av
        },
        dv = function(e, t) {
            return e.splitText(t)
        },
        pv = function(e) {
            var t = e.startContainer,
                n = e.startOffset,
                r = e.endContainer,
                i = e.endOffset;
            return t === r && Oi.isText(t) ? 0 < n && n < t.nodeValue.length && (t = (r = dv(t, n)).previousSibling, n < i ? (t = r = dv(r, i -= n).previousSibling, i = r.nodeValue.length, n = 0) : i = 0) : (Oi.isText(t) && 0 < n && n < t.nodeValue.length && (t = dv(t, n), n = 0), Oi.isText(r) && 0 < i && i < r.nodeValue.length && (i = (r = dv(r, i).previousSibling).nodeValue.length)), {
                startContainer: t,
                startOffset: n,
                endContainer: r,
                endOffset: i
            }
        },
        hv = Do,
        mv = "_mce_caret",
        gv = function(e) {
            return 0 < function(e) {
                for (var t = []; e;) {
                    if (3 === e.nodeType && e.nodeValue !== hv || 1 < e.childNodes.length) return [];
                    1 === e.nodeType && t.push(e), e = e.firstChild
                }
                return t
            }(e).length
        },
        vv = function(e) {
            var t;
            if (e)
                for (e = (t = new ai(e, e)).current(); e; e = t.next())
                    if (3 === e.nodeType) return e;
            return null
        },
        yv = function(e) {
            var t = zn.fromTag("span");
            return fr.setAll(t, {
                id: mv,
                "data-mce-bogus": "1",
                "data-mce-type": "format-caret"
            }), e && Uu.append(t, zn.fromText(hv)), t
        },
        bv = function(e, t, n, r) {
            var i, o, a, u;
            i = t.getRng(!0), o = e.getParent(n, e.isBlock), gv(n) ? (!1 !== r && (i.setStartBefore(n), i.setEndBefore(n)), e.remove(n)) : ((u = vv(n)) && u.nodeValue.charAt(0) === hv && u.deleteData(0, 1), a = u, i.startContainer === a && 0 < i.startOffset && i.setStart(a, i.startOffset - 1), i.endContainer === a && 0 < i.endOffset && i.setEnd(a, i.endOffset - 1), e.remove(n, !0)), o && e.isEmpty(o) && Xl(zn.fromDom(o)), t.setRng(i)
        },
        xv = function(e, t, n, r, i) {
            if (r) bv(t, n, r, i);
            else if (!(r = Tl(e, n.getStart())))
                for (; r = t.get(mv);) bv(t, n, r, !1)
        },
        wv = function(e, t, n) {
            var r = e.dom,
                i = r.getParent(n, da.curry(Wg.isTextBlock, e));
            i && r.isEmpty(i) ? n.parentNode.replaceChild(t, n) : (Wl(zn.fromDom(n)), r.isEmpty(n) ? n.parentNode.replaceChild(t, n) : r.insertAfter(t, n))
        },
        Cv = function(e, t) {
            return e.appendChild(t), t
        },
        Ev = function(e, t) {
            var n = U.foldr(e, function(e, t) {
                return Cv(e, t.cloneNode(!1))
            }, t);
            return Cv(n, n.ownerDocument.createTextNode(hv))
        },
        kv = function(e) {
            var o = e.dom,
                a = e.selection,
                u = e.getBody();
            e.on("mouseup keydown", function(e) {
                var t, n, r, i;
                t = u, n = o, r = a, i = e.keyCode, xv(t, n, r, null, !1), 8 === i && r.isCollapsed() && r.getStart().innerHTML === hv && xv(t, n, r, Tl(t, r.getStart())), 37 !== i && 39 !== i || xv(t, n, r, Tl(t, r.getStart()))
            })
        },
        Sv = function(e, t) {
            return e.schema.getTextInlineElements().hasOwnProperty(Zn.name(t)) && !Nl(t.dom()) && !Oi.isBogus(t.dom())
        },
        Nv = {},
        Tv = Rt.filter,
        Av = Rt.each;
    zg = function(e) {
        var t, n, r = e.selection.getRng();
        t = Oi.matchNodeNames("pre"), r.collapsed || (n = e.selection.getSelectedBlocks(), Av(Tv(Tv(n, t), function(e) {
            return t(e.previousSibling) && -1 !== Rt.indexOf(n, e.previousSibling)
        }), function(e) {
            var t, n;
            t = e.previousSibling, tn(n = e).remove(), tn(t).append("<br><br>").append(n.childNodes)
        }))
    }, Nv[Hg = "pre"] || (Nv[Hg] = []), Nv[Hg].push(zg);
    var Dv = function(e, t) {
            Av(Nv[e], function(e) {
                e(t)
            })
        },
        _v = Lt.each,
        Rv = function(e, t, i) {
            var n, r, o, a, u, s, l, f = t.startContainer,
                c = t.startOffset,
                d = t.endContainer,
                p = t.endOffset;
            if (0 < (l = e.select("td[data-mce-selected],th[data-mce-selected]")).length) _v(l, function(e) {
                i([e])
            });
            else {
                var h, m, g, v = function(e) {
                        var t;
                        return 3 === (t = e[0]).nodeType && t === f && c >= t.nodeValue.length && e.splice(0, 1), t = e[e.length - 1], 0 === p && 0 < e.length && t === d && 3 === t.nodeType && e.splice(e.length - 1, 1), e
                    },
                    y = function(e, t, n) {
                        for (var r = []; e && e !== n; e = e[t]) r.push(e);
                        return r
                    },
                    b = function(e, t) {
                        do {
                            if (e.parentNode === t) return e;
                            e = e.parentNode
                        } while (e)
                    },
                    x = function(e, t, n) {
                        var r = n ? "nextSibling" : "previousSibling";
                        for (u = (a = e).parentNode; a && a !== t; a = u) u = a.parentNode, (s = y(a === e ? a : a[r], r)).length && (n || s.reverse(), i(v(s)))
                    };
                if (1 === f.nodeType && f.hasChildNodes() && (f = f.childNodes[c]), 1 === d.nodeType && d.hasChildNodes() && (m = p, g = (h = d).childNodes, --m > g.length - 1 ? m = g.length - 1 : m < 0 && (m = 0), d = g[m] || h), f === d) return i(v([f]));
                for (n = e.findCommonAncestor(f, d), a = f; a; a = a.parentNode) {
                    if (a === d) return x(f, n, !0);
                    if (a === n) break
                }
                for (a = d; a; a = a.parentNode) {
                    if (a === f) return x(d, n);
                    if (a === n) break
                }
                r = b(f, n) || f, o = b(d, n) || d, x(f, r, !0), (s = y(r === f ? r : r.nextSibling, "nextSibling", o === d ? o.nextSibling : o)).length && i(v(s)), x(d, o)
            }
        },
        Ov = /^(src|href|style)$/,
        Fv = Lt.each,
        Bv = Wg.isEq,
        Pv = function(e) {
            return /^(TH|TD)$/.test(e.nodeName)
        },
        Lv = function(e, t, n) {
            var r, i, o;
            return r = t[n ? "startContainer" : "endContainer"], i = t[n ? "startOffset" : "endOffset"], Oi.isElement(r) && (o = r.childNodes.length - 1, !n && i && i--, r = r.childNodes[o < i ? o : i]), Oi.isText(r) && n && i >= r.nodeValue.length && (r = new ai(r, e.getBody()).next() || r), Oi.isText(r) && !n && 0 === i && (r = new ai(r, e.getBody()).prev() || r), r
        },
        Iv = function(e, t, n, r) {
            var i = e.create(n, r);
            return t.parentNode.insertBefore(i, t), i.appendChild(t), i
        },
        jv = function(e, t, n, r) {
            return !(t = Wg.getNonWhiteSpaceSibling(t, n, r)) || "BR" === t.nodeName || e.isBlock(t)
        },
        Mv = function(e, n, r, i, o) {
            var t, a, u, s, l, f, c, d, p, h, m, g, v, y, b = e.dom;
            if (l = b, !(Bv(f = i, (c = n).inline) || Bv(f, c.block) || (c.selector ? Oi.isElement(f) && l.is(f, c.selector) : void 0) || (s = i, n.links && "A" === s.tagName))) return !1;
            if ("all" !== n.remove)
                for (Fv(n.styles, function(e, t) {
                        e = Wg.normalizeStyleValue(b, Wg.replaceVars(e, r), t), "number" == typeof t && (t = e, o = 0), (n.remove_similar || !o || Bv(Wg.getStyle(b, o, t), e)) && b.setStyle(i, t, ""), u = 1
                    }), u && "" === b.getAttrib(i, "style") && (i.removeAttribute("style"), i.removeAttribute("data-mce-style")), Fv(n.attributes, function(e, t) {
                        var n;
                        if (e = Wg.replaceVars(e, r), "number" == typeof t && (t = e, o = 0), !o || Bv(b.getAttrib(o, t), e)) {
                            if ("class" === t && (e = b.getAttrib(i, t)) && (n = "", Fv(e.split(/\s+/), function(e) {
                                    /mce\-\w+/.test(e) && (n += (n ? " " : "") + e)
                                }), n)) return void b.setAttrib(i, t, n);
                            "class" === t && i.removeAttribute("className"), Ov.test(t) && i.removeAttribute("data-mce-" + t), i.removeAttribute(t)
                        }
                    }), Fv(n.classes, function(e) {
                        e = Wg.replaceVars(e, r), o && !b.hasClass(o, e) || b.removeClass(i, e)
                    }), a = b.getAttribs(i), t = 0; t < a.length; t++) {
                    var x = a[t].nodeName;
                    if (0 !== x.indexOf("_") && 0 !== x.indexOf("data-")) return !1
                }
            return "none" !== n.remove ? (d = e, h = n, g = (p = i).parentNode, v = d.dom, y = d.settings.forced_root_block, h.block && (y ? g === v.getRoot() && (h.list_block && Bv(p, h.list_block) || Fv(Lt.grep(p.childNodes), function(e) {
                Wg.isValid(d, y, e.nodeName.toLowerCase()) ? m ? m.appendChild(e) : (m = Iv(v, e, y), v.setAttribs(m, d.settings.forced_root_block_attrs)) : m = 0
            })) : v.isBlock(p) && !v.isBlock(g) && (jv(v, p, !1) || jv(v, p.firstChild, !0, 1) || p.insertBefore(v.create("br"), p.firstChild), jv(v, p, !0) || jv(v, p.lastChild, !1, 1) || p.appendChild(v.create("br")))), h.selector && h.inline && !Bv(h.inline, p) || v.remove(p, 1), !0) : void 0
        },
        qv = Mv,
        Hv = function(s, l, f, e, c) {
            var t, n, d = s.formatter.get(l),
                p = d[0],
                a = !0,
                u = s.dom,
                r = s.selection,
                i = function(e) {
                    var n, t, r, i, o, a, u = (n = s, t = e, r = l, i = f, o = c, Fv(Wg.getParents(n.dom, t.parentNode).reverse(), function(e) {
                        var t;
                        a || "_start" === e.id || "_end" === e.id || (t = cv.matchNode(n, e, r, i, o)) && !1 !== t.split && (a = e)
                    }), a);
                    return function(e, t, n, r, i, o, a, u) {
                        var s, l, f, c, d, p, h = e.dom;
                        if (n) {
                            for (p = n.parentNode, s = r.parentNode; s && s !== p; s = s.parentNode) {
                                for (l = h.clone(s, !1), d = 0; d < t.length; d++)
                                    if (Mv(e, t[d], u, l, l)) {
                                        l = 0;
                                        break
                                    }
                                l && (f && l.appendChild(f), c || (c = l), f = l)
                            }!o || a.mixed && h.isBlock(n) || (r = h.split(n, r)), f && (i.parentNode.insertBefore(f, i), c.appendChild(i))
                        }
                        return r
                    }(s, d, u, e, e, !0, p, f)
                },
                h = function(e) {
                    var t, n, r, i, o;
                    if (Oi.isElement(e) && u.getContentEditable(e) && (i = a, a = "true" === u.getContentEditable(e), o = !0), t = Lt.grep(e.childNodes), a && !o)
                        for (n = 0, r = d.length; n < r && !Mv(s, d[n], f, e, e); n++);
                    if (p.deep && t.length) {
                        for (n = 0, r = t.length; n < r; n++) h(t[n]);
                        o && (a = i)
                    }
                },
                o = function(e) {
                    var t = u.get(e ? "_start" : "_end"),
                        n = t[e ? "firstChild" : "lastChild"];
                    return Il(n) && (n = n[e ? "firstChild" : "lastChild"]), Oi.isText(n) && 0 === n.data.length && (n = e ? t.previousSibling || t.nextSibling : t.nextSibling || t.previousSibling), u.remove(t, !0), n
                },
                m = function(e) {
                    var t, n, r = e.commonAncestorContainer;
                    if (e = iv(s, e, d, !0), p.split) {
                        if ((t = Lv(s, e, !0)) !== (n = Lv(s, e))) {
                            if (/^(TR|TH|TD)$/.test(t.nodeName) && t.firstChild && (t = "TR" === t.nodeName ? t.firstChild.firstChild || t : t.firstChild || t), r && /^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName) && Pv(n) && n.firstChild && (n = n.firstChild || n), u.isChildOf(t, n) && t !== n && !u.isBlock(n) && !Pv(t) && !Pv(n)) return t = Iv(u, t, "span", {
                                id: "_start",
                                "data-mce-type": "bookmark"
                            }), i(t), void(t = o(!0));
                            t = Iv(u, t, "span", {
                                id: "_start",
                                "data-mce-type": "bookmark"
                            }), n = Iv(u, n, "span", {
                                id: "_end",
                                "data-mce-type": "bookmark"
                            }), i(t), i(n), t = o(!0), n = o()
                        } else t = n = i(t);
                        e.startContainer = t.parentNode ? t.parentNode : t, e.startOffset = u.nodeIndex(t), e.endContainer = n.parentNode ? n.parentNode : n, e.endOffset = u.nodeIndex(n) + 1
                    }
                    Rv(u, e, function(e) {
                        Fv(e, function(e) {
                            h(e), Oi.isElement(e) && "underline" === s.dom.getStyle(e, "text-decoration") && e.parentNode && "underline" === Wg.getTextDecoration(u, e.parentNode) && Mv(s, {
                                deep: !1,
                                exact: !0,
                                inline: "span",
                                styles: {
                                    textDecoration: "underline"
                                }
                            }, null, e)
                        })
                    })
                };
            if (e) e.nodeType ? ((n = u.createRng()).setStartBefore(e), n.setEndAfter(e), m(n)) : m(e);
            else if ("false" !== u.getContentEditable(r.getNode())) r.isCollapsed() && p.inline && !u.select("td[data-mce-selected],th[data-mce-selected]").length ? function(e, t, n, r) {
                var i, o, a, u, s, l, f, c = e.dom,
                    d = e.selection,
                    p = [],
                    h = d.getRng();
                for (i = h.startContainer, o = h.startOffset, 3 === (s = i).nodeType && (o !== i.nodeValue.length && (u = !0), s = s.parentNode); s;) {
                    if (cv.matchNode(e, s, t, n, r)) {
                        l = s;
                        break
                    }
                    s.nextSibling && (u = !0), p.push(s), s = s.parentNode
                }
                if (l)
                    if (u) {
                        a = d.getBookmark(), h.collapse(!0);
                        var m = iv(e, h, e.formatter.get(t), !0);
                        m = pv(m), e.formatter.remove(t, n, m), d.moveToBookmark(a)
                    } else {
                        f = Tl(e.getBody(), l);
                        var g = yv(!1).dom(),
                            v = Ev(p, g);
                        wv(e, g, f || l), bv(c, d, f, !1), d.setCursorLocation(v, 1), c.isEmpty(l) && c.remove(l)
                    }
            }(s, l, f, c) : (t = kl.getPersistentBookmark(s.selection, !0), m(r.getRng()), r.moveToBookmark(t), p.inline && cv.match(s, l, f, r.getStart()) && Wg.moveStart(u, r, r.getRng()), s.nodeChanged());
            else {
                e = r.getNode();
                for (var g = 0, v = d.length; g < v && (!d[g].ceFalseOverride || !Mv(s, d[g], f, e, e)); g++);
            }
        },
        zv = Lt.each,
        Uv = function(e) {
            return e && 1 === e.nodeType && !Il(e) && !Nl(e) && !Oi.isBogus(e)
        },
        $v = function(e, t) {
            var n;
            for (n = e; n; n = n[t]) {
                if (3 === n.nodeType && 0 !== n.nodeValue.length) return e;
                if (1 === n.nodeType && !Il(n)) return n
            }
            return e
        },
        Vv = function(e, t, n) {
            var r, i, o = new Ml(e);
            if (t && n && (t = $v(t, "previousSibling"), n = $v(n, "nextSibling"), o.compare(t, n))) {
                for (r = t.nextSibling; r && r !== n;) r = (i = r).nextSibling, t.appendChild(i);
                return e.remove(n), Lt.each(Lt.grep(n.childNodes), function(e) {
                    t.appendChild(e)
                }), t
            }
            return n
        },
        Wv = function(e, t, n) {
            zv(e.childNodes, function(e) {
                Uv(e) && (t(e) && n(e), e.hasChildNodes() && Wv(e, t, n))
            })
        },
        Xv = function(n, e) {
            return z.curry(function(e, t) {
                return !(!t || !Wg.getStyle(n, t, e))
            }, e)
        },
        Kv = function(r, e, t) {
            return z.curry(function(e, t, n) {
                r.setStyle(n, e, t), "" === n.getAttribute("style") && n.removeAttribute("style"), Yv(r, n)
            }, e, t)
        },
        Yv = function(e, t) {
            "SPAN" === t.nodeName && 0 === e.getAttribs(t).length && e.remove(t, !0)
        },
        Gv = function(e, t) {
            var n;
            1 === t.nodeType && t.parentNode && 1 === t.parentNode.nodeType && (n = Wg.getTextDecoration(e, t.parentNode), e.getStyle(t, "color") && n ? e.setStyle(t, "text-decoration", n) : e.getStyle(t, "text-decoration") === n && e.setStyle(t, "text-decoration", null))
        },
        Qv = function(n, e, r, i) {
            zv(e, function(t) {
                zv(n.dom.select(t.inline, i), function(e) {
                        Uv(e) && qv(n, t, r, e, t.exact ? e : null)
                    }),
                    function(r, e, t) {
                        if (e.clear_child_styles) {
                            var n = e.links ? "*:not(a)" : "*";
                            zv(r.select(n, t), function(n) {
                                Uv(n) && zv(e.styles, function(e, t) {
                                    r.setStyle(n, t, "")
                                })
                            })
                        }
                    }(n.dom, t, i)
            })
        },
        Jv = function(e, t, n, r) {
            (t.styles.color || t.styles.textDecoration) && (Lt.walk(r, z.curry(Gv, e), "childNodes"), Gv(e, r))
        },
        Zv = function(e, t, n, r) {
            t.styles && t.styles.backgroundColor && Wv(r, Xv(e, "fontSize"), Kv(e, "backgroundColor", Wg.replaceVars(t.styles.backgroundColor, n)))
        },
        ey = function(e, t, n, r) {
            "sub" !== t.inline && "sup" !== t.inline || (Wv(r, Xv(e, "fontSize"), Kv(e, "fontSize", "")), e.remove(e.select("sup" === t.inline ? "sub" : "sup", r), !0))
        },
        ty = function(e, t, n, r) {
            r && !1 !== t.merge_siblings && (r = Vv(e, Wg.getNonWhiteSpaceSibling(r), r), r = Vv(e, r, Wg.getNonWhiteSpaceSibling(r, !0)))
        },
        ny = function(t, n, r, i, o) {
            cv.matchNode(t, o.parentNode, r, i) && qv(t, n, i, o) || n.merge_with_parents && t.dom.getParent(o.parentNode, function(e) {
                if (cv.matchNode(t, e, r, i)) return qv(t, n, i, o), !0
            })
        },
        ry = Lt.each,
        iy = function(h, m, g, r) {
            var e, t, v = h.formatter.get(m),
                y = v[0],
                i = !r && h.selection.isCollapsed(),
                o = h.dom,
                n = h.selection,
                b = function(n, e) {
                    if (e = e || y, n) {
                        if (e.onformat && e.onformat(n, e, g, r), ry(e.styles, function(e, t) {
                                o.setStyle(n, t, Wg.replaceVars(e, g))
                            }), e.styles) {
                            var t = o.getAttrib(n, "style");
                            t && n.setAttribute("data-mce-style", t)
                        }
                        ry(e.attributes, function(e, t) {
                            o.setAttrib(n, t, Wg.replaceVars(e, g))
                        }), ry(e.classes, function(e) {
                            e = Wg.replaceVars(e, g), o.hasClass(n, e) || o.addClass(n, e)
                        })
                    }
                },
                x = function(e, t) {
                    var n = !1;
                    return !!y.selector && (ry(e, function(e) {
                        if (!("collapsed" in e && e.collapsed !== i)) return o.is(t, e.selector) && !Nl(t) ? (b(t, e), !(n = !0)) : void 0
                    }), n)
                },
                a = function(s, e, t, l) {
                    var f, c, d = [],
                        p = !0;
                    f = y.inline || y.block, c = s.create(f), b(c), Rv(s, e, function(e) {
                        var a, u = function(e) {
                            var t, n, r, i;
                            if (i = p, t = e.nodeName.toLowerCase(), n = e.parentNode.nodeName.toLowerCase(), 1 === e.nodeType && s.getContentEditable(e) && (i = p, p = "true" === s.getContentEditable(e), r = !0), Wg.isEq(t, "br")) return a = 0, void(y.block && s.remove(e));
                            if (y.wrapper && cv.matchNode(h, e, m, g)) a = 0;
                            else {
                                if (p && !r && y.block && !y.wrapper && Wg.isTextBlock(h, t) && Wg.isValid(h, n, f)) return e = s.rename(e, f), b(e), d.push(e), void(a = 0);
                                if (y.selector) {
                                    var o = x(v, e);
                                    if (!y.inline || o) return void(a = 0)
                                }!p || r || !Wg.isValid(h, f, t) || !Wg.isValid(h, n, f) || !l && 3 === e.nodeType && 1 === e.nodeValue.length && 65279 === e.nodeValue.charCodeAt(0) || Nl(e) || y.inline && s.isBlock(e) ? (a = 0, ry(Lt.grep(e.childNodes), u), r && (p = i), a = 0) : (a || (a = s.clone(c, !1), e.parentNode.insertBefore(a, e), d.push(a)), a.appendChild(e))
                            }
                        };
                        ry(e, u)
                    }), !0 === y.links && ry(d, function(e) {
                        var t = function(e) {
                            "A" === e.nodeName && b(e, y), ry(Lt.grep(e.childNodes), t)
                        };
                        t(e)
                    }), ry(d, function(e) {
                        var t, n, r, i, o, a = function(e) {
                            var n = !1;
                            return ry(e.childNodes, function(e) {
                                if ((t = e) && 1 === t.nodeType && !Il(t) && !Nl(t) && !Oi.isBogus(t)) return n = e, !1;
                                var t
                            }), n
                        };
                        n = 0, ry(e.childNodes, function(e) {
                            Wg.isWhiteSpaceNode(e) || Il(e) || n++
                        }), t = n, !(1 < d.length) && s.isBlock(e) || 0 !== t ? (y.inline || y.wrapper) && (y.exact || 1 !== t || ((i = a(r = e)) && !Il(i) && cv.matchName(s, i, y) && (o = s.clone(i, !1), b(o), s.replace(o, r, !0), s.remove(i, 1)), e = o || r), Qv(h, v, g, e), ny(h, y, m, g, e), Zv(s, y, g, e), ey(s, y, g, e), ty(s, y, g, e)) : s.remove(e, 1)
                    })
                };
            if ("false" !== o.getContentEditable(n.getNode())) {
                if (y) {
                    if (r) r.nodeType ? x(v, r) || ((t = o.createRng()).setStartBefore(r), t.setEndAfter(r), a(o, iv(h, t, v), 0, !0)) : a(o, r, 0, !0);
                    else if (i && y.inline && !o.select("td[data-mce-selected],th[data-mce-selected]").length) ! function(e, t, n) {
                        var r, i, o, a, u, s, l = e.selection;
                        a = (r = l.getRng(!0)).startOffset, s = r.startContainer.nodeValue, (i = Tl(e.getBody(), l.getStart())) && (o = vv(i));
                        var f, c, d = /[^\s\u00a0\u00ad\u200b\ufeff]/;
                        s && 0 < a && a < s.length && d.test(s.charAt(a)) && d.test(s.charAt(a - 1)) ? (u = l.getBookmark(), r.collapse(!0), r = iv(e, r, e.formatter.get(t)), r = pv(r), e.formatter.apply(t, n, r), l.moveToBookmark(u)) : (i && o.nodeValue === hv || (f = e.getDoc(), c = yv(!0).dom(), o = (i = f.importNode(c, !0)).firstChild, r.insertNode(i), a = 1), e.formatter.apply(t, n, i), l.setCursorLocation(o, a))
                    }(h, m, g);
                    else {
                        var u = h.selection.getNode();
                        h.settings.forced_root_block || !v[0].defaultBlock || o.getParent(u, o.isBlock) || iy(h, v[0].defaultBlock), h.selection.setRng(Zl(h.selection.getRng())), e = kl.getPersistentBookmark(h.selection, !0), a(o, iv(h, n.getRng(), v)), y.styles && Jv(o, y, g, u), n.moveToBookmark(e), Wg.moveStart(o, n, n.getRng()), h.nodeChanged()
                    }
                    Dv(m, h)
                }
            } else {
                r = n.getNode();
                for (var s = 0, l = v.length; s < l; s++)
                    if (v[s].ceFalseOverride && o.is(r, v[s].selector)) return void b(r, v[s])
            }
        },
        oy = {
            applyFormat: iy
        },
        ay = Lt.each,
        uy = function(e, t, n, r, i) {
            var o, a, u, s, l, f, c, d;
            null === t.get() && (a = e, u = {}, (o = t).set({}), a.on("NodeChange", function(n) {
                var r = Wg.getParents(a.dom, n.element),
                    i = {};
                r = Lt.grep(r, function(e) {
                    return 1 === e.nodeType && !e.getAttribute("data-mce-bogus")
                }), ay(o.get(), function(e, n) {
                    ay(r, function(t) {
                        return a.formatter.matchNode(t, n, {}, e.similar) ? (u[n] || (ay(e, function(e) {
                            e(!0, {
                                node: t,
                                format: n,
                                parents: r
                            })
                        }), u[n] = e), i[n] = e, !1) : !cv.matchesUnInheritedFormatSelector(a, t, n) && void 0
                    })
                }), ay(u, function(e, t) {
                    i[t] || (delete u[t], ay(e, function(e) {
                        e(!1, {
                            node: n.element,
                            format: t,
                            parents: r
                        })
                    }))
                })
            })), l = n, f = r, c = i, d = (s = t).get(), ay(l.split(","), function(e) {
                d[e] || (d[e] = [], d[e].similar = c), d[e].push(f)
            }), s.set(d)
        },
        sy = {
            get: function(r) {
                var t = {
                    valigntop: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "top"
                        }
                    }],
                    valignmiddle: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "middle"
                        }
                    }],
                    valignbottom: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "bottom"
                        }
                    }],
                    alignleft: [{
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-left",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    }, {
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "left"
                        },
                        inherit: !1,
                        preview: !1,
                        defaultBlock: "div"
                    }, {
                        selector: "img,table",
                        collapsed: !1,
                        styles: {
                            float: "left"
                        },
                        preview: "font-family font-size"
                    }],
                    aligncenter: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "center"
                        },
                        inherit: !1,
                        preview: "font-family font-size",
                        defaultBlock: "div"
                    }, {
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-center",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    }, {
                        selector: "img",
                        collapsed: !1,
                        styles: {
                            display: "block",
                            marginLeft: "auto",
                            marginRight: "auto"
                        },
                        preview: !1
                    }, {
                        selector: "table",
                        collapsed: !1,
                        styles: {
                            marginLeft: "auto",
                            marginRight: "auto"
                        },
                        preview: "font-family font-size"
                    }],
                    alignright: [{
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-right",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    }, {
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "right"
                        },
                        inherit: !1,
                        preview: "font-family font-size",
                        defaultBlock: "div"
                    }, {
                        selector: "img,table",
                        collapsed: !1,
                        styles: {
                            float: "right"
                        },
                        preview: "font-family font-size"
                    }],
                    alignjustify: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "justify"
                        },
                        inherit: !1,
                        defaultBlock: "div",
                        preview: "font-family font-size"
                    }],
                    bold: [{
                        inline: "strong",
                        remove: "all"
                    }, {
                        inline: "span",
                        styles: {
                            fontWeight: "bold"
                        }
                    }, {
                        inline: "b",
                        remove: "all"
                    }],
                    italic: [{
                        inline: "em",
                        remove: "all"
                    }, {
                        inline: "span",
                        styles: {
                            fontStyle: "italic"
                        }
                    }, {
                        inline: "i",
                        remove: "all"
                    }],
                    underline: [{
                        inline: "span",
                        styles: {
                            textDecoration: "underline"
                        },
                        exact: !0
                    }, {
                        inline: "u",
                        remove: "all"
                    }],
                    strikethrough: [{
                        inline: "span",
                        styles: {
                            textDecoration: "line-through"
                        },
                        exact: !0
                    }, {
                        inline: "strike",
                        remove: "all"
                    }],
                    forecolor: {
                        inline: "span",
                        styles: {
                            color: "%value"
                        },
                        links: !0,
                        remove_similar: !0,
                        clear_child_styles: !0
                    },
                    hilitecolor: {
                        inline: "span",
                        styles: {
                            backgroundColor: "%value"
                        },
                        links: !0,
                        remove_similar: !0,
                        clear_child_styles: !0
                    },
                    fontname: {
                        inline: "span",
                        toggle: !1,
                        styles: {
                            fontFamily: "%value"
                        },
                        clear_child_styles: !0
                    },
                    fontsize: {
                        inline: "span",
                        toggle: !1,
                        styles: {
                            fontSize: "%value"
                        },
                        clear_child_styles: !0
                    },
                    fontsize_class: {
                        inline: "span",
                        attributes: {
                            class: "%value"
                        }
                    },
                    blockquote: {
                        block: "blockquote",
                        wrapper: 1,
                        remove: "all"
                    },
                    subscript: {
                        inline: "sub"
                    },
                    superscript: {
                        inline: "sup"
                    },
                    code: {
                        inline: "code"
                    },
                    link: {
                        inline: "a",
                        selector: "a",
                        remove: "all",
                        split: !0,
                        deep: !0,
                        onmatch: function() {
                            return !0
                        },
                        onformat: function(n, e, t) {
                            Lt.each(t, function(e, t) {
                                r.setAttrib(n, t, e)
                            })
                        }
                    },
                    removeformat: [{
                        selector: "b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",
                        remove: "all",
                        split: !0,
                        expand: !1,
                        block_expand: !0,
                        deep: !0
                    }, {
                        selector: "span",
                        attributes: ["style", "class"],
                        remove: "empty",
                        split: !0,
                        expand: !1,
                        deep: !0
                    }, {
                        selector: "*",
                        attributes: ["style", "class"],
                        split: !1,
                        expand: !1,
                        deep: !0
                    }]
                };
                return Lt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/), function(e) {
                    t[e] = {
                        block: e,
                        remove: "all"
                    }
                }), t
            }
        },
        ly = Lt.each,
        fy = vo.DOM,
        cy = function(e, t) {
            var n, i, r, p = t && t.schema || ro({}),
                h = function(e) {
                    var t, n, r;
                    return i = "string" == typeof e ? {
                        name: e,
                        classes: [],
                        attrs: {}
                    } : e, t = fy.create(i.name), n = t, (r = i).classes.length && fy.addClass(n, r.classes.join(" ")), fy.setAttribs(n, r.attrs), t
                },
                m = function(n, e, t) {
                    var r, i, o, a, u, s, l, f, c = 0 < e.length && e[0],
                        d = c && c.name;
                    if (u = d, s = "string" != typeof(a = n) ? a.nodeName.toLowerCase() : a, l = p.getElementRule(s), o = !(!(f = l && l.parentsRequired) || !f.length) && (u && -1 !== Lt.inArray(f, u) ? u : f[0])) d === o ? (i = e[0], e = e.slice(1)) : i = o;
                    else if (c) i = e[0], e = e.slice(1);
                    else if (!t) return n;
                    return i && (r = h(i)).appendChild(n), t && (r || (r = fy.create("div")).appendChild(n), Lt.each(t, function(e) {
                        var t = h(e);
                        r.insertBefore(t, n)
                    })), m(r, e, i && i.siblings)
                };
            return e && e.length ? (i = e[0], n = h(i), (r = fy.create("div")).appendChild(m(n, e.slice(1), i.siblings)), r) : ""
        },
        dy = function(e) {
            var t, a = {
                classes: [],
                attrs: {}
            };
            return "*" !== (e = a.selector = Lt.trim(e)) && (t = e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g, function(e, t, n, r, i) {
                switch (t) {
                    case "#":
                        a.attrs.id = n;
                        break;
                    case ".":
                        a.classes.push(n);
                        break;
                    case ":":
                        -1 !== Lt.inArray("checked disabled enabled read-only required".split(" "), n) && (a.attrs[n] = n)
                }
                if ("[" === r) {
                    var o = i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);
                    o && (a.attrs[o[1]] = o[2])
                }
                return ""
            })), a.name = t || "div", a
        },
        py = function(e) {
            return e && "string" == typeof e ? (e = (e = e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g, "$1"), Lt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/), function(e) {
                var t = Lt.map(e.split(/(?:~\+|~|\+)/), dy),
                    n = t.pop();
                return t.length && (n.siblings = t), n
            }).reverse()) : []
        },
        hy = function(n, e) {
            var t, r, i, o, a, u, s = "";
            if (!1 === (u = n.settings.preview_styles)) return "";
            "string" != typeof u && (u = "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");
            var l = function(e) {
                return e.replace(/%(\w+)/g, "")
            };
            if ("string" == typeof e) {
                if (!(e = n.formatter.get(e))) return;
                e = e[0]
            }
            return "preview" in e && !1 === (u = e.preview) ? "" : (t = e.block || e.inline || "span", (o = py(e.selector)).length ? (o[0].name || (o[0].name = t), t = e.selector, r = cy(o, n)) : r = cy([t], n), i = fy.select(t, r)[0] || r.firstChild, ly(e.styles, function(e, t) {
                (e = l(e)) && fy.setStyle(i, t, e)
            }), ly(e.attributes, function(e, t) {
                (e = l(e)) && fy.setAttrib(i, t, e)
            }), ly(e.classes, function(e) {
                e = l(e), fy.hasClass(i, e) || fy.addClass(i, e)
            }), n.fire("PreviewFormats"), fy.setStyles(r, {
                position: "absolute",
                left: -65535
            }), n.getBody().appendChild(r), a = fy.getStyle(n.getBody(), "fontSize", !0), a = /px$/.test(a) ? parseInt(a, 10) : 0, ly(u.split(" "), function(e) {
                var t = fy.getStyle(i, e, !0);
                if (!("background-color" === e && /transparent|rgba\s*\([^)]+,\s*0\)/.test(t) && (t = fy.getStyle(n.getBody(), e, !0), "#ffffff" === fy.toHex(t).toLowerCase()) || "color" === e && "#000000" === fy.toHex(t).toLowerCase())) {
                    if ("font-size" === e && /em|%$/.test(t)) {
                        if (0 === a) return;
                        t = parseFloat(t) / (/%$/.test(t) ? 100 : 1) * a + "px"
                    }
                    "border" === e && t && (s += "padding:0 2px;"), s += e + ":" + t + ";"
                }
            }), n.fire("AfterPreviewFormats"), fy.remove(r), s)
        },
        my = function(e, t, n, r, i) {
            var o = t.get(n);
            !cv.match(e, n, r, i) || "toggle" in o[0] && !o[0].toggle ? oy.applyFormat(e, n, r, i) : Hv(e, n, r, i)
        },
        gy = function(e) {
            e.addShortcut("meta+b", "", "Bold"), e.addShortcut("meta+i", "", "Italic"), e.addShortcut("meta+u", "", "Underline");
            for (var t = 1; t <= 6; t++) e.addShortcut("access+" + t, "", ["FormatBlock", !1, "h" + t]);
            e.addShortcut("access+7", "", ["FormatBlock", !1, "p"]), e.addShortcut("access+8", "", ["FormatBlock", !1, "div"]), e.addShortcut("access+9", "", ["FormatBlock", !1, "address"])
        };

    function vy(e) {
        var t, n, r, i = (t = e, n = {}, (r = function(e, t) {
                e && ("string" != typeof e ? Lt.each(e, function(e, t) {
                    r(t, e)
                }) : (t = t.length ? t : [t], Lt.each(t, function(e) {
                    "undefined" == typeof e.deep && (e.deep = !e.selector), "undefined" == typeof e.split && (e.split = !e.selector || e.inline), "undefined" == typeof e.remove && e.selector && !e.inline && (e.remove = "none"), e.selector && e.inline && (e.mixed = !0, e.block_expand = !0), "string" == typeof e.classes && (e.classes = e.classes.split(/\s+/))
                }), n[e] = t))
            })(sy.get(t.dom)), r(t.settings.formats), {
                get: function(e) {
                    return e ? n[e] : n
                },
                register: r,
                unregister: function(e) {
                    return e && n[e] && delete n[e], n
                }
            }),
            o = ns(null);
        return gy(e), kv(e), {
            get: i.get,
            register: i.register,
            unregister: i.unregister,
            apply: z.curry(oy.applyFormat, e),
            remove: z.curry(Hv, e),
            toggle: z.curry(my, e, i),
            match: z.curry(cv.match, e),
            matchAll: z.curry(cv.matchAll, e),
            matchNode: z.curry(cv.matchNode, e),
            canApply: z.curry(cv.canApply, e),
            formatChanged: z.curry(uy, e, o),
            getCssText: z.curry(hy, e)
        }
    }
    var yy = function(a) {
            return function() {
                for (var e = new Array(arguments.length), t = 0; t < e.length; t++) e[t] = arguments[t];
                if (0 === e.length) throw new Error("Can't merge zero objects");
                for (var n = {}, r = 0; r < e.length; r++) {
                    var i = e[r];
                    for (var o in i) i.hasOwnProperty(o) && (n[o] = a(n[o], i[o]))
                }
                return n
            }
        },
        by = yy(function(e, t) {
            return N.isObject(e) && N.isObject(t) ? by(e, t) : t
        }),
        xy = yy(function(e, t) {
            return t
        }),
        wy = {
            deepMerge: by,
            merge: xy
        },
        Cy = {
            register: function(t, s, l) {
                t.addAttributeFilter("data-mce-tabindex", function(e, t) {
                    for (var n, r = e.length; r--;)(n = e[r]).attr("tabindex", n.attributes.map["data-mce-tabindex"]), n.attr(t, null)
                }), t.addAttributeFilter("src,href,style", function(e, t) {
                    for (var n, r, i = e.length, o = "data-mce-" + t, a = s.url_converter, u = s.url_converter_scope; i--;)(r = (n = e[i]).attributes.map[o]) !== undefined ? (n.attr(t, 0 < r.length ? r : null), n.attr(o, null)) : (r = n.attributes.map[t], "style" === t ? r = l.serializeStyle(l.parseStyle(r), n.name) : a && (r = a.call(u, r, t, n.name)), n.attr(t, 0 < r.length ? r : null))
                }), t.addAttributeFilter("class", function(e) {
                    for (var t, n, r = e.length; r--;)(n = (t = e[r]).attr("class")) && (n = t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""), t.attr("class", 0 < n.length ? n : null))
                }), t.addAttributeFilter("data-mce-type", function(e, t, n) {
                    for (var r, i = e.length; i--;) "bookmark" !== (r = e[i]).attributes.map["data-mce-type"] || n.cleanup || r.remove()
                }), t.addNodeFilter("noscript", function(e) {
                    for (var t, n = e.length; n--;)(t = e[n].firstChild) && (t.value = Wi.decode(t.value))
                }), t.addNodeFilter("script,style", function(e, t) {
                    for (var n, r, i, o = e.length, a = function(e) {
                            return e.replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "")
                        }; o--;) r = (n = e[o]).firstChild ? n.firstChild.value : "", "script" === t ? ((i = n.attr("type")) && n.attr("type", "mce-no/type" === i ? null : i.replace(/^mce\-/, "")), "xhtml" === s.element_format && 0 < r.length && (n.firstChild.value = "// <![CDATA[\n" + a(r) + "\n// ]]>")) : "xhtml" === s.element_format && 0 < r.length && (n.firstChild.value = "\x3c!--\n" + a(r) + "\n--\x3e")
                }), t.addNodeFilter("#comment", function(e) {
                    for (var t, n = e.length; n--;) 0 === (t = e[n]).value.indexOf("[CDATA[") ? (t.name = "#cdata", t.type = 4, t.value = t.value.replace(/^\[CDATA\[|\]\]$/g, "")) : 0 === t.value.indexOf("mce:protected ") && (t.name = "#text", t.type = 3, t.raw = !0, t.value = unescape(t.value).substr(14))
                }), t.addNodeFilter("xml:namespace,input", function(e, t) {
                    for (var n, r = e.length; r--;) 7 === (n = e[r]).type ? n.remove() : 1 === n.type && ("input" !== t || "type" in n.attributes.map || n.attr("type", "text"))
                }), t.addAttributeFilter("data-mce-type", function(e) {
                    U.each(e, function(e) {
                        "format-caret" === e.attr("data-mce-type") && (e.isEmpty(t.schema.getNonEmptyElements()) ? e.remove() : e.unwrap())
                    })
                }), t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize", function(e, t) {
                    for (var n = e.length; n--;) e[n].attr(t, null)
                })
            },
            trimTrailingBr: function(e) {
                var t, n, r = function(e) {
                    return e && "br" === e.name
                };
                r(t = e.lastChild) && r(n = t.prev) && (t.remove(), n.remove())
            }
        },
        Ey = {
            process: function(e, t, n) {
                return c = n, (f = e) && f.hasEventListeners("PreProcess") && !c.no_events ? (i = t, o = n, l = (r = e).dom, i = i.cloneNode(!0), (a = document.implementation).createHTMLDocument && (u = a.createHTMLDocument(""), Lt.each("BODY" === i.nodeName ? i.childNodes : [i], function(e) {
                    u.body.appendChild(u.importNode(e, !0))
                }), i = "BODY" !== i.nodeName ? u.body.firstChild : u.body, s = l.doc, l.doc = u), lh(r, wy.merge(o, {
                    node: i
                })), s && (l.doc = s), i) : t;
                var r, i, o, a, u, s, l, f, c
            }
        },
        ky = function(e, u, s) {
            e.addNodeFilter("font", function(e) {
                U.each(e, function(e) {
                    var t, n, r = u.parse(e.attr("style")),
                        i = e.attr("color"),
                        o = e.attr("face"),
                        a = e.attr("size");
                    i && (r.color = i), o && (r["font-family"] = o), a && (r["font-size"] = s[parseInt(e.attr("size"), 10) - 1]), e.name = "span", e.attr("style", u.serialize(r)), t = e, n = ["color", "face", "size"], U.each(n, function(e) {
                        t.attr(e, null)
                    })
                })
            })
        },
        Sy = function(e, t) {
            var n, r = oo();
            t.convert_fonts_to_spans && ky(e, r, Lt.explode(t.font_size_legacy_values)), n = r, e.addNodeFilter("strike", function(e) {
                U.each(e, function(e) {
                    var t = n.parse(e.attr("style"));
                    t["text-decoration"] = "line-through", e.name = "span", e.attr("style", n.serialize(t))
                })
            })
        },
        Ny = {
            register: function(e, t) {
                t.inline_styles && Sy(e, t)
            }
        },
        Ty = /^[ \t\r\n]*$/,
        Ay = {
            "#text": 3,
            "#comment": 8,
            "#cdata": 4,
            "#pi": 7,
            "#doctype": 10,
            "#document-fragment": 11
        },
        Dy = function(e, t, n) {
            var r, i, o = n ? "lastChild" : "firstChild",
                a = n ? "prev" : "next";
            if (e[o]) return e[o];
            if (e !== t) {
                if (r = e[a]) return r;
                for (i = e.parent; i && i !== t; i = i.parent)
                    if (r = i[a]) return r
            }
        },
        _y = function() {
            function a(e, t) {
                this.name = e, 1 === (this.type = t) && (this.attributes = [], this.attributes.map = {})
            }
            return a.create = function(e, t) {
                var n, r;
                if (n = new a(e, Ay[e] || 1), t)
                    for (r in t) n.attr(r, t[r]);
                return n
            }, a.prototype.replace = function(e) {
                return e.parent && e.remove(), this.insert(e, this), this.remove(), this
            }, a.prototype.attr = function(e, t) {
                var n, r;
                if ("string" != typeof e) {
                    for (r in e) this.attr(r, e[r]);
                    return this
                }
                if (n = this.attributes) {
                    if (t !== undefined) {
                        if (null === t) {
                            if (e in n.map)
                                for (delete n.map[e], r = n.length; r--;)
                                    if (n[r].name === e) return n = n.splice(r, 1), this;
                            return this
                        }
                        if (e in n.map) {
                            for (r = n.length; r--;)
                                if (n[r].name === e) {
                                    n[r].value = t;
                                    break
                                }
                        } else n.push({
                            name: e,
                            value: t
                        });
                        return n.map[e] = t, this
                    }
                    return n.map[e]
                }
            }, a.prototype.clone = function() {
                var e, t, n, r, i, o = new a(this.name, this.type);
                if (n = this.attributes) {
                    for ((i = []).map = {}, e = 0, t = n.length; e < t; e++) "id" !== (r = n[e]).name && (i[i.length] = {
                        name: r.name,
                        value: r.value
                    }, i.map[r.name] = r.value);
                    o.attributes = i
                }
                return o.value = this.value, o.shortEnded = this.shortEnded, o
            }, a.prototype.wrap = function(e) {
                return this.parent.insert(e, this), e.append(this), this
            }, a.prototype.unwrap = function() {
                var e, t;
                for (e = this.firstChild; e;) t = e.next, this.insert(e, this, !0), e = t;
                this.remove()
            }, a.prototype.remove = function() {
                var e = this.parent,
                    t = this.next,
                    n = this.prev;
                return e && (e.firstChild === this ? (e.firstChild = t) && (t.prev = null) : n.next = t, e.lastChild === this ? (e.lastChild = n) && (n.next = null) : t.prev = n, this.parent = this.next = this.prev = null), this
            }, a.prototype.append = function(e) {
                var t;
                return e.parent && e.remove(), (t = this.lastChild) ? ((t.next = e).prev = t, this.lastChild = e) : this.lastChild = this.firstChild = e, e.parent = this, e
            }, a.prototype.insert = function(e, t, n) {
                var r;
                return e.parent && e.remove(), r = t.parent || this, n ? (t === r.firstChild ? r.firstChild = e : t.prev.next = e, e.prev = t.prev, (e.next = t).prev = e) : (t === r.lastChild ? r.lastChild = e : t.next.prev = e, e.next = t.next, (e.prev = t).next = e), e.parent = r, e
            }, a.prototype.getAll = function(e) {
                var t, n = [];
                for (t = this.firstChild; t; t = Dy(t, this)) t.name === e && n.push(t);
                return n
            }, a.prototype.empty = function() {
                var e, t, n;
                if (this.firstChild) {
                    for (e = [], n = this.firstChild; n; n = Dy(n, this)) e.push(n);
                    for (t = e.length; t--;)(n = e[t]).parent = n.firstChild = n.lastChild = n.next = n.prev = null
                }
                return this.firstChild = this.lastChild = null, this
            }, a.prototype.isEmpty = function(e, t, n) {
                var r, i, o = this.firstChild;
                if (t = t || {}, o)
                    do {
                        if (1 === o.type) {
                            if (o.attributes.map["data-mce-bogus"]) continue;
                            if (e[o.name]) return !1;
                            for (r = o.attributes.length; r--;)
                                if ("name" === (i = o.attributes[r].name) || 0 === i.indexOf("data-mce-bookmark")) return !1
                        }
                        if (8 === o.type) return !1;
                        if (3 === o.type && !Ty.test(o.value)) return !1;
                        if (3 === o.type && o.parent && t[o.parent.name] && Ty.test(o.value)) return !1;
                        if (n && n(o)) return !1
                    } while (o = Dy(o, this));
                return !0
            }, a.prototype.walk = function(e) {
                return Dy(this, null, e)
            }, a
        }(),
        Ry = function(e, t, n, r) {
            (e.padd_empty_with_br || t.insert) && n[r.name] ? r.empty().append(new _y("br", 1)).shortEnded = !0 : r.empty().append(new _y("#text", 3)).value = "Â "
        },
        Oy = function(e) {
            return Fy(e, "#text") && "Â " === e.firstChild.value
        },
        Fy = function(e, t) {
            return e && e.firstChild && e.firstChild === e.lastChild && e.firstChild.name === t
        },
        By = function(r, e, t, n) {
            return n.isEmpty(e, t, function(e) {
                return t = e, (n = r.getElementRule(t.name)) && n.paddEmpty;
                var t, n
            })
        },
        Py = function(e, t) {
            return e && (t[e.name] || "br" === e.name)
        },
        Ly = function(e, m) {
            var g = e.schema;
            m.remove_trailing_brs && e.addNodeFilter("br", function(e, t, n) {
                var r, i, o, a, u, s, l, f, c = e.length,
                    d = Lt.extend({}, g.getBlockElements()),
                    p = g.getNonEmptyElements(),
                    h = g.getNonEmptyElements();
                for (d.body = 1, r = 0; r < c; r++)
                    if (o = (i = e[r]).parent, d[i.parent.name] && i === o.lastChild) {
                        for (u = i.prev; u;) {
                            if ("span" !== (s = u.name) || "bookmark" !== u.attr("data-mce-type")) {
                                if ("br" !== s) break;
                                if ("br" === s) {
                                    i = null;
                                    break
                                }
                            }
                            u = u.prev
                        }
                        i && (i.remove(), By(g, p, h, o) && (l = g.getElementRule(o.name)) && (l.removeEmpty ? o.remove() : l.paddEmpty && Ry(m, n, d, o)))
                    } else {
                        for (a = i; o && o.firstChild === a && o.lastChild === a && !d[(a = o).name];) o = o.parent;
                        a === o && !0 !== m.padd_empty_with_br && ((f = new _y("#text", 3)).value = "Â ", i.replace(f))
                    }
            }), e.addAttributeFilter("href", function(e) {
                var t, n, r, i = e.length;
                if (!m.allow_unsafe_link_target)
                    for (; i--;) "a" === (t = e[i]).name && "_blank" === t.attr("target") && t.attr("rel", (n = t.attr("rel"), r = n ? Lt.trim(n) : "", /\b(noopener)\b/g.test(r) ? r : r.split(" ").filter(function(e) {
                        return 0 < e.length
                    }).concat(["noopener"]).sort().join(" ")))
            }), m.allow_html_in_named_anchor || e.addAttributeFilter("id,name", function(e) {
                for (var t, n, r, i, o = e.length; o--;)
                    if ("a" === (i = e[o]).name && i.firstChild && !i.attr("href"))
                        for (r = i.parent, t = i.lastChild; n = t.prev, r.insert(t, i), t = n;);
            }), m.fix_list_elements && e.addNodeFilter("ul,ol", function(e) {
                for (var t, n, r = e.length; r--;)
                    if ("ul" === (n = (t = e[r]).parent).name || "ol" === n.name)
                        if (t.prev && "li" === t.prev.name) t.prev.append(t);
                        else {
                            var i = new _y("li", 1);
                            i.attr("style", "list-style-type: none"), t.wrap(i)
                        }
            }), m.validate && g.getValidClasses() && e.addAttributeFilter("class", function(e) {
                for (var t, n, r, i, o, a, u, s = e.length, l = g.getValidClasses(); s--;) {
                    for (n = (t = e[s]).attr("class").split(" "), o = "", r = 0; r < n.length; r++) i = n[r], u = !1, (a = l["*"]) && a[i] && (u = !0), a = l[t.name], !u && a && a[i] && (u = !0), u && (o && (o += " "), o += i);
                    o.length || (o = null), t.attr("class", o)
                }
            })
        },
        Iy = Lt.makeMap,
        jy = Lt.each,
        My = Lt.explode,
        qy = Lt.extend;

    function Hy(N, T) {
        void 0 === T && (T = ro());
        var A = {},
            D = [],
            _ = {},
            R = {};
        (N = N || {}).validate = !("validate" in N) || N.validate, N.root_name = N.root_name || "body";
        var O = function(e) {
                var t, n, r;
                n in A && ((r = _[n]) ? r.push(e) : _[n] = [e]), t = D.length;
                for (; t--;)(n = D[t].name) in e.attributes.map && ((r = R[n]) ? r.push(e) : R[n] = [e]);
                return e
            },
            e = {
                schema: T,
                addAttributeFilter: function(e, n) {
                    jy(My(e), function(e) {
                        var t;
                        for (t = 0; t < D.length; t++)
                            if (D[t].name === e) return void D[t].callbacks.push(n);
                        D.push({
                            name: e,
                            callbacks: [n]
                        })
                    })
                },
                getAttributeFilters: function() {
                    return [].concat(D)
                },
                addNodeFilter: function(e, n) {
                    jy(My(e), function(e) {
                        var t = A[e];
                        t || (A[e] = t = []), t.push(n)
                    })
                },
                getNodeFilters: function() {
                    var e = [];
                    for (var t in A) A.hasOwnProperty(t) && e.push({
                        name: t,
                        callbacks: A[t]
                    });
                    return e
                },
                filterNode: O,
                parse: function(e, a) {
                    var t, n, r, i, o, u, s, l, f, c, d, p = [];
                    a = a || {}, _ = {}, R = {}, f = qy(Iy("script,style,head,html,body,title,meta,param"), T.getBlockElements());
                    var h = T.getNonEmptyElements(),
                        m = T.children,
                        g = N.validate,
                        v = "forced_root_block" in a ? a.forced_root_block : N.forced_root_block,
                        y = T.getWhiteSpaceElements(),
                        b = /^[ \t\r\n]+/,
                        x = /[ \t\r\n]+$/,
                        w = /[ \t\r\n]+/g,
                        C = /^[ \t\r\n]+$/;
                    c = y.hasOwnProperty(a.context) || y.hasOwnProperty(N.root_name);
                    var E = function(e, t) {
                            var n, r = new _y(e, t);
                            return e in A && ((n = _[e]) ? n.push(r) : _[e] = [r]), r
                        },
                        k = function(e) {
                            var t, n, r, i, o = T.getBlockElements();
                            for (t = e.prev; t && 3 === t.type;) {
                                if (0 < (r = t.value.replace(x, "")).length) return void(t.value = r);
                                if (n = t.next) {
                                    if (3 === n.type && n.value.length) {
                                        t = t.prev;
                                        continue
                                    }
                                    if (!o[n.name] && "script" !== n.name && "style" !== n.name) {
                                        t = t.prev;
                                        continue
                                    }
                                }
                                i = t.prev, t.remove(), t = i
                            }
                        };
                    t = vg({
                        validate: g,
                        allow_script_urls: N.allow_script_urls,
                        allow_conditional_comments: N.allow_conditional_comments,
                        self_closing_elements: function(e) {
                            var t, n = {};
                            for (t in e) "li" !== t && "p" !== t && (n[t] = e[t]);
                            return n
                        }(T.getSelfClosingElements()),
                        cdata: function(e) {
                            d.append(E("#cdata", 4)).value = e
                        },
                        text: function(e, t) {
                            var n;
                            c || (e = e.replace(w, " "), Py(d.lastChild, f) && (e = e.replace(b, ""))), 0 !== e.length && ((n = E("#text", 3)).raw = !!t, d.append(n).value = e)
                        },
                        comment: function(e) {
                            d.append(E("#comment", 8)).value = e
                        },
                        pi: function(e, t) {
                            d.append(E(e, 7)).value = t, k(d)
                        },
                        doctype: function(e) {
                            d.append(E("#doctype", 10)).value = e, k(d)
                        },
                        start: function(e, t, n) {
                            var r, i, o, a, u;
                            if (o = g ? T.getElementRule(e) : {}) {
                                for ((r = E(o.outputName || e, 1)).attributes = t, r.shortEnded = n, d.append(r), (u = m[d.name]) && m[r.name] && !u[r.name] && p.push(r), i = D.length; i--;)(a = D[i].name) in t.map && ((s = R[a]) ? s.push(r) : R[a] = [r]);
                                f[e] && k(r), n || (d = r), !c && y[e] && (c = !0)
                            }
                        },
                        end: function(e) {
                            var t, n, r, i, o;
                            if (n = g ? T.getElementRule(e) : {}) {
                                if (f[e] && !c) {
                                    if ((t = d.firstChild) && 3 === t.type)
                                        if (0 < (r = t.value.replace(b, "")).length) t.value = r, t = t.next;
                                        else
                                            for (i = t.next, t.remove(), t = i; t && 3 === t.type;) r = t.value, i = t.next, (0 === r.length || C.test(r)) && (t.remove(), t = i), t = i;
                                    if ((t = d.lastChild) && 3 === t.type)
                                        if (0 < (r = t.value.replace(x, "")).length) t.value = r, t = t.prev;
                                        else
                                            for (i = t.prev, t.remove(), t = i; t && 3 === t.type;) r = t.value, i = t.prev, (0 === r.length || C.test(r)) && (t.remove(), t = i), t = i
                                }
                                if (c && y[e] && (c = !1), n.removeEmpty && By(T, h, y, d) && !d.attributes.map.name && !d.attr("id")) return o = d.parent, f[d.name] ? d.empty().remove() : d.unwrap(), void(d = o);
                                n.paddEmpty && (Oy(d) || By(T, h, y, d)) && Ry(N, a, f, d), d = d.parent
                            }
                        }
                    }, T);
                    var S = d = new _y(a.context || N.root_name, 11);
                    if (t.parse(e), g && p.length && (a.context ? a.invalid = !0 : function(e) {
                            var t, n, r, i, o, a, u, s, l, f, c, d, p, h, m, g;
                            for (d = Iy("tr,td,th,tbody,thead,tfoot,table"), f = T.getNonEmptyElements(), c = T.getWhiteSpaceElements(), p = T.getTextBlockElements(), h = T.getSpecialElements(), t = 0; t < e.length; t++)
                                if ((n = e[t]).parent && !n.fixed)
                                    if (p[n.name] && "li" === n.parent.name) {
                                        for (m = n.next; m && p[m.name];) m.name = "li", m.fixed = !0, n.parent.insert(m, n.parent), m = m.next;
                                        n.unwrap(n)
                                    } else {
                                        for (i = [n], r = n.parent; r && !T.isValidChild(r.name, n.name) && !d[r.name]; r = r.parent) i.push(r);
                                        if (r && 1 < i.length) {
                                            for (i.reverse(), o = a = O(i[0].clone()), l = 0; l < i.length - 1; l++) {
                                                for (T.isValidChild(a.name, i[l].name) ? (u = O(i[l].clone()), a.append(u)) : u = a, s = i[l].firstChild; s && s !== i[l + 1];) g = s.next, u.append(s), s = g;
                                                a = u
                                            }
                                            By(T, f, c, o) ? r.insert(n, i[0], !0) : (r.insert(o, i[0], !0), r.insert(n, o)), r = i[0], (By(T, f, c, r) || Fy(r, "br")) && r.empty().remove()
                                        } else if (n.parent) {
                                            if ("li" === n.name) {
                                                if ((m = n.prev) && ("ul" === m.name || "ul" === m.name)) {
                                                    m.append(n);
                                                    continue
                                                }
                                                if ((m = n.next) && ("ul" === m.name || "ul" === m.name)) {
                                                    m.insert(n, m.firstChild, !0);
                                                    continue
                                                }
                                                n.wrap(O(new _y("ul", 1)));
                                                continue
                                            }
                                            T.isValidChild(n.parent.name, "div") && T.isValidChild("div", n.name) ? n.wrap(O(new _y("div", 1))) : h[n.name] ? n.empty().remove() : n.unwrap()
                                        }
                                    }
                        }(p)), v && ("body" === S.name || a.isRootContent) && function() {
                            var e, t, n = S.firstChild,
                                r = function(e) {
                                    e && ((n = e.firstChild) && 3 === n.type && (n.value = n.value.replace(b, "")), (n = e.lastChild) && 3 === n.type && (n.value = n.value.replace(x, "")))
                                };
                            if (T.isValidChild(S.name, v.toLowerCase())) {
                                for (; n;) e = n.next, 3 === n.type || 1 === n.type && "p" !== n.name && !f[n.name] && !n.attr("data-mce-type") ? (t || ((t = E(v, 1)).attr(N.forced_root_block_attrs), S.insert(t, n)), t.append(n)) : (r(t), t = null), n = e;
                                r(t)
                            }
                        }(), !a.invalid) {
                        for (l in _) {
                            for (s = A[l], o = (n = _[l]).length; o--;) n[o].parent || n.splice(o, 1);
                            for (r = 0, i = s.length; r < i; r++) s[r](n, l, a)
                        }
                        for (r = 0, i = D.length; r < i; r++)
                            if ((s = D[r]).name in R) {
                                for (o = (n = R[s.name]).length; o--;) n[o].parent || n.splice(o, 1);
                                for (o = 0, u = s.callbacks.length; o < u; o++) s.callbacks[o](n, s.name, a)
                            }
                    }
                    return S
                }
            };
        return Ly(e, N), Ny.register(e, N), e
    }
    var zy = function(e, t, n) {
            -1 === Lt.inArray(t, n) && (e.addAttributeFilter(n, function(e, t) {
                for (var n = e.length; n--;) e[n].attr(t, null)
            }), t.push(n))
        },
        Uy = function(e, t, n) {
            var r = _o(n.getInner ? t.innerHTML : e.getOuterHTML(t));
            return n.selection || wi(zn.fromDom(t)) ? r : Lt.trim(r)
        },
        $y = function(e, t, n) {
            var r = n.selection ? wy.merge({
                    forced_root_block: !1
                }, n) : n,
                i = e.parse(t, r);
            return Cy.trimTrailingBr(i), i
        },
        Vy = function(e, t, n, r, i) {
            var o, a, u, s, l = (o = r, Ql(t, n).serialize(o));
            return a = e, s = l, !(u = i).no_events && a ? fh(a, wy.merge(u, {
                content: s
            })).content : s
        };

    function Wy(e, t) {
        var a, u, s, l, f, n, r = (a = e, n = ["data-mce-selected"], s = (u = t) && u.dom ? u.dom : vo.DOM, l = u && u.schema ? u.schema : ro(a), a.entity_encoding = a.entity_encoding || "named", a.remove_trailing_brs = !("remove_trailing_brs" in a) || a.remove_trailing_brs, f = Hy(a, l), Cy.register(f, a, s), {
            schema: l,
            addNodeFilter: f.addNodeFilter,
            addAttributeFilter: f.addAttributeFilter,
            serialize: function(e, t) {
                var n = wy.merge({
                        format: "html"
                    }, t || {}),
                    r = Ey.process(u, e, n),
                    i = Uy(s, r, n),
                    o = $y(f, i, n);
                return "tree" === n.format ? o : Vy(u, a, l, o, n)
            },
            addRules: function(e) {
                l.addValidElements(e)
            },
            setRules: function(e) {
                l.setValidElements(e)
            },
            addTempAttr: z.curry(zy, f, n),
            getTempAttrs: function() {
                return n
            }
        });
        return {
            schema: r.schema,
            addNodeFilter: r.addNodeFilter,
            addAttributeFilter: r.addAttributeFilter,
            serialize: r.serialize,
            addRules: r.addRules,
            setRules: r.setRules,
            addTempAttr: r.addTempAttr,
            getTempAttrs: r.getTempAttrs
        }
    }

    function Xy(e) {
        return {
            getBookmark: z.curry(Pl, e),
            moveToBookmark: z.curry(Ll, e)
        }
    }(Xy || (Xy = {})).isBookmarkNode = Il;
    var Ky = Xy,
        Yy = Oi.isContentEditableFalse,
        Gy = Oi.isContentEditableTrue,
        Qy = function(r, a) {
            var u, s, l, f, c, d, p, h, m, g, v, y, o, b, x, w, C, E = a.dom,
                k = Lt.each,
                S = a.getDoc(),
                N = document,
                T = Math.abs,
                A = Math.round,
                D = a.getBody();
            f = {
                nw: [0, 0, -1, -1],
                ne: [1, 0, 1, -1],
                se: [1, 1, 1, 1],
                sw: [0, 1, -1, 1]
            };
            var e = ".mce-content-body";
            a.contentStyles.push(e + " div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}" + e + " .mce-resizehandle:hover {background: #000}" + e + " img[data-mce-selected]," + e + " hr[data-mce-selected] {outline: 1px solid black;resize: none}" + e + " .mce-clonedresizable {position: absolute;" + (ve.gecko ? "" : "outline: 1px dashed black;") + "opacity: .5;filter: alpha(opacity=50);z-index: 10000}" + e + " .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");
            var _ = function(e) {
                    return e && ("IMG" === e.nodeName || a.dom.is(e, "figure.image"))
                },
                n = function(e) {
                    var t, n, r = e.target;
                    t = e, n = a.selection.getRng(), !_(t.target) || og(t.clientX, t.clientY, n) || e.isDefaultPrevented() || (e.preventDefault(), a.selection.select(r))
                },
                R = function(e) {
                    return a.dom.is(e, "figure.image") ? e.querySelector("img") : e
                },
                O = function(e) {
                    var t = a.settings.object_resizing;
                    return !1 !== t && !ve.iOS && ("string" != typeof t && (t = "table,img,figure.image,div"), "false" !== e.getAttribute("data-mce-resize") && e !== a.getBody() && Br.is(zn.fromDom(e), t))
                },
                F = function(e) {
                    var t, n, r, i;
                    t = e.screenX - d, n = e.screenY - p, b = t * c[2] + g, x = n * c[3] + v, b = b < 5 ? 5 : b, x = x < 5 ? 5 : x, (_(u) && !1 !== a.settings.resize_img_proportional ? !sg.modifierPressed(e) : sg.modifierPressed(e) || _(u) && c[2] * c[3] != 0) && (T(t) > T(n) ? (x = A(b * y), b = A(x / y)) : (b = A(x / y), x = A(b * y))), E.setStyles(R(s), {
                        width: b,
                        height: x
                    }), r = 0 < (r = c.startPos.x + t) ? r : 0, i = 0 < (i = c.startPos.y + n) ? i : 0, E.setStyles(l, {
                        left: r,
                        top: i,
                        display: "block"
                    }), l.innerHTML = b + " &times; " + x, c[2] < 0 && s.clientWidth <= b && E.setStyle(s, "left", h + (g - b)), c[3] < 0 && s.clientHeight <= x && E.setStyle(s, "top", m + (v - x)), (t = D.scrollWidth - w) + (n = D.scrollHeight - C) != 0 && E.setStyles(l, {
                        left: r - t,
                        top: i - n
                    }), o || (ph(a, u, g, v), o = !0)
                },
                B = function() {
                    o = !1;
                    var e = function(e, t) {
                        t && (u.style[e] || !a.schema.isValid(u.nodeName.toLowerCase(), e) ? E.setStyle(R(u), e, t) : E.setAttrib(R(u), e, t))
                    };
                    e("width", b), e("height", x), E.unbind(S, "mousemove", F), E.unbind(S, "mouseup", B), N !== S && (E.unbind(N, "mousemove", F), E.unbind(N, "mouseup", B)), E.remove(s), E.remove(l), i(u), hh(a, u, b, x), E.setAttrib(u, "style", E.getAttrib(u, "style")), a.nodeChanged()
                },
                i = function(e) {
                    var t, r, i, n, o;
                    P(), j(), t = E.getPos(e, D), h = t.x, m = t.y, o = e.getBoundingClientRect(), r = o.width || o.right - o.left, i = o.height || o.bottom - o.top, u !== e && (u = e, b = x = 0), n = a.fire("ObjectSelected", {
                        target: e
                    }), O(e) && !n.isDefaultPrevented() ? k(f, function(n, e) {
                        var t;
                        (t = E.get("mceResizeHandle" + e)) && E.remove(t), t = E.add(D, "div", {
                            id: "mceResizeHandle" + e,
                            "data-mce-bogus": "all",
                            class: "mce-resizehandle",
                            unselectable: !0,
                            style: "cursor:" + e + "-resize; margin:0; padding:0"
                        }), 11 === ve.ie && (t.contentEditable = !1), E.bind(t, "mousedown", function(e) {
                            var t;
                            e.stopImmediatePropagation(), e.preventDefault(), d = (t = e).screenX, p = t.screenY, g = R(u).clientWidth, v = R(u).clientHeight, y = v / g, (c = n).startPos = {
                                x: r * n[0] + h,
                                y: i * n[1] + m
                            }, w = D.scrollWidth, C = D.scrollHeight, s = u.cloneNode(!0), E.addClass(s, "mce-clonedresizable"), E.setAttrib(s, "data-mce-bogus", "all"), s.contentEditable = !1, s.unSelectabe = !0, E.setStyles(s, {
                                left: h,
                                top: m,
                                margin: 0
                            }), s.removeAttribute("data-mce-selected"), D.appendChild(s), E.bind(S, "mousemove", F), E.bind(S, "mouseup", B), N !== S && (E.bind(N, "mousemove", F), E.bind(N, "mouseup", B)), l = E.add(D, "div", {
                                class: "mce-resize-helper",
                                "data-mce-bogus": "all"
                            }, g + " &times; " + v)
                        }), n.elm = t, E.setStyles(t, {
                            left: r * n[0] + h - t.offsetWidth / 2,
                            top: i * n[1] + m - t.offsetHeight / 2
                        })
                    }) : P(), u.setAttribute("data-mce-selected", "1")
                },
                P = function() {
                    var e, t;
                    for (e in j(), u && u.removeAttribute("data-mce-selected"), f)(t = E.get("mceResizeHandle" + e)) && (E.unbind(t), E.remove(t))
                },
                L = function(e) {
                    var t, n = function(e, t) {
                        if (e)
                            do {
                                if (e === t) return !0
                            } while (e = e.parentNode)
                    };
                    o || a.removed || (k(E.select("img[data-mce-selected],hr[data-mce-selected]"), function(e) {
                        e.removeAttribute("data-mce-selected")
                    }), t = "mousedown" === e.type ? e.target : r.getNode(), n(t = E.$(t).closest("table,img,figure.image,hr")[0], D) && (M(), n(r.getStart(!0), t) && n(r.getEnd(!0), t)) ? i(t) : P())
                },
                I = function(e) {
                    return Yy(function(e, t) {
                        for (; t && t !== e;) {
                            if (Gy(t) || Yy(t)) return t;
                            t = t.parentNode
                        }
                        return null
                    }(a.getBody(), e))
                },
                j = function() {
                    for (var e in f) {
                        var t = f[e];
                        t.elm && (E.unbind(t.elm), delete t.elm)
                    }
                },
                M = function() {
                    try {
                        a.getDoc().execCommand("enableObjectResizing", !1, !1)
                    } catch (e) {}
                };
            return a.on("init", function() {
                M(), ve.ie && 11 <= ve.ie && (a.on("mousedown click", function(e) {
                    var t = e.target,
                        n = t.nodeName;
                    o || !/^(TABLE|IMG|HR)$/.test(n) || I(t) || (2 !== e.button && a.selection.select(t, "TABLE" === n), "mousedown" === e.type && a.nodeChanged())
                }), a.dom.bind(D, "mscontrolselect", function(e) {
                    var t = function(e) {
                        Ce.setEditorTimeout(a, function() {
                            a.selection.select(e)
                        })
                    };
                    if (I(e.target)) return e.preventDefault(), void t(e.target);
                    /^(TABLE|IMG|HR)$/.test(e.target.nodeName) && (e.preventDefault(), "IMG" === e.target.tagName && t(e.target))
                }));
                var t = Ce.throttle(function(e) {
                    a.composing || L(e)
                });
                a.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged", t), a.on("keyup compositionend", function(e) {
                    u && "TABLE" === u.nodeName && t(e)
                }), a.on("hide blur", P), a.on("contextmenu", n)
            }), a.on("remove", j), {
                isResizable: O,
                showResizeRect: i,
                hideResizeRect: P,
                updateResizeRect: L,
                destroy: function() {
                    u = s = null
                }
            }
        },
        Jy = function(e) {
            return Oi.isContentEditableTrue(e) || Oi.isContentEditableFalse(e)
        },
        Zy = function(t, n, r) {
            var i, e, o, a, u, s = r;
            if (s.caretPositionFromPoint)(e = s.caretPositionFromPoint(t, n)) && ((i = r.createRange()).setStart(e.offsetNode, e.offset), i.collapse(!0));
            else if (r.caretRangeFromPoint) i = r.caretRangeFromPoint(t, n);
            else if (s.body.createTextRange) {
                i = s.body.createTextRange();
                try {
                    i.moveToPoint(t, n), i.collapse(!0)
                } catch (e) {
                    i = function(e, n, t) {
                        var r, i, o;
                        if (r = t.elementFromPoint(e, n), i = t.body.createTextRange(), r && "HTML" !== r.tagName || (r = t.body), i.moveToElementText(r), 0 < (o = (o = Lt.toArray(i.getClientRects())).sort(function(e, t) {
                                return (e = Math.abs(Math.max(e.top - n, e.bottom - n))) - (t = Math.abs(Math.max(t.top - n, t.bottom - n)))
                            })).length) {
                            n = (o[0].bottom + o[0].top) / 2;
                            try {
                                return i.moveToPoint(e, n), i.collapse(!0), i
                            } catch (e) {}
                        }
                        return null
                    }(t, n, r)
                }
                return o = i, a = r.body, u = o && o.parentElement ? o.parentElement() : null, Oi.isContentEditableFalse(function(e, t, n) {
                    for (; e && e !== t;) {
                        if (n(e)) return e;
                        e = e.parentNode
                    }
                    return null
                }(u, a, Jy)) ? null : o
            }
            return i
        },
        eb = function(n, e) {
            return U.map(e, function(e) {
                var t = n.fire("GetSelectionRange", {
                    range: e
                });
                return t.range !== e ? t.range : e
            })
        },
        tb = function(e, t) {
            return zn.fromDom(e.dom().cloneNode(t))
        },
        nb = function(e) {
            return tb(e, !0)
        },
        rb = function(e) {
            return tb(e, !1)
        },
        ib = nb,
        ob = function(e, t) {
            var n = (t || document).createDocumentFragment();
            return U.each(e, function(e) {
                n.appendChild(e.dom())
            }), zn.fromDom(n)
        },
        ab = Nr.immutable("element", "width", "rows"),
        ub = Nr.immutable("element", "cells"),
        sb = Nr.immutable("x", "y"),
        lb = function(e, t) {
            var n = parseInt(fr.get(e, t), 10);
            return isNaN(n) ? 1 : n
        },
        fb = function(e) {
            return U.foldl(e, function(e, t) {
                return t.cells().length > e ? t.cells().length : e
            }, 0)
        },
        cb = function(e, t) {
            for (var n = e.rows(), r = 0; r < n.length; r++)
                for (var i = n[r].cells(), o = 0; o < i.length; o++)
                    if (Ir.eq(i[o], t)) return A.some(sb(o, r));
            return A.none()
        },
        db = function(e, t, n, r, i) {
            for (var o = [], a = e.rows(), u = n; u <= i; u++) {
                var s = a[u].cells(),
                    l = t < r ? s.slice(t, r + 1) : s.slice(r, t + 1);
                o.push(ub(a[u].element(), l))
            }
            return o
        },
        pb = function(e) {
            var i = ab(rb(e), 0, []);
            return U.each(gu(e, "tr"), function(n, r) {
                U.each(gu(n, "td,th"), function(e, t) {
                    ! function(e, t, n, r, i) {
                        for (var o = lb(i, "rowspan"), a = lb(i, "colspan"), u = e.rows(), s = n; s < n + o; s++) {
                            u[s] || (u[s] = ub(ib(r), []));
                            for (var l = t; l < t + a; l++) u[s].cells()[l] = s === n && l === t ? i : rb(i)
                        }
                    }(i, function(e, t, n) {
                        for (; r = t, i = n, o = void 0, ((o = e.rows())[i] ? o[i].cells() : [])[r];) t++;
                        var r, i, o;
                        return t
                    }(i, t, r), r, n, e)
                })
            }), ab(i.element(), fb(i.rows()), i.rows())
        },
        hb = function(e) {
            return o = t = e, n = U.map(o.rows(), function(e) {
                var t = U.map(e.cells(), function(e) {
                        var t = ib(e);
                        return fr.remove(t, "colspan"), fr.remove(t, "rowspan"), t
                    }),
                    n = rb(e.element());
                return Hl(n, t), n
            }), r = rb(t.element()), i = zn.fromTag("tbody"), Hl(i, n), Uu.append(r, i), r;
            var t, n, r, i, o
        },
        mb = function(f, e, t) {
            return cb(f, e).bind(function(l) {
                return cb(f, t).map(function(e) {
                    return t = f, r = e, i = (n = l).x(), o = n.y(), a = r.x(), u = r.y(), s = o < u ? db(t, i, o, a, u) : db(t, i, u, a, o), ab(t.element(), fb(s), s);
                    var t, n, r, i, o, a, u, s
                })
            })
        },
        gb = function(n, t) {
            return U.find(n, function(e) {
                return "li" === Zn.name(e) && Dm(e, t)
            }).fold(z.constant([]), function(e) {
                return (t = n, U.find(t, function(e) {
                    return "ul" === Zn.name(e) || "ol" === Zn.name(e)
                })).map(function(e) {
                    return [zn.fromTag("li"), zn.fromTag(Zn.name(e))]
                }).getOr([]);
                var t
            })
        },
        vb = function(e, t) {
            var n, r = zn.fromDom(t.commonAncestorContainer),
                i = Vf(r, e),
                o = U.filter(i, function(e) {
                    return pi(e) || ci(e)
                }),
                a = gb(i, t),
                u = o.concat(a.length ? a : vi(n = r) ? Vr.parent(n).filter(gi).fold(z.constant([]), function(e) {
                    return [n, e]
                }) : gi(n) ? [n] : []);
            return U.map(u, rb)
        },
        yb = function() {
            return ob([])
        },
        bb = function(e, t) {
            return n = zn.fromDom(t.cloneContents()), r = vb(e, t), i = U.foldl(r, function(e, t) {
                return Uu.append(t, e), t
            }, n), 0 < r.length ? ob([i]) : i;
            var n, r, i
        },
        xb = function(e, i) {
            return (t = e, n = i[0], Tf(n, "table", z.curry(Ir.eq, t))).bind(function(e) {
                var t = i[0],
                    n = i[i.length - 1],
                    r = pb(e);
                return mb(r, t, n).map(function(e) {
                    return ob([hb(e)])
                })
            }).getOrThunk(yb);
            var t, n
        },
        wb = function(e, t) {
            var n, r, i = Bd(t, e);
            return 0 < i.length ? xb(e, i) : (n = e, 0 < (r = t).length && r[0].collapsed ? yb() : bb(n, r[0]))
        },
        Cb = function(e, t) {
            var n, r = e.selection.getRng(),
                i = e.dom.create("body"),
                o = e.selection.getSel(),
                a = eb(e, Ad(o));
            if ((t = t || {}).get = !0, t.format = t.format || "html", t.selection = !0, (t = e.fire("BeforeGetContent", t)).isDefaultPrevented()) return e.fire("GetContent", t), t.content;
            if ("text" === t.format) return e.selection.isCollapsed() ? "" : _o(r.text || (o.toString ? o.toString() : ""));
            r.cloneContents ? (n = t.contextual ? wb(zn.fromDom(e.getBody()), a).dom() : r.cloneContents()) && i.appendChild(n) : r.item !== undefined || r.htmlText !== undefined ? (i.innerHTML = "<br>" + (r.item ? r.item(0).outerHTML : r.htmlText), i.removeChild(i.firstChild)) : i.innerHTML = r.toString(), t.getInner = !0;
            var u = e.selection.serializer.serialize(i, t);
            return "tree" === t.format ? u : (t.content = e.selection.isCollapsed() ? "" : u, e.fire("GetContent", t), t.content)
        },
        Eb = function(e, t, n) {
            var r, i, o, a = e.selection.getRng(),
                u = e.getDoc();
            if ((n = n || {
                    format: "html"
                }).set = !0, n.selection = !0, n.content = t, n.no_events || !(n = e.fire("BeforeSetContent", n)).isDefaultPrevented()) {
                if (t = n.content, a.insertNode) {
                    t += '<span id="__caret">_</span>', a.startContainer === u && a.endContainer === u ? u.body.innerHTML = t : (a.deleteContents(), 0 === u.body.childNodes.length ? u.body.innerHTML = t : a.createContextualFragment ? a.insertNode(a.createContextualFragment(t)) : (i = u.createDocumentFragment(), o = u.createElement("div"), i.appendChild(o), o.outerHTML = t, a.insertNode(i))), r = e.dom.get("__caret"), (a = u.createRange()).setStartBefore(r), a.setEndBefore(r), e.selection.setRng(a), e.dom.remove("__caret");
                    try {
                        e.selection.setRng(a)
                    } catch (e) {}
                } else a.item && (u.execCommand("Delete", !1, null), a = e.getRng()), /^\s+/.test(t) ? (a.pasteHTML('<span id="__mce_tmp">_</span>' + t), e.dom.remove("__mce_tmp")) : a.pasteHTML(t);
                n.no_events || e.fire("SetContent", n)
            } else e.fire("SetContent", n)
        },
        kb = function(e, t, n, r, i) {
            var o = n ? t.startContainer : t.endContainer,
                a = n ? t.startOffset : t.endOffset;
            return A.from(o).map(zn.fromDom).map(function(e) {
                return r && t.collapsed ? e : Vr.child(e, i(e, a)).getOr(e)
            }).bind(function(e) {
                return Zn.isElement(e) ? A.some(e) : Vr.parent(e)
            }).map(function(e) {
                return e.dom()
            }).getOr(e)
        },
        Sb = function(e, t, n) {
            return kb(e, t, !0, n, function(e, t) {
                return Math.min(Vr.childNodesCount(e), t)
            })
        },
        Nb = function(e, t, n) {
            return kb(e, t, !1, n, function(e, t) {
                return 0 < t ? t - 1 : t
            })
        },
        Tb = function(e, t) {
            for (var n = e; e && Oi.isText(e) && 0 === e.length;) e = t ? e.nextSibling : e.previousSibling;
            return e || n
        },
        Ab = Lt.each,
        Db = function(e) {
            return !!e.select
        },
        _b = function(e) {
            return !(!e || !e.ownerDocument) && Ir.contains(zn.fromDom(e.ownerDocument), zn.fromDom(e))
        },
        Rb = function(a, u, e, s) {
            var n, t, l, f, c, r = function(e, t) {
                    return Eb(s, e, t)
                },
                i = function(e) {
                    var t = p();
                    t.collapse(!!e), o(t)
                },
                d = function() {
                    return u.getSelection ? u.getSelection() : u.document.selection
                },
                p = function() {
                    var e, t, n, r, i = function(e, t, n) {
                        try {
                            return t.compareBoundaryPoints(e, n)
                        } catch (e) {
                            return -1
                        }
                    };
                    if (!u) return null;
                    if (null == (r = u.document)) return null;
                    if (s.bookmark !== undefined && !1 === Mh(s)) {
                        var o = Ip(s);
                        if (o.isSome()) return o.map(function(e) {
                            return eb(s, [e])[0]
                        }).getOr(r.createRange())
                    }
                    try {
                        (e = d()) && (t = 0 < e.rangeCount ? e.getRangeAt(0) : e.createRange ? e.createRange() : r.createRange())
                    } catch (e) {}
                    return (t = eb(s, [t])[0]) || (t = r.createRange ? r.createRange() : r.body.createTextRange()), t.setStart && 9 === t.startContainer.nodeType && t.collapsed && (n = a.getRoot(), t.setStart(n, 0), t.setEnd(n, 0)), l && f && (0 === i(t.START_TO_START, t, l) && 0 === i(t.END_TO_END, t, l) ? t = f : f = l = null), t
                },
                o = function(e, t) {
                    var n, r;
                    if ((i = e) && (Db(i) || _b(i.startContainer) && _b(i.endContainer))) {
                        var i, o = Db(e) ? e : null;
                        if (o) {
                            f = null;
                            try {
                                o.select()
                            } catch (e) {}
                        } else {
                            if (n = d(), e = s.fire("SetSelectionRange", {
                                    range: e,
                                    forward: t
                                }).range, n) {
                                f = e;
                                try {
                                    n.removeAllRanges(), n.addRange(e)
                                } catch (e) {}!1 === t && n.extend && (n.collapse(e.endContainer, e.endOffset), n.extend(e.startContainer, e.startOffset)), l = 0 < n.rangeCount ? n.getRangeAt(0) : null
                            }
                            e.collapsed || e.startContainer !== e.endContainer || !n.setBaseAndExtent || ve.ie || e.endOffset - e.startOffset < 2 && e.startContainer.hasChildNodes() && (r = e.startContainer.childNodes[e.startOffset]) && "IMG" === r.tagName && (n.setBaseAndExtent(e.startContainer, e.startOffset, e.endContainer, e.endOffset), n.anchorNode === e.startContainer && n.focusNode === e.endContainer || n.setBaseAndExtent(r, 0, r, 1)), s.fire("AfterSetSelectionRange", {
                                range: e,
                                forward: t
                            })
                        }
                    }
                },
                h = function() {
                    var e, t, n = d();
                    return !(n && n.anchorNode && n.focusNode) || ((e = a.createRng()).setStart(n.anchorNode, n.anchorOffset), e.collapse(!0), (t = a.createRng()).setStart(n.focusNode, n.focusOffset), t.collapse(!0), e.compareBoundaryPoints(e.START_TO_START, t) <= 0)
                },
                m = {
                    bookmarkManager: null,
                    controlSelection: null,
                    dom: a,
                    win: u,
                    serializer: e,
                    editor: s,
                    collapse: i,
                    setCursorLocation: function(e, t) {
                        var n = a.createRng();
                        e ? (n.setStart(e, t), n.setEnd(e, t), o(n), i(!1)) : (_m(a, n, s.getBody(), !0), o(n))
                    },
                    getContent: function(e) {
                        return Cb(s, e)
                    },
                    setContent: r,
                    getBookmark: function(e, t) {
                        return n.getBookmark(e, t)
                    },
                    moveToBookmark: function(e) {
                        return n.moveToBookmark(e)
                    },
                    select: function(e, t) {
                        var r, n, i;
                        return (r = a, n = e, i = t, A.from(n).map(function(e) {
                            var t = r.nodeIndex(e),
                                n = r.createRng();
                            return n.setStart(e.parentNode, t), n.setEnd(e.parentNode, t + 1), i && (_m(r, n, e, !0), _m(r, n, e, !1)), n
                        })).each(o), e
                    },
                    isCollapsed: function() {
                        var e = p(),
                            t = d();
                        return !(!e || e.item) && (e.compareEndPoints ? 0 === e.compareEndPoints("StartToEnd", e) : !t || e.collapsed)
                    },
                    isForward: h,
                    setNode: function(e) {
                        return r(a.getOuterHTML(e)), e
                    },
                    getNode: function() {
                        return e = s.getBody(), (t = p()) ? (r = t.startContainer, i = t.endContainer, o = t.startOffset, a = t.endOffset, n = t.commonAncestorContainer, !t.collapsed && (r === i && a - o < 2 && r.hasChildNodes() && (n = r.childNodes[o]), 3 === r.nodeType && 3 === i.nodeType && (r = r.length === o ? Tb(r.nextSibling, !0) : r.parentNode, i = 0 === a ? Tb(i.previousSibling, !1) : i.parentNode, r && r === i)) ? r : n && 3 === n.nodeType ? n.parentNode : n) : e;
                        var e, t, n, r, i, o, a
                    },
                    getSel: d,
                    setRng: o,
                    getRng: p,
                    getStart: function(e) {
                        return Sb(s.getBody(), p(), e)
                    },
                    getEnd: function(e) {
                        return Nb(s.getBody(), p(), e)
                    },
                    getSelectedBlocks: function(e, t) {
                        return function(e, t, n, r) {
                            var i, o, a = [];
                            if (o = e.getRoot(), n = e.getParent(n || Sb(o, t, !1), e.isBlock), r = e.getParent(r || Nb(o, t, !1), e.isBlock), n && n !== o && a.push(n), n && r && n !== r)
                                for (var u = new ai(i = n, o);
                                    (i = u.next()) && i !== r;) e.isBlock(i) && a.push(i);
                            return r && n !== r && r !== o && a.push(r), a
                        }(a, p(), e, t)
                    },
                    normalize: function() {
                        var e = p(),
                            t = d();
                        if (!_d(t) && Rm(s)) {
                            var n = up(a, e);
                            return n.each(function(e) {
                                o(e, h())
                            }), n.getOr(e)
                        }
                        return e
                    },
                    selectorChanged: function(e, t) {
                        var o;
                        return c || (c = {}, o = {}, s.on("NodeChange", function(e) {
                            var n = e.element,
                                r = a.getParents(n, null, a.getRoot()),
                                i = {};
                            Ab(c, function(e, n) {
                                Ab(r, function(t) {
                                    if (a.is(t, n)) return o[n] || (Ab(e, function(e) {
                                        e(!0, {
                                            node: t,
                                            selector: n,
                                            parents: r
                                        })
                                    }), o[n] = e), i[n] = e, !1
                                })
                            }), Ab(o, function(e, t) {
                                i[t] || (delete o[t], Ab(e, function(e) {
                                    e(!1, {
                                        node: n,
                                        selector: t,
                                        parents: r
                                    })
                                }))
                            })
                        })), c[e] || (c[e] = []), c[e].push(t), m
                    },
                    getScrollContainer: function() {
                        for (var e, t = a.getRoot(); t && "BODY" !== t.nodeName;) {
                            if (t.scrollHeight > t.clientHeight) {
                                e = t;
                                break
                            }
                            t = t.parentNode
                        }
                        return e
                    },
                    scrollIntoView: function(e, t) {
                        return Eu(s, e, t)
                    },
                    placeCaretAt: function(e, t) {
                        return o(Zy(e, t, s.getDoc()))
                    },
                    getBoundingClientRect: function() {
                        var e = p();
                        return e.collapsed ? Pa.fromRangeStart(e).getClientRects()[0] : e.getBoundingClientRect()
                    },
                    destroy: function() {
                        u = l = f = null, t.destroy()
                    }
                };
            return n = Ky(m), t = Qy(m, s), m.bookmarkManager = n, m.controlSelection = t, m
        },
        Ob = Oi.isContentEditableFalse,
        Fb = aa,
        Bb = Rs,
        Pb = _s,
        Lb = function(e, t) {
            for (; t = e(t);)
                if (t.isVisible()) return t;
            return t
        },
        Ib = function(e, t, n, r) {
            var i, o, a, u, s, l, f = e === ou.Forwards,
                c = f ? Pb : Bb;
            return !r.collapsed && (i = Fb(r), Ob(i)) ? tu(e, t, i, e === ou.Backwards, !0) : (u = Fo(r.startContainer), c(o = Ds(e, t.getBody(), r)) ? nu(t, o.getNode(!f)) : (o = n(o)) ? c(o) ? tu(e, t, o.getNode(!f), f, !0) : c(a = n(o)) && (!(l = bs(s = o, a)) && Oi.isBr(s.getNode()) || l) ? tu(e, t, a.getNode(!f), f, !0) : u ? iu(t, o.toRange(), !0) : null : u ? r : null)
        },
        jb = function(e, t, n, r) {
            var i, o, a, u, s, l, f, c, d;
            if (d = Fb(r), i = Ds(e, t.getBody(), r), o = n(t.getBody(), Ym(1), i), a = Rt.filter(o, Gm(1)), s = Rt.last(i.getClientRects()), (Pb(i) || Os(i)) && (d = i.getNode()), (Bb(i) || Fs(i)) && (d = i.getNode(!0)), !s) return null;
            if (l = s.left, (u = ng(a, l)) && Ob(u.node)) return f = Math.abs(l - u.left), c = Math.abs(l - u.right), tu(e, t, u.node, f < c, !0);
            if (d) {
                var p = function(e, t, n, r) {
                    var i, o, a, u, s, l, f = Ys(t),
                        c = [],
                        d = 0,
                        p = function(e) {
                            return Rt.last(e.getClientRects())
                        };
                    1 === e ? (i = f.next, o = oa, a = ia, u = Pa.after(r)) : (i = f.prev, o = ia, a = oa, u = Pa.before(r)), l = p(u);
                    do {
                        if (u.isVisible() && !a(s = p(u), l)) {
                            if (0 < c.length && o(s, Rt.last(c)) && d++, (s = ta(s)).position = u, s.line = d, n(s)) return c;
                            c.push(s)
                        }
                    } while (u = i(u));
                    return c
                }(e, t.getBody(), Ym(1), d);
                if (u = ng(Rt.filter(p, Gm(1)), l)) return iu(t, u.position.toRange(), !0);
                if (u = Rt.last(Rt.filter(p, Gm(0)))) return iu(t, u.position.toRange(), !0)
            }
        },
        Mb = function(e, t, n) {
            var r, i, o, a, u = Ys(e.getBody()),
                s = da.curry(Lb, u.next),
                l = da.curry(Lb, u.prev);
            if (n.collapsed && e.settings.forced_root_block) {
                if (!(r = e.dom.getParent(n.startContainer, "PRE"))) return;
                (1 === t ? s(Pa.fromRangeStart(n)) : l(Pa.fromRangeStart(n))) || (a = (o = e).dom.create(o.settings.forced_root_block), (!ve.ie || 11 <= ve.ie) && (a.innerHTML = '<br data-mce-bogus="1">'), i = a, 1 === t ? e.$(r).after(i) : e.$(r).before(i), e.selection.select(i, !0), e.selection.collapse())
            }
        },
        qb = function(f, c) {
            return function() {
                var e, t, n, r, i, o, a, u, s, l = (t = c, r = Ys((e = f).getBody()), i = da.curry(Lb, r.next), o = da.curry(Lb, r.prev), a = t ? ou.Forwards : ou.Backwards, u = t ? i : o, s = e.selection.getRng(), (n = Ib(a, e, u, s)) ? n : (n = Mb(e, a, s)) || null);
                return !!l && (f.selection.setRng(l), !0)
            }
        },
        Hb = function(u, s) {
            return function() {
                var e, t, n, r, i, o, a = (r = (t = s) ? 1 : -1, i = t ? Km : Xm, o = (e = u).selection.getRng(), (n = jb(r, e, i, o)) ? n : (n = Mb(e, r, o)) || null);
                return !!a && (u.selection.setRng(a), !0)
            }
        },
        zb = function(e, r) {
            return U.bind((t = e, U.map(t, function(e) {
                return wy.merge({
                    shiftKey: !1,
                    altKey: !1,
                    ctrlKey: !1,
                    metaKey: !1,
                    keyCode: 0,
                    action: z.noop
                }, e)
            })), function(e) {
                return t = e, (n = r).keyCode === t.keyCode && n.shiftKey === t.shiftKey && n.altKey === t.altKey && n.ctrlKey === t.ctrlKey && n.metaKey === t.metaKey ? [e] : [];
                var t, n
            });
            var t
        },
        Ub = function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            var r = Array.prototype.slice.call(arguments, 1);
            return function() {
                return e.apply(null, r)
            }
        },
        $b = function(e, t) {
            return U.find(zb(e, t), function(e) {
                return e.action()
            })
        },
        Vb = function(o, a) {
            o.on("keydown", function(e) {
                var t, n, r, i;
                !1 === e.isDefaultPrevented() && (t = o, n = a, r = e, i = qn.detect().os, $b([{
                    keyCode: sg.RIGHT,
                    action: qb(t, !0)
                }, {
                    keyCode: sg.LEFT,
                    action: qb(t, !1)
                }, {
                    keyCode: sg.UP,
                    action: Hb(t, !1)
                }, {
                    keyCode: sg.DOWN,
                    action: Hb(t, !0)
                }, {
                    keyCode: sg.RIGHT,
                    action: es(t, !0)
                }, {
                    keyCode: sg.LEFT,
                    action: es(t, !1)
                }, {
                    keyCode: sg.UP,
                    action: ts(t, !1)
                }, {
                    keyCode: sg.DOWN,
                    action: ts(t, !0)
                }, {
                    keyCode: sg.RIGHT,
                    action: sd.move(t, n, !0)
                }, {
                    keyCode: sg.LEFT,
                    action: sd.move(t, n, !1)
                }, {
                    keyCode: sg.RIGHT,
                    ctrlKey: !i.isOSX(),
                    altKey: i.isOSX(),
                    action: sd.moveNextWord(t, n)
                }, {
                    keyCode: sg.LEFT,
                    ctrlKey: !i.isOSX(),
                    altKey: i.isOSX(),
                    action: sd.movePrevWord(t, n)
                }], r).each(function(e) {
                    r.preventDefault()
                }))
            })
        },
        Wb = function(e) {
            return 1 === Vr.children(e).length
        },
        Xb = function(e, t, n, r) {
            var i, o, a, u, s = z.curry(Sv, t),
                l = U.map(U.filter(r, s), function(e) {
                    return e.dom()
                });
            if (0 === l.length) vc(t, e, n);
            else {
                var f = (i = n.dom(), o = l, a = yv(!1), u = Ev(o, a.dom()), Uu.before(zn.fromDom(i), a), Ul.remove(zn.fromDom(i)), Pa(u, 0));
                t.selection.setRng(f.toRange())
            }
        },
        Kb = function(n, r) {
            var t, e = zn.fromDom(n.getBody()),
                i = zn.fromDom(n.selection.getStart()),
                o = U.filter((t = Vf(i, e), U.findIndex(t, di).fold(z.constant(t), function(e) {
                    return t.slice(0, e)
                })), Wb);
            return U.last(o).map(function(e) {
                var t = Pa.fromRangeStart(n.selection.getRng());
                return !!Sf(r, t, e.dom()) && (Xb(r, n, e, o), !0)
            }).getOr(!1)
        },
        Yb = function(e, t) {
            return !!e.selection.isCollapsed() && Kb(e, t)
        },
        Gb = function(i, o) {
            i.on("keydown", function(e) {
                var t, n, r;
                !1 === e.isDefaultPrevented() && (t = i, n = o, r = e, $b([{
                    keyCode: sg.BACKSPACE,
                    action: Ub(xc, t, !1)
                }, {
                    keyCode: sg.DELETE,
                    action: Ub(xc, t, !0)
                }, {
                    keyCode: sg.BACKSPACE,
                    action: Ub(dd, t, n, !1)
                }, {
                    keyCode: sg.DELETE,
                    action: Ub(dd, t, n, !0)
                }, {
                    keyCode: sg.BACKSPACE,
                    action: Ub(nc, t, !1)
                }, {
                    keyCode: sg.DELETE,
                    action: Ub(nc, t, !0)
                }, {
                    keyCode: sg.BACKSPACE,
                    action: Ub(Jf, t, !1)
                }, {
                    keyCode: sg.DELETE,
                    action: Ub(Jf, t, !0)
                }, {
                    keyCode: sg.BACKSPACE,
                    action: Ub(Vd, t, !1)
                }, {
                    keyCode: sg.DELETE,
                    action: Ub(Vd, t, !0)
                }, {
                    keyCode: sg.BACKSPACE,
                    action: Ub(Yb, t, !1)
                }, {
                    keyCode: sg.DELETE,
                    action: Ub(Yb, t, !0)
                }], r).each(function(e) {
                    r.preventDefault()
                }))
            }), i.on("keyup", function(e) {
                var t, n;
                !1 === e.isDefaultPrevented() && (t = i, n = e, $b([{
                    keyCode: sg.BACKSPACE,
                    action: Ub(wc, t)
                }, {
                    keyCode: sg.DELETE,
                    action: Ub(wc, t)
                }], n))
            })
        },
        Qb = function(e) {
            return A.from(e.dom.getParent(e.selection.getStart(!0), e.dom.isBlock))
        },
        Jb = function(e, t) {
            var n, r, i, o = t,
                a = e.dom,
                u = e.schema.getMoveCaretBeforeOnEnterElements();
            if (t) {
                if (/^(LI|DT|DD)$/.test(t.nodeName)) {
                    var s = function(e) {
                        for (; e;) {
                            if (1 === e.nodeType || 3 === e.nodeType && e.data && /[\r\n\s]/.test(e.data)) return e;
                            e = e.nextSibling
                        }
                    }(t.firstChild);
                    s && /^(UL|OL|DL)$/.test(s.nodeName) && t.insertBefore(a.doc.createTextNode("Â "), t.firstChild)
                }
                if (i = a.createRng(), t.normalize(), t.hasChildNodes()) {
                    for (n = new ai(t, t); r = n.current();) {
                        if (Oi.isText(r)) {
                            i.setStart(r, 0), i.setEnd(r, 0);
                            break
                        }
                        if (u[r.nodeName.toLowerCase()]) {
                            i.setStartBefore(r), i.setEndBefore(r);
                            break
                        }
                        o = r, r = n.next()
                    }
                    r || (i.setStart(o, 0), i.setEnd(o, 0))
                } else Oi.isBr(t) ? t.nextSibling && a.isBlock(t.nextSibling) ? (i.setStartBefore(t), i.setEndBefore(t)) : (i.setStartAfter(t), i.setEndAfter(t)) : (i.setStart(t, 0), i.setEnd(t, 0));
                e.selection.setRng(i), a.remove(void 0), e.selection.scrollIntoView(t)
            }
        },
        Zb = function(e, t) {
            var n, r, i = e.getRoot();
            for (n = t; n !== i && "false" !== e.getContentEditable(n);) "true" === e.getContentEditable(n) && (r = n), n = n.parentNode;
            return n !== i ? r : i
        },
        e0 = Qb,
        t0 = function(e) {
            return Qb(e).fold(z.constant(""), function(e) {
                return e.nodeName.toUpperCase()
            })
        },
        n0 = function(e) {
            return Qb(e).filter(function(e) {
                return vi(zn.fromDom(e))
            }).isSome()
        },
        r0 = function(e, t) {
            return e && e.parentNode && e.parentNode.nodeName === t
        },
        i0 = function(e) {
            return e && /^(OL|UL|LI)$/.test(e.nodeName)
        },
        o0 = function(e) {
            var t = e.parentNode;
            return /^(LI|DT|DD)$/.test(t.nodeName) ? t : e
        },
        a0 = function(e, t, n) {
            for (var r = e[n ? "firstChild" : "lastChild"]; r && !Oi.isElement(r);) r = r[n ? "nextSibling" : "previousSibling"];
            return r === t
        },
        u0 = function(e, t, n, r, i) {
            var o = e.dom,
                a = e.selection.getRng();
            if (n !== e.getBody()) {
                var u;
                i0(u = n) && i0(u.parentNode) && (i = "LI");
                var s, l, f = i ? t(i) : o.create("BR");
                if (a0(n, r, !0) && a0(n, r, !1)) r0(n, "LI") ? o.insertAfter(f, o0(n)) : o.replace(f, n);
                else if (a0(n, r, !0)) r0(n, "LI") ? (o.insertAfter(f, o0(n)), f.appendChild(o.doc.createTextNode(" ")), f.appendChild(n)) : n.parentNode.insertBefore(f, n);
                else if (a0(n, r, !1)) o.insertAfter(f, o0(n));
                else {
                    n = o0(n);
                    var c = a.cloneRange();
                    c.setStartAfter(r), c.setEndAfter(n);
                    var d = c.extractContents();
                    "LI" === i && (l = "LI", (s = d).firstChild && s.firstChild.nodeName === l) ? (f = d.firstChild, o.insertAfter(d, n)) : (o.insertAfter(d, n), o.insertAfter(f, n))
                }
                o.remove(r), Jb(e, f)
            }
        },
        s0 = function(e) {
            e.innerHTML = '<br data-mce-bogus="1">'
        },
        l0 = function(e, t) {
            return e.nodeName === t || e.previousSibling && e.previousSibling.nodeName === t
        },
        f0 = function(e, t) {
            return t && e.isBlock(t) && !/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName) && !/^(fixed|absolute)/i.test(t.style.position) && "true" !== e.getContentEditable(t)
        },
        c0 = function(e, t, n) {
            return !1 === Oi.isText(t) ? n : e ? 1 === n && t.data.charAt(n - 1) === Do ? 0 : n : n === t.data.length - 1 && t.data.charAt(n) === Do ? t.data.length : n
        },
        d0 = function(e, t) {
            var n, r, i = e.getRoot();
            for (n = t; n !== i && "false" !== e.getContentEditable(n);) "true" === e.getContentEditable(n) && (r = n), n = n.parentNode;
            return n !== i ? r : i
        },
        p0 = function(e, t) {
            var n = Fu(e);
            n && n.toLowerCase() === t.tagName.toLowerCase() && e.dom.setAttribs(t, Bu(e))
        },
        h0 = function(a, e) {
            var t, u, s, o, l, n, r, i, f, c, d, p, h, m, g, v, y, b, x = a.dom,
                w = a.schema,
                C = w.getNonEmptyElements(),
                E = a.selection.getRng(),
                k = function(e) {
                    var t, n, r, i = s,
                        o = w.getTextInlineElements();
                    if (e || "TABLE" === c || "HR" === c ? (t = x.create(e || p), p0(a, t)) : t = l.cloneNode(!1), r = t, !1 === Iu(a)) x.setAttrib(t, "style", null), x.setAttrib(t, "class", null);
                    else
                        do {
                            if (o[i.nodeName]) {
                                if (Nl(i)) continue;
                                n = i.cloneNode(!1), x.setAttrib(n, "id", ""), t.hasChildNodes() ? n.appendChild(t.firstChild) : r = n, t.appendChild(n)
                            }
                        } while ((i = i.parentNode) && i !== u);
                    return s0(r), t
                },
                S = function(e) {
                    var t, n, r, i;
                    if (i = c0(e, s, o), Oi.isText(s) && (e ? 0 < i : i < s.nodeValue.length)) return !1;
                    if (s.parentNode === l && h && !e) return !0;
                    if (e && Oi.isElement(s) && s === l.firstChild) return !0;
                    if (l0(s, "TABLE") || l0(s, "HR")) return h && !e || !h && e;
                    for (t = new ai(s, l), Oi.isText(s) && (e && 0 === i ? t.prev() : e || i !== s.nodeValue.length || t.next()); n = t.current();) {
                        if (Oi.isElement(n)) {
                            if (!n.getAttribute("data-mce-bogus") && (r = n.nodeName.toLowerCase(), C[r] && "br" !== r)) return !1
                        } else if (Oi.isText(n) && !/^[ \t\r\n]*$/.test(n.nodeValue)) return !1;
                        e ? t.prev() : t.next()
                    }
                    return !0
                },
                N = function() {
                    r = /^(H[1-6]|PRE|FIGURE)$/.test(c) && "HGROUP" !== d ? k(p) : k(), ju(a) && f0(x, f) && x.isEmpty(l) ? r = x.split(f, l) : x.insertAfter(r, l), Jb(a, r)
                };
            up(x, E).each(function(e) {
                E.setStart(e.startContainer, e.startOffset), E.setEnd(e.endContainer, e.endOffset)
            }), s = E.startContainer, o = E.startOffset, p = Fu(a), n = e.shiftKey, Oi.isElement(s) && s.hasChildNodes() && (h = o > s.childNodes.length - 1, s = s.childNodes[Math.min(o, s.childNodes.length - 1)] || s, o = h && Oi.isText(s) ? s.nodeValue.length : 0), (u = d0(x, s)) && ((p && !n || !p && n) && (s = function(e, t, n, r, i) {
                var o, a, u, s, l, f, c, d = t || "P",
                    p = e.dom,
                    h = d0(p, r);
                if (!(a = p.getParent(r, p.isBlock)) || !f0(p, a)) {
                    if (f = (a = a || h) === e.getBody() || (c = a) && /^(TD|TH|CAPTION)$/.test(c.nodeName) ? a.nodeName.toLowerCase() : a.parentNode.nodeName.toLowerCase(), !a.hasChildNodes()) return o = p.create(d), p0(e, o), a.appendChild(o), n.setStart(o, 0), n.setEnd(o, 0), o;
                    for (s = r; s.parentNode !== a;) s = s.parentNode;
                    for (; s && !p.isBlock(s);) s = (u = s).previousSibling;
                    if (u && e.schema.isValidChild(f, d.toLowerCase())) {
                        for (o = p.create(d), p0(e, o), u.parentNode.insertBefore(o, u), s = u; s && !p.isBlock(s);) l = s.nextSibling, o.appendChild(s), s = l;
                        n.setStart(r, i), n.setEnd(r, i)
                    }
                }
                return r
            }(a, p, E, s, o)), l = x.getParent(s, x.isBlock), f = l ? x.getParent(l.parentNode, x.isBlock) : null, c = l ? l.nodeName.toUpperCase() : "", "LI" !== (d = f ? f.nodeName.toUpperCase() : "") || e.ctrlKey || (f = (l = f).parentNode, c = d), /^(LI|DT|DD)$/.test(c) && x.isEmpty(l) ? u0(a, k, f, l, p) : p && l === a.getBody() || (p = p || "P", Fo(l) ? (r = zo(l), x.isEmpty(l) && s0(l), Jb(a, r)) : S() ? N() : S(!0) ? (r = l.parentNode.insertBefore(k(), l), Jb(a, l0(l, "HR") ? r : l)) : ((t = (y = E, b = y.cloneRange(), b.setStart(y.startContainer, c0(!0, y.startContainer, y.startOffset)), b.setEnd(y.endContainer, c0(!1, y.endContainer, y.endOffset)), b).cloneRange()).setEndAfter(l), function(e) {
                for (; Oi.isText(e) && (e.nodeValue = e.nodeValue.replace(/^[\r\n]+/, "")), e = e.firstChild;);
            }(i = t.extractContents()), r = i.firstChild, x.insertAfter(i, l), function(e, t, n) {
                var r, i = n,
                    o = [];
                if (i) {
                    for (; i = i.firstChild;) {
                        if (e.isBlock(i)) return;
                        Oi.isElement(i) && !t[i.nodeName.toLowerCase()] && o.push(i)
                    }
                    for (r = o.length; r--;) !(i = o[r]).hasChildNodes() || i.firstChild === i.lastChild && "" === i.firstChild.nodeValue ? e.remove(i) : (a = i) && "A" === a.nodeName && 0 === Lt.trim(_o(a.innerText || a.textContent)).length && e.remove(i);
                    var a
                }
            }(x, C, r), m = x, (g = l).normalize(), (v = g.lastChild) && !/^(left|right)$/gi.test(m.getStyle(v, "float", !0)) || m.add(g, "br"), x.isEmpty(l) && s0(l), r.normalize(), x.isEmpty(r) ? (x.remove(r), N()) : Jb(a, r)), x.setAttrib(r, "id", ""), a.fire("NewBlock", {
                newBlock: r
            })))
        },
        m0 = function(e, t) {
            return e0(e).filter(function(e) {
                return 0 < t.length && Br.is(zn.fromDom(e), t)
            }).isSome()
        },
        g0 = function(e) {
            return m0(e, Pu(e))
        },
        v0 = function(e) {
            return m0(e, Lu(e))
        },
        y0 = rc([{
            br: []
        }, {
            block: []
        }, {
            none: []
        }]),
        b0 = function(e, t) {
            return v0(e)
        },
        x0 = function(n) {
            return function(e, t) {
                return "" === Fu(e) === n
            }
        },
        w0 = function(n) {
            return function(e, t) {
                return n0(e) === n
            }
        },
        C0 = function(n, r) {
            return function(e, t) {
                return t0(e) === n.toUpperCase() === r
            }
        },
        E0 = function(e) {
            return C0("pre", e)
        },
        k0 = function(n) {
            return function(e, t) {
                return Ou(e) === n
            }
        },
        S0 = function(e, t) {
            return g0(e)
        },
        N0 = function(e, t) {
            return t
        },
        T0 = function(e) {
            var t = Fu(e),
                n = Zb(e.dom, e.selection.getStart());
            return n && e.schema.isValidChild(n.nodeName, t || "P")
        },
        A0 = function(e, t) {
            return function(n, r) {
                return U.foldl(e, function(e, t) {
                    return e && t(n, r)
                }, !0) ? A.some(t) : A.none()
            }
        },
        D0 = function(e, t) {
            return Oc([A0([b0], y0.none()), A0([C0("summary", !0)], y0.br()), A0([E0(!0), k0(!1), N0], y0.br()), A0([E0(!0), k0(!1)], y0.block()), A0([E0(!0), k0(!0), N0], y0.block()), A0([E0(!0), k0(!0)], y0.br()), A0([w0(!0), N0], y0.br()), A0([w0(!0)], y0.block()), A0([x0(!0), N0, T0], y0.block()), A0([x0(!0)], y0.br()), A0([S0], y0.br()), A0([x0(!1), N0], y0.br()), A0([T0], y0.block())], [e, t.shiftKey]).getOr(y0.none())
        },
        _0 = function(e, t) {
            D0(e, t).fold(function() {
                vp(e, t)
            }, function() {
                h0(e, t)
            }, z.noop)
        },
        R0 = function(i) {
            i.on("keydown", function(e) {
                var t, n, r;
                e.keyCode === sg.ENTER && (t = i, (n = e).isDefaultPrevented() || (n.preventDefault(), (r = t.undoManager).typing && (r.typing = !1, r.add()), t.undoManager.transact(function() {
                    !1 === t.selection.isCollapsed() && t.execCommand("Delete"), _0(t, n)
                })))
            })
        },
        O0 = function(e, t, n) {
            return u = t, !(!F0(n) || !Oi.isText(u.container()) || (r = e, o = (i = t).container(), a = i.offset(), o.insertData(a, "Â "), r.selection.setCursorLocation(o, a + 1), 0));
            var r, i, o, a, u
        },
        F0 = function(e) {
            return e.fold(z.constant(!1), z.constant(!0), z.constant(!0), z.constant(!1))
        },
        B0 = function(e) {
            return !!e.selection.isCollapsed() && (t = e, n = z.curry(Cf.isInlineTarget, t), r = Pa.fromRangeStart(t.selection.getRng()), Gc(n, t.getBody(), r).map(z.curry(O0, t, r)).getOr(!1));
            var t, n, r
        },
        P0 = function(r) {
            r.on("keydown", function(e) {
                var t, n;
                !1 === e.isDefaultPrevented() && (t = r, n = e, $b([{
                    keyCode: sg.SPACEBAR,
                    action: Ub(B0, t)
                }], n).each(function(e) {
                    n.preventDefault()
                }))
            })
        },
        L0 = function(e, t) {
            var n;
            t.hasAttribute("data-mce-caret") && (zo(t), (n = e).selection.setRng(n.selection.getRng()), e.selection.scrollIntoView(t))
        },
        I0 = function(e, t) {
            var n, r = (n = e, Af(zn.fromDom(n.getBody()), "*[data-mce-caret]").fold(z.constant(null), function(e) {
                return e.dom()
            }));
            if (r) return "compositionstart" === t.type ? (t.preventDefault(), t.stopPropagation(), void L0(e, r)) : void(Lo(r) && (L0(e, r), e.undoManager.add()))
        },
        j0 = function(e) {
            e.on("keyup compositionstart", z.curry(I0, e))
        },
        M0 = function(e) {
            var t = sd.setupSelectedState(e);
            j0(e), Vb(e, t), Gb(e, t), R0(e), P0(e)
        };

    function q0(u) {
        var s, n, r, i = Lt.each,
            l = sg.BACKSPACE,
            f = sg.DELETE,
            c = u.dom,
            d = u.selection,
            e = u.settings,
            t = u.parser,
            o = ve.gecko,
            a = ve.ie,
            p = ve.webkit,
            h = "data:text/mce-internal,",
            m = a ? "Text" : "URL",
            g = function(e, t) {
                try {
                    u.getDoc().execCommand(e, !1, t)
                } catch (e) {}
            },
            v = function(e) {
                return e.isDefaultPrevented()
            },
            y = function() {
                u.shortcuts.add("meta+a", null, "SelectAll")
            },
            b = function() {
                u.on("keydown", function(e) {
                    if (!v(e) && e.keyCode === l && d.isCollapsed() && 0 === d.getRng().startOffset) {
                        var t = d.getNode().previousSibling;
                        if (t && t.nodeName && "table" === t.nodeName.toLowerCase()) return e.preventDefault(), !1
                    }
                })
            },
            x = function() {
                u.inline || (u.contentStyles.push("body {min-height: 150px}"), u.on("click", function(e) {
                    var t;
                    if ("HTML" === e.target.nodeName) {
                        if (11 < ve.ie) return void u.getBody().focus();
                        t = u.selection.getRng(), u.getBody().focus(), u.selection.setRng(t), u.selection.normalize(), u.nodeChanged()
                    }
                }))
            };
        return u.on("keydown", function(e) {
            var t, n, r, i, o;
            if (!v(e) && e.keyCode === sg.BACKSPACE && (n = (t = d.getRng()).startContainer, r = t.startOffset, i = c.getRoot(), o = n, t.collapsed && 0 === r)) {
                for (; o && o.parentNode && o.parentNode.firstChild === o && o.parentNode !== i;) o = o.parentNode;
                "BLOCKQUOTE" === o.tagName && (u.formatter.toggle("blockquote", null, o), (t = c.createRng()).setStart(n, 0), t.setEnd(n, 0), d.setRng(t))
            }
        }), s = function(e) {
            var t = c.create("body"),
                n = e.cloneContents();
            return t.appendChild(n), d.serializer.serialize(t, {
                format: "html"
            })
        }, u.on("keydown", function(e) {
            var t, n, r, i, o, a = e.keyCode;
            if (!v(e) && (a === f || a === l)) {
                if (t = u.selection.isCollapsed(), n = u.getBody(), t && !c.isEmpty(n)) return;
                if (!t && (r = u.selection.getRng(), i = s(r), (o = c.createRng()).selectNode(u.getBody()), i !== s(o))) return;
                e.preventDefault(), u.setContent(""), n.firstChild && c.isBlock(n.firstChild) ? u.selection.setCursorLocation(n.firstChild, 0) : u.selection.setCursorLocation(n, 0), u.nodeChanged()
            }
        }), ve.windowsPhone || u.on("keyup focusin mouseup", function(e) {
            sg.modifierPressed(e) || d.normalize()
        }, !0), p && (u.settings.content_editable || c.bind(u.getDoc(), "mousedown mouseup", function(e) {
            var t;
            if (e.target === u.getDoc().documentElement)
                if (t = d.getRng(), u.getBody().focus(), "mousedown" === e.type) {
                    if (Po(t.startContainer)) return;
                    d.placeCaretAt(e.clientX, e.clientY)
                } else d.setRng(t)
        }), u.on("click", function(e) {
            var t = e.target;
            /^(IMG|HR)$/.test(t.nodeName) && "false" !== c.getContentEditableParent(t) && (e.preventDefault(), u.selection.select(t), u.nodeChanged()), "A" === t.nodeName && c.hasClass(t, "mce-item-anchor") && (e.preventDefault(), d.select(t))
        }), e.forced_root_block && u.on("init", function() {
            g("DefaultParagraphSeparator", e.forced_root_block)
        }), u.on("init", function() {
            u.dom.bind(u.getBody(), "submit", function(e) {
                e.preventDefault()
            })
        }), b(), t.addNodeFilter("br", function(e) {
            for (var t = e.length; t--;) "Apple-interchange-newline" === e[t].attr("class") && e[t].remove()
        }), ve.iOS ? (u.inline || u.on("keydown", function() {
            document.activeElement === document.body && u.getWin().focus()
        }), x(), u.on("click", function(e) {
            var t = e.target;
            do {
                if ("A" === t.tagName) return void e.preventDefault()
            } while (t = t.parentNode)
        }), u.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")) : y()), 11 <= ve.ie && (x(), b()), ve.ie && (y(), g("AutoUrlDetect", !1), u.on("dragstart", function(e) {
            var t, n, r;
            (t = e).dataTransfer && (u.selection.isCollapsed() && "IMG" === t.target.tagName && d.select(t.target), 0 < (n = u.selection.getContent()).length && (r = h + escape(u.id) + "," + escape(n), t.dataTransfer.setData(m, r)))
        }), u.on("drop", function(e) {
            if (!v(e)) {
                var t = (o = e).dataTransfer && (a = o.dataTransfer.getData(m)) && 0 <= a.indexOf(h) ? (a = a.substr(h.length).split(","), {
                    id: unescape(a[0]),
                    html: unescape(a[1])
                }) : null;
                if (t && t.id !== u.id) {
                    e.preventDefault();
                    var n = Zy(e.x, e.y, u.getDoc());
                    d.setRng(n), r = t.html, i = !0, u.queryCommandSupported("mceInsertClipboardContent") ? u.execCommand("mceInsertClipboardContent", !1, {
                        content: r,
                        internal: i
                    }) : u.execCommand("mceInsertContent", !1, r)
                }
            }
            var r, i, o, a
        })), o && (u.on("keydown", function(e) {
            if (!v(e) && e.keyCode === l) {
                if (!u.getBody().getElementsByTagName("hr").length) return;
                if (d.isCollapsed() && 0 === d.getRng().startOffset) {
                    var t = d.getNode(),
                        n = t.previousSibling;
                    if ("HR" === t.nodeName) return c.remove(t), void e.preventDefault();
                    n && n.nodeName && "hr" === n.nodeName.toLowerCase() && (c.remove(n), e.preventDefault())
                }
            }
        }), Range.prototype.getClientRects || u.on("mousedown", function(e) {
            if (!v(e) && "HTML" === e.target.nodeName) {
                var t = u.getBody();
                t.blur(), Ce.setEditorTimeout(u, function() {
                    t.focus()
                })
            }
        }), n = function() {
            var e = c.getAttribs(d.getStart().cloneNode(!1));
            return function() {
                var t = d.getStart();
                t !== u.getBody() && (c.setAttrib(t, "style", null), i(e, function(e) {
                    t.setAttributeNode(e.cloneNode(!0))
                }))
            }
        }, r = function() {
            return !d.isCollapsed() && c.getParent(d.getStart(), c.isBlock) !== c.getParent(d.getEnd(), c.isBlock)
        }, u.on("keypress", function(e) {
            var t;
            if (!v(e) && (8 === e.keyCode || 46 === e.keyCode) && r()) return t = n(), u.getDoc().execCommand("delete", !1, null), t(), e.preventDefault(), !1
        }), c.bind(u.getDoc(), "cut", function(e) {
            var t;
            !v(e) && r() && (t = n(), Ce.setEditorTimeout(u, function() {
                t()
            }))
        }), e.readonly || u.on("BeforeExecCommand MouseDown", function() {
            g("StyleWithCSS", !1), g("enableInlineTableEditing", !1), e.object_resizing || g("enableObjectResizing", !1)
        }), u.on("SetContent ExecCommand", function(e) {
            "setcontent" !== e.type && "mceInsertLink" !== e.command || i(c.select("a"), function(e) {
                var t = e.parentNode,
                    n = c.getRoot();
                if (t.lastChild === e) {
                    for (; t && !c.isBlock(t);) {
                        if (t.parentNode.lastChild !== t || t === n) return;
                        t = t.parentNode
                    }
                    c.add(t, "br", {
                        "data-mce-bogus": 1
                    })
                }
            })
        }), u.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"), ve.mac && u.on("keydown", function(e) {
            !sg.metaKeyPressed(e) || e.shiftKey || 37 !== e.keyCode && 39 !== e.keyCode || (e.preventDefault(), u.selection.getSel().modify("move", 37 === e.keyCode ? "backward" : "forward", "lineboundary"))
        }), b()), {
            refreshContentEditable: function() {},
            isHidden: function() {
                var e;
                return !o || u.removed ? 0 : !(e = u.selection.getSel()) || !e.rangeCount || 0 === e.rangeCount
            }
        }
    }
    var H0 = function(e) {
            return Oi.isElement(e) && mi(zn.fromDom(e))
        },
        z0 = function(t) {
            t.on("click", function(e) {
                3 === e.detail && function(e) {
                    var t = e.selection.getRng(),
                        n = Oa.fromRangeStart(t),
                        r = Oa.fromRangeEnd(t);
                    if (Oa.isElementPosition(n)) {
                        var i = n.container();
                        H0(i) && Ja.firstPositionIn(i).each(function(e) {
                            return t.setStart(e.container(), e.offset())
                        })
                    }
                    Oa.isElementPosition(r) && (i = n.container(), H0(i) && Ja.lastPositionIn(i).each(function(e) {
                        return t.setEnd(e.container(), e.offset())
                    })), e.selection.setRng(Zl(t))
                }(t)
            })
        },
        U0 = function(e) {
            var t, n;
            (t = e).on("click", function(e) {
                t.dom.getParent(e.target, "details") && e.preventDefault()
            }), (n = e).parser.addNodeFilter("details", function(e) {
                U.each(e, function(e) {
                    e.attr("data-mce-open", e.attr("open")), e.attr("open", "open")
                })
            }), n.serializer.addNodeFilter("details", function(e) {
                U.each(e, function(e) {
                    var t = e.attr("data-mce-open");
                    e.attr("open", N.isString(t) ? t : null), e.attr("data-mce-open", null)
                })
            })
        },
        $0 = vo.DOM,
        V0 = function(e) {
            var t;
            e.bindPendingEventDelegates(), e.initialized = !0, e.fire("init"), e.focus(!0), e.nodeChanged({
                initial: !0
            }), e.execCallback("init_instance_callback", e), (t = e).settings.auto_focus && Ce.setEditorTimeout(t, function() {
                var e;
                (e = !0 === t.settings.auto_focus ? t : t.editorManager.get(t.settings.auto_focus)).destroyed || e.focus()
            }, 100)
        },
        W0 = function(t, e) {
            var n, r, u, i, o, a, s, l, f, c = t.settings,
                d = t.getElement(),
                p = t.getDoc();
            c.inline || (t.getElement().style.visibility = t.orgVisibility), e || c.content_editable || (p.open(), p.write(t.iframeHTML), p.close()), c.content_editable && (t.on("remove", function() {
                var e = this.getBody();
                $0.removeClass(e, "mce-content-body"), $0.removeClass(e, "mce-edit-focus"), $0.setAttrib(e, "contentEditable", null)
            }), $0.addClass(d, "mce-content-body"), t.contentDocument = p = c.content_document || document, t.contentWindow = c.content_window || window, t.bodyElement = d, c.content_document = c.content_window = null, c.root_name = d.nodeName.toLowerCase()), (n = t.getBody()).disabled = !0, t.readonly = c.readonly, t.readonly || (t.inline && "static" === $0.getStyle(n, "position", !0) && (n.style.position = "relative"), n.contentEditable = t.getParam("content_editable_state", !0)), n.disabled = !1, t.editorUpload = Cm(t), t.schema = ro(c), t.dom = vo(p, {
                keep_values: !0,
                url_converter: t.convertURL,
                url_converter_scope: t,
                hex_colors: c.force_hex_style_colors,
                class_filter: c.class_filter,
                update_styles: !0,
                root_element: t.inline ? t.getBody() : null,
                collect: c.content_editable,
                schema: t.schema,
                onSetAttrib: function(e) {
                    t.fire("SetAttrib", e)
                }
            }), t.parser = ((i = Hy((u = t).settings, u.schema)).addAttributeFilter("src,href,style,tabindex", function(e, t) {
                for (var n, r, i, o = e.length, a = u.dom; o--;)
                    if (r = (n = e[o]).attr(t), i = "data-mce-" + t, !n.attributes.map[i]) {
                        if (0 === r.indexOf("data:") || 0 === r.indexOf("blob:")) continue;
                        "style" === t ? ((r = a.serializeStyle(a.parseStyle(r), n.name)).length || (r = null), n.attr(i, r), n.attr(t, r)) : "tabindex" === t ? (n.attr(i, r), n.attr(t, null)) : n.attr(i, u.convertURL(r, t, n.name))
                    }
            }), i.addNodeFilter("script", function(e) {
                for (var t, n, r = e.length; r--;) 0 !== (n = (t = e[r]).attr("type") || "no/type").indexOf("mce-") && t.attr("type", "mce-" + n)
            }), i.addNodeFilter("#cdata", function(e) {
                for (var t, n = e.length; n--;)(t = e[n]).type = 8, t.name = "#comment", t.value = "[CDATA[" + t.value + "]]"
            }), i.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", function(e) {
                for (var t, n = e.length, r = u.schema.getNonEmptyElements(); n--;)(t = e[n]).isEmpty(r) && 0 === t.getAll("br").length && (t.append(new _y("br", 1)).shortEnded = !0)
            }), i), t.serializer = Wy(c, t), t.selection = Rb(t.dom, t.getWin(), t.serializer, t), t.formatter = vy(t), t.undoManager = qg(t), t._nodeChangeDispatcher = new Om(t), t._selectionOverrides = hg(t), U0(t), z0(t), M0(t), Nm(t), t.fire("PreInit"), c.browser_spellcheck || c.gecko_spellcheck || (p.body.spellcheck = !1, $0.setAttrib(n, "spellcheck", "false")), t.quirks = q0(t), t.fire("PostRender"), c.directionality && (n.dir = c.directionality), c.nowrap && (n.style.whiteSpace = "nowrap"), c.protect && t.on("BeforeSetContent", function(t) {
                Lt.each(c.protect, function(e) {
                    t.content = t.content.replace(e, function(e) {
                        return "\x3c!--mce:protected " + escape(e) + "--\x3e"
                    })
                })
            }), t.on("SetContent", function() {
                t.addVisual(t.getBody())
            }), t.load({
                initial: !0,
                format: "html"
            }), t.startContent = t.getContent({
                format: "raw"
            }), t.on("compositionstart compositionend", function(e) {
                t.composing = "compositionstart" === e.type
            }), 0 < t.contentStyles.length && (r = "", Lt.each(t.contentStyles, function(e) {
                r += e + "\r\n"
            }), t.dom.addStyle(r)), (o = t, o.inline ? $0.styleSheetLoader : o.dom.styleSheetLoader).loadAll(t.contentCSS, function(e) {
                V0(t)
            }, function(e) {
                V0(t)
            }), c.content_style && (a = t, s = c.content_style, l = zn.fromDom(a.getDoc().head), f = zn.fromTag("style"), fr.set(f, "type", "text/css"), Uu.append(f, zn.fromText(s)), Uu.append(l, f))
        },
        X0 = vo.DOM,
        K0 = function(e, t) {
            var n, r, i, o, a, u, s, l = e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),
                f = (n = e.id, r = l, i = t.height, o = Nu(e), s = zn.fromTag("iframe"), fr.setAll(s, o), fr.setAll(s, {
                    id: n + "_ifr",
                    frameBorder: "0",
                    allowTransparency: "true",
                    title: r
                }), yr(s, {
                    width: "100%",
                    height: (a = i, u = "number" == typeof a ? a + "px" : a, u || ""),
                    display: "block"
                }), s).dom();
            f.onload = function() {
                f.onload = null, e.fire("load")
            };
            var c, d, p, h, m = function(e, t) {
                if (document.domain !== window.location.hostname && ve.ie && ve.ie < 12) {
                    var n = wm.uuid("mce");
                    e[n] = function() {
                        W0(e)
                    };
                    var r = 'javascript:(function(){document.open();document.domain="' + document.domain + '";var ed = window.parent.tinymce.get("' + e.id + '");document.write(ed.iframeHTML);document.close();ed.' + n + "(true);})()";
                    return X0.setAttrib(t, "src", r), !0
                }
                return !1
            }(e, f);
            return e.contentAreaContainer = t.iframeContainer, e.iframeElement = f, e.iframeHTML = (h = Tu(c = e) + "<html><head>", Au(c) !== c.documentBaseUrl && (h += '<base href="' + c.documentBaseURI.getURI() + '" />'), h += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />', d = Du(c), p = _u(c), Ru(c) && (h += '<meta http-equiv="Content-Security-Policy" content="' + Ru(c) + '" />'), h += '</head><body id="' + d + '" class="mce-content-body ' + p + '" data-id="' + c.id + '"><br></body></html>'), X0.add(t.iframeContainer, f), m
        },
        Y0 = function(e, t) {
            var n = K0(e, t);
            t.editorContainer && (X0.get(t.editorContainer).style.display = e.orgDisplay, e.hidden = X0.isHidden(t.editorContainer)), e.getElement().style.display = "none", X0.setAttrib(e.id, "aria-hidden", "true"), n || W0(e)
        },
        G0 = vo.DOM,
        Q0 = function(t, n, e) {
            var r, i, o = im.get(e);
            if (r = im.urls[e] || t.documentBaseUrl.replace(/\/$/, ""), e = Lt.trim(e), o && -1 === Lt.inArray(n, e)) {
                if (Lt.each(im.dependencies(e), function(e) {
                        Q0(t, n, e)
                    }), t.plugins[e]) return;
                i = new o(t, r, t.$), (t.plugins[e] = i).init && (i.init(t, r), n.push(e))
            }
        },
        J0 = function(e) {
            return e.replace(/^\-/, "")
        },
        Z0 = function(e) {
            return {
                editorContainer: e,
                iframeContainer: e
            }
        },
        e1 = function(e) {
            var t, n, r = e.getElement();
            return e.inline ? Z0(null) : (t = r, n = G0.create("div"), G0.insertAfter(n, t), Z0(n))
        },
        t1 = function(e) {
            var t, n, r, i, o, a, u, s, l, f, c, d = e.settings,
                p = e.getElement();
            return e.orgDisplay = p.style.display, N.isString(d.theme) ? (f = (i = e).settings, c = i.getElement(), o = f.width || G0.getStyle(c, "width") || "100%", a = f.height || G0.getStyle(c, "height") || c.offsetHeight, u = f.min_height || 100, (s = /^[0-9\.]+(|px)$/i).test("" + o) && (o = Math.max(parseInt(o, 10), 100)), s.test("" + a) && (a = Math.max(parseInt(a, 10), u)), l = i.theme.renderUI({
                targetNode: c,
                width: o,
                height: a,
                deltaWidth: f.delta_width,
                deltaHeight: f.delta_height
            }), f.content_editable || (a = (l.iframeHeight || a) + ("number" == typeof a ? l.deltaHeight || 0 : "")) < u && (a = u), l.height = a, l) : N.isFunction(d.theme) ? (r = (t = e).getElement(), (n = t.settings.theme(t, r)).editorContainer.nodeType && (n.editorContainer.id = n.editorContainer.id || t.id + "_parent"), n.iframeContainer && n.iframeContainer.nodeType && (n.iframeContainer.id = n.iframeContainer.id || t.id + "_iframecontainer"), n.height = n.iframeHeight ? n.iframeHeight : r.offsetHeight, n) : e1(e)
        },
        n1 = function(t) {
            var e, n, r, i, o, a, u = t.settings,
                s = t.getElement();
            return t.rtl = u.rtl_ui || t.editorManager.i18n.rtl, t.editorManager.i18n.setCode(u.language), u.aria_label = u.aria_label || G0.getAttrib(s, "aria-label", t.getLang("aria.rich_text_area")), t.fire("ScriptsLoaded"), i = (n = t).settings.theme, N.isString(i) ? (n.settings.theme = J0(i), r = om.get(i), n.theme = new r(n, om.urls[i]), n.theme.init && n.theme.init(n, om.urls[i] || n.documentBaseUrl.replace(/\/$/, ""), n.$)) : n.theme = {}, o = t, a = [], Lt.each(o.settings.plugins.split(/[ ,]/), function(e) {
                Q0(o, a, J0(e))
            }), e = t1(t), t.editorContainer = e.editorContainer ? e.editorContainer : null, u.content_css && Lt.each(Lt.explode(u.content_css), function(e) {
                t.contentCSS.push(t.documentBaseURI.toAbsolute(e))
            }), u.content_editable ? W0(t) : Y0(t, e)
        },
        r1 = vo.DOM,
        i1 = function(e) {
            return "-" === e.charAt(0)
        },
        o1 = function(o, a) {
            var u = Co.ScriptLoader;
            ! function(e, t, n, r) {
                var i = t.settings,
                    o = i.theme;
                if (N.isString(o)) {
                    if (!i1(o) && !om.urls.hasOwnProperty(o)) {
                        var a = i.theme_url;
                        a ? om.load(o, t.documentBaseURI.toAbsolute(a)) : om.load(o, "themes/" + o + "/theme" + n + ".js")
                    }
                    e.loadQueue(function() {
                        om.waitFor(o, r)
                    })
                } else r()
            }(u, o, a, function() {
                var e, t, n, r, i;
                e = u, (n = (t = o).settings).language && "en" !== n.language && !n.language_url && (n.language_url = t.editorManager.baseURL + "/langs/" + n.language + ".js"), n.language_url && !t.editorManager.i18n.data[n.language] && e.add(n.language_url), r = o.settings, i = a, Lt.isArray(r.plugins) && (r.plugins = r.plugins.join(" ")), Lt.each(r.external_plugins, function(e, t) {
                    im.load(t, e), r.plugins += " " + t
                }), Lt.each(r.plugins.split(/[ ,]/), function(e) {
                    if ((e = Lt.trim(e)) && !im.urls[e])
                        if (i1(e)) {
                            e = e.substr(1, e.length);
                            var t = im.dependencies(e);
                            Lt.each(t, function(e) {
                                var t = {
                                    prefix: "plugins/",
                                    resource: e,
                                    suffix: "/plugin" + i + ".js"
                                };
                                e = im.createUrl(t, e), im.load(e.resource, e)
                            })
                        } else im.load(e, {
                            prefix: "plugins/",
                            resource: e,
                            suffix: "/plugin" + i + ".js"
                        })
                }), u.loadQueue(function() {
                    o.removed || n1(o)
                }, o, function(e) {
                    em(o, e[0]), o.removed || n1(o)
                })
            })
        },
        a1 = function(t) {
            var e = t.settings,
                n = t.id,
                r = function() {
                    r1.unbind(window, "ready", r), t.render()
                };
            if (Re.Event.domLoaded) {
                if (t.getElement() && ve.contentEditable) {
                    e.inline ? t.inline = !0 : (t.orgVisibility = t.getElement().style.visibility, t.getElement().style.visibility = "hidden");
                    var i = t.getElement().form || r1.getParent(n, "form");
                    i && (t.formElement = i, e.hidden_input && !/TEXTAREA|INPUT/i.test(t.getElement().nodeName) && (r1.insertAfter(r1.create("input", {
                        type: "hidden",
                        name: n
                    }), n), t.hasHiddenInput = !0), t.formEventDelegate = function(e) {
                        t.fire(e.type, e)
                    }, r1.bind(i, "submit reset", t.formEventDelegate), t.on("reset", function() {
                        t.setContent(t.startContent, {
                            format: "raw"
                        })
                    }), !e.submit_patch || i.submit.nodeType || i.submit.length || i._mceOldSubmit || (i._mceOldSubmit = i.submit, i.submit = function() {
                        return t.editorManager.triggerSave(), t.setDirty(!1), i._mceOldSubmit(i)
                    })), t.windowManager = Yh(t), t.notificationManager = Kh(t), "xml" === e.encoding && t.on("GetContent", function(e) {
                        e.save && (e.content = r1.encode(e.content))
                    }), e.add_form_submit_trigger && t.on("submit", function() {
                        t.initialized && t.save()
                    }), e.add_unload_trigger && (t._beforeUnload = function() {
                        !t.initialized || t.destroyed || t.isHidden() || t.save({
                            format: "raw",
                            no_events: !0,
                            set_dirty: !1
                        })
                    }, t.editorManager.on("BeforeUnload", t._beforeUnload)), t.editorManager.add(t), o1(t, t.suffix)
                }
            } else r1.bind(window, "ready", r)
        },
        u1 = function(e, t, n) {
            var r = e.sidebars ? e.sidebars : [];
            r.push({
                name: t,
                settings: n
            }), e.sidebars = r
        },
        s1 = Lt.each,
        l1 = Lt.trim,
        f1 = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
        c1 = {
            ftp: 21,
            http: 80,
            https: 443,
            mailto: 25
        },
        d1 = function(r, e) {
            var t, n, i = this;
            if (r = l1(r), t = (e = i.settings = e || {}).base_uri, /^([\w\-]+):([^\/]{2})/i.test(r) || /^\s*#/.test(r)) i.source = r;
            else {
                var o = 0 === r.indexOf("//");
                0 !== r.indexOf("/") || o || (r = (t && t.protocol || "http") + "://mce_host" + r), /^[\w\-]*:?\/\//.test(r) || (n = e.base_uri ? e.base_uri.path : new d1(document.location.href).directory, "" == e.base_uri.protocol ? r = "//mce_host" + i.toAbsPath(n, r) : (r = /([^#?]*)([#?]?.*)/.exec(r), r = (t && t.protocol || "http") + "://mce_host" + i.toAbsPath(n, r[1]) + r[2])), r = r.replace(/@@/g, "(mce_at)"), r = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r), s1(f1, function(e, t) {
                    var n = r[t];
                    n && (n = n.replace(/\(mce_at\)/g, "@@")), i[e] = n
                }), t && (i.protocol || (i.protocol = t.protocol), i.userInfo || (i.userInfo = t.userInfo), i.port || "mce_host" !== i.host || (i.port = t.port), i.host && "mce_host" !== i.host || (i.host = t.host), i.source = ""), o && (i.protocol = "")
            }
        };
    d1.prototype = {
        setPath: function(e) {
            e = /^(.*?)\/?(\w+)?$/.exec(e), this.path = e[0], this.directory = e[1], this.file = e[2], this.source = "", this.getURI()
        },
        toRelative: function(e) {
            var t;
            if ("./" === e) return e;
            if ("mce_host" !== (e = new d1(e, {
                    base_uri: this
                })).host && this.host !== e.host && e.host || this.port !== e.port || this.protocol !== e.protocol && "" !== e.protocol) return e.getURI();
            var n = this.getURI(),
                r = e.getURI();
            return n === r || "/" === n.charAt(n.length - 1) && n.substr(0, n.length - 1) === r ? n : (t = this.toRelPath(this.path, e.path), e.query && (t += "?" + e.query), e.anchor && (t += "#" + e.anchor), t)
        },
        toAbsolute: function(e, t) {
            return (e = new d1(e, {
                base_uri: this
            })).getURI(t && this.isSameOrigin(e))
        },
        isSameOrigin: function(e) {
            if (this.host == e.host && this.protocol == e.protocol) {
                if (this.port == e.port) return !0;
                var t = c1[this.protocol];
                if (t && (this.port || t) == (e.port || t)) return !0
            }
            return !1
        },
        toRelPath: function(e, t) {
            var n, r, i, o = 0,
                a = "";
            if (e = (e = e.substring(0, e.lastIndexOf("/"))).split("/"), n = t.split("/"), e.length >= n.length)
                for (r = 0, i = e.length; r < i; r++)
                    if (r >= n.length || e[r] !== n[r]) {
                        o = r + 1;
                        break
                    }
            if (e.length < n.length)
                for (r = 0, i = n.length; r < i; r++)
                    if (r >= e.length || e[r] !== n[r]) {
                        o = r + 1;
                        break
                    }
            if (1 === o) return t;
            for (r = 0, i = e.length - (o - 1); r < i; r++) a += "../";
            for (r = o - 1, i = n.length; r < i; r++) a += r !== o - 1 ? "/" + n[r] : n[r];
            return a
        },
        toAbsPath: function(e, t) {
            var n, r, i, o = 0,
                a = [];
            for (r = /\/$/.test(t) ? "/" : "", e = e.split("/"), t = t.split("/"), s1(e, function(e) {
                    e && a.push(e)
                }), e = a, n = t.length - 1, a = []; 0 <= n; n--) 0 !== t[n].length && "." !== t[n] && (".." !== t[n] ? 0 < o ? o-- : a.push(t[n]) : o++);
            return 0 !== (i = (n = e.length - o) <= 0 ? a.reverse().join("/") : e.slice(0, n).join("/") + "/" + a.reverse().join("/")).indexOf("/") && (i = "/" + i), r && i.lastIndexOf("/") !== i.length - 1 && (i += r), i
        },
        getURI: function(e) {
            var t, n = this;
            return n.source && !e || (t = "", e || (n.protocol ? t += n.protocol + "://" : t += "//", n.userInfo && (t += n.userInfo + "@"), n.host && (t += n.host), n.port && (t += ":" + n.port)), n.path && (t += n.path), n.query && (t += "?" + n.query), n.anchor && (t += "#" + n.anchor), n.source = t), n.source
        }
    }, d1.parseDataUri = function(e) {
        var t, n;
        return e = decodeURIComponent(e).split(","), (n = /data:([^;]+)/.exec(e[0])) && (t = n[1]), {
            type: t,
            data: e[1]
        }
    }, d1.getDocumentBaseUrl = function(e) {
        var t;
        return t = 0 !== e.protocol.indexOf("http") && "file:" !== e.protocol ? e.href : e.protocol + "//" + e.host + e.pathname, /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), t
    };
    var p1 = function(e, t, n) {
            var r, i, o, a, u;
            if (t.format = t.format ? t.format : "html", t.get = !0, t.getInner = !0, t.no_events || e.fire("BeforeGetContent", t), "raw" === t.format) r = Lt.trim(bg.trimExternal(e.serializer, n.innerHTML));
            else if ("text" === t.format) r = _o(n.innerText || n.textContent);
            else {
                if ("tree" === t.format) return e.serializer.serialize(n, t);
                o = (i = e).serializer.serialize(n, t), a = Fu(i), u = new RegExp("^(<" + a + "[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/" + a + ">[\r\n]*|<br \\/>[\r\n]*)$"), r = o.replace(u, "")
            }
            return "text" === t.format || wi(zn.fromDom(n)) ? t.content = r : t.content = Lt.trim(r), t.no_events || e.fire("GetContent", t), t.content
        },
        h1 = function(e, t) {
            t(e), e.firstChild && h1(e.firstChild, t), e.next && h1(e.next, t)
        },
        m1 = function(e, t, n) {
            var r = function(e, n, t) {
                var r = {},
                    i = {},
                    o = [];
                for (var a in t.firstChild && h1(t.firstChild, function(t) {
                        U.each(e, function(e) {
                            e.name === t.name && (r[e.name] ? r[e.name].nodes.push(t) : r[e.name] = {
                                filter: e,
                                nodes: [t]
                            })
                        }), U.each(n, function(e) {
                            "string" == typeof t.attr(e.name) && (i[e.name] ? i[e.name].nodes.push(t) : i[e.name] = {
                                filter: e,
                                nodes: [t]
                            })
                        })
                    }), r) r.hasOwnProperty(a) && o.push(r[a]);
                for (var u in i) i.hasOwnProperty(u) && o.push(i[u]);
                return o
            }(e, t, n);
            U.each(r, function(t) {
                U.each(t.filter.callbacks, function(e) {
                    e(t.nodes, t.filter.name, {})
                })
            })
        },
        g1 = function(e) {
            return e instanceof _y
        },
        v1 = function(e, t) {
            var r;
            e.dom.setHTML(e.getBody(), t), Mh(r = e) && Ja.firstPositionIn(r.getBody()).each(function(e) {
                var t = e.getNode(),
                    n = Oi.isTable(t) ? Ja.firstPositionIn(t).getOr(e) : e;
                r.selection.setRng(n.toRange())
            })
        },
        y1 = function(u, s, l) {
            return void 0 === l && (l = {}), l.format = l.format ? l.format : "html", l.set = !0, l.content = g1(s) ? "" : s, g1(s) || l.no_events || (u.fire("BeforeSetContent", l), s = l.content), A.from(u.getBody()).fold(z.constant(s), function(e) {
                return g1(s) ? function(e, t, n, r) {
                    m1(e.parser.getNodeFilters(), e.parser.getAttributeFilters(), n);
                    var i = Ql({
                        validate: e.validate
                    }, e.schema).serialize(n);
                    return r.content = wi(zn.fromDom(t)) ? i : Lt.trim(i), v1(e, r.content), r.no_events || e.fire("SetContent", r), n
                }(u, e, s, l) : (t = u, n = e, i = l, 0 === (r = s).length || /^\s+$/.test(r) ? (a = '<br data-mce-bogus="1">', "TABLE" === n.nodeName ? r = "<tr><td>" + a + "</td></tr>" : /^(UL|OL)$/.test(n.nodeName) && (r = "<li>" + a + "</li>"), (o = Fu(t)) && t.schema.isValidChild(n.nodeName.toLowerCase(), o.toLowerCase()) ? (r = a, r = t.dom.createHTML(o, t.settings.forced_root_block_attrs, r)) : r || (r = '<br data-mce-bogus="1">'), v1(t, r), t.fire("SetContent", i)) : ("raw" !== i.format && (r = Ql({
                    validate: t.validate
                }, t.schema).serialize(t.parser.parse(r, {
                    isRootContent: !0,
                    insert: !0
                }))), i.content = wi(zn.fromDom(n)) ? r : Lt.trim(r), v1(t, i.content), i.no_events || t.fire("SetContent", i)), i.content);
                var t, n, r, i, o, a
            })
        },
        b1 = vo.DOM,
        x1 = function(e) {
            return A.from(e).each(function(e) {
                return e.destroy()
            })
        },
        w1 = function(e) {
            if (!e.removed) {
                var t = e._selectionOverrides,
                    n = e.editorUpload,
                    r = e.getBody(),
                    i = e.getElement();
                r && e.save(), e.removed = !0, e.unbindAllNativeEvents(), e.hasHiddenInput && i && b1.remove(i.nextSibling), !e.inline && r && (o = e, b1.setStyle(o.id, "display", o.orgDisplay)), ch(e), e.editorManager.remove(e), b1.remove(e.getContainer()), x1(t), x1(n), e.destroy()
            }
            var o
        },
        C1 = function(e, t) {
            var n, r, i, o = e.selection,
                a = e.dom;
            e.destroyed || (t || e.removed ? (t || (e.editorManager.off("beforeunload", e._beforeUnload), e.theme && e.theme.destroy && e.theme.destroy(), x1(o), x1(a)), (r = (n = e).formElement) && (r._mceOldSubmit && (r.submit = r._mceOldSubmit, r._mceOldSubmit = null), b1.unbind(r, "submit reset", n.formEventDelegate)), (i = e).contentAreaContainer = i.formElement = i.container = i.editorContainer = null, i.bodyElement = i.contentDocument = i.contentWindow = null, i.iframeElement = i.targetElm = null, i.selection && (i.selection = i.selection.win = i.selection.dom = i.selection.dom.doc = null), e.destroyed = !0) : e.remove())
        },
        E1 = vo.DOM,
        k1 = Lt.extend,
        S1 = Lt.each,
        N1 = Lt.resolve,
        T1 = ve.ie,
        A1 = function(e, t, n) {
            var r, i, o, a, u, s, l, f = this,
                c = f.documentBaseUrl = n.documentBaseURL,
                d = n.baseURI;
            r = f, i = e, o = c, a = n.defaultSettings, u = t, l = {
                id: i,
                theme: "modern",
                delta_width: 0,
                delta_height: 0,
                popup_css: "",
                plugins: "",
                document_base_url: o,
                add_form_submit_trigger: !0,
                submit_patch: !0,
                add_unload_trigger: !0,
                convert_urls: !0,
                relative_urls: !0,
                remove_script_host: !0,
                object_resizing: !0,
                doctype: "<!DOCTYPE html>",
                visual: !0,
                font_size_style_values: "xx-small,x-small,small,medium,large,x-large,xx-large",
                font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%",
                forced_root_block: "p",
                hidden_input: !0,
                render_ui: !0,
                indentation: "30px",
                inline_styles: !0,
                convert_fonts_to_spans: !0,
                indent: "simple",
                indent_before: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                indent_after: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                entity_encoding: "named",
                url_converter: (s = r).convertURL,
                url_converter_scope: s,
                ie7_compat: !0
            }, t = gf(ff, l, a, u), f.settings = t, So.language = t.language || "en", So.languageLoad = t.language_load, So.baseURL = n.baseURL, f.id = e, f.setDirty(!1), f.plugins = {}, f.documentBaseURI = new d1(t.document_base_url, {
                base_uri: d
            }), f.baseURI = d, f.contentCSS = [], f.contentStyles = [], f.shortcuts = new Ah(f), f.loadedCSS = {}, f.editorCommands = new Up(f), f.suffix = n.suffix, f.editorManager = n, f.inline = t.inline, f.buttons = {}, f.menuItems = {}, t.cache_suffix && (ve.cacheSuffix = t.cache_suffix.replace(/^[\?\&]+/, "")), !1 === t.override_viewport && (ve.overrideViewPort = !1), n.fire("SetupEditor", {
                editor: f
            }), f.execCallback("setup", f), f.$ = tn.overrideDefaults(function() {
                return {
                    context: f.inline ? f.getBody() : f.getDoc(),
                    element: f.getBody()
                }
            })
        };
    k1(A1.prototype = {
        render: function() {
            a1(this)
        },
        focus: function(e) {
            jh(this, e)
        },
        hasFocus: function() {
            return Mh(this)
        },
        execCallback: function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            var r, i = this.settings[e];
            if (i) return this.callbackLookup && (r = this.callbackLookup[e]) && (i = r.func, r = r.scope), "string" == typeof i && (r = (r = i.replace(/\.\w+$/, "")) ? N1(r) : 0, i = N1(i), this.callbackLookup = this.callbackLookup || {}, this.callbackLookup[e] = {
                func: i,
                scope: r
            }), i.apply(r || this, Array.prototype.slice.call(arguments, 1))
        },
        translate: function(e) {
            if (e && Lt.is(e, "string")) {
                var n = this.settings.language || "en",
                    r = this.editorManager.i18n;
                e = r.data[n + "." + e] || e.replace(/\{\#([^\}]+)\}/g, function(e, t) {
                    return r.data[n + "." + t] || "{#" + t + "}"
                })
            }
            return this.editorManager.translate(e)
        },
        getLang: function(e, t) {
            return this.editorManager.i18n.data[(this.settings.language || "en") + "." + e] || (t !== undefined ? t : "{#" + e + "}")
        },
        getParam: function(e, t, n) {
            return bf(this, e, t, n)
        },
        nodeChanged: function(e) {
            this._nodeChangeDispatcher.nodeChanged(e)
        },
        addButton: function(e, t) {
            var n = this;
            t.cmd && (t.onclick = function() {
                n.execCommand(t.cmd)
            }), t.stateSelector && "undefined" == typeof t.active && (t.active = !1), t.text || t.icon || (t.icon = e), n.buttons = n.buttons, t.tooltip = t.tooltip || t.title, n.buttons[e] = t
        },
        addSidebar: function(e, t) {
            return u1(this, e, t)
        },
        addMenuItem: function(e, t) {
            var n = this;
            t.cmd && (t.onclick = function() {
                n.execCommand(t.cmd)
            }), n.menuItems = n.menuItems, n.menuItems[e] = t
        },
        addContextToolbar: function(e, t) {
            var n, r = this;
            r.contextToolbars = r.contextToolbars || [], "string" == typeof e && (n = e, e = function(e) {
                return r.dom.is(e, n)
            }), r.contextToolbars.push({
                id: wm.uuid("mcet"),
                predicate: e,
                items: t
            })
        },
        addCommand: function(e, t, n) {
            this.editorCommands.addCommand(e, t, n)
        },
        addQueryStateHandler: function(e, t, n) {
            this.editorCommands.addQueryStateHandler(e, t, n)
        },
        addQueryValueHandler: function(e, t, n) {
            this.editorCommands.addQueryValueHandler(e, t, n)
        },
        addShortcut: function(e, t, n, r) {
            this.shortcuts.add(e, t, n, r)
        },
        execCommand: function(e, t, n, r) {
            return this.editorCommands.execCommand(e, t, n, r)
        },
        queryCommandState: function(e) {
            return this.editorCommands.queryCommandState(e)
        },
        queryCommandValue: function(e) {
            return this.editorCommands.queryCommandValue(e)
        },
        queryCommandSupported: function(e) {
            return this.editorCommands.queryCommandSupported(e)
        },
        show: function() {
            this.hidden && (this.hidden = !1, this.inline ? this.getBody().contentEditable = !0 : (E1.show(this.getContainer()), E1.hide(this.id)), this.load(), this.fire("show"))
        },
        hide: function() {
            var e = this,
                t = e.getDoc();
            e.hidden || (T1 && t && !e.inline && t.execCommand("SelectAll"), e.save(), e.inline ? (e.getBody().contentEditable = !1, e === e.editorManager.focusedEditor && (e.editorManager.focusedEditor = null)) : (E1.hide(e.getContainer()), E1.setStyle(e.id, "display", e.orgDisplay)), e.hidden = !0, e.fire("hide"))
        },
        isHidden: function() {
            return !!this.hidden
        },
        setProgressState: function(e, t) {
            this.fire("ProgressState", {
                state: e,
                time: t
            })
        },
        load: function(e) {
            var t, n = this.getElement();
            return this.removed ? "" : n ? ((e = e || {}).load = !0, t = this.setContent(n.value !== undefined ? n.value : n.innerHTML, e), e.element = n, e.no_events || this.fire("LoadContent", e), e.element = n = null, t) : void 0
        },
        save: function(e) {
            var t, n, r = this,
                i = r.getElement();
            if (i && r.initialized && !r.removed) return (e = e || {}).save = !0, e.element = i, e.content = r.getContent(e), e.no_events || r.fire("SaveContent", e), "raw" === e.format && r.fire("RawSaveContent", e), t = e.content, /TEXTAREA|INPUT/i.test(i.nodeName) ? i.value = t : (r.inline || (i.innerHTML = t), (n = E1.getParent(r.id, "form")) && S1(n.elements, function(e) {
                if (e.name === r.id) return e.value = t, !1
            })), e.element = i = null, !1 !== e.set_dirty && r.setDirty(!1), t
        },
        setContent: function(e, t) {
            return y1(this, e, t)
        },
        getContent: function(e) {
            return t = this, void 0 === (n = e) && (n = {}), A.from(t.getBody()).fold(z.constant("tree" === n.format ? new _y("body", 11) : ""), function(e) {
                return p1(t, n, e)
            });
            var t, n
        },
        insertContent: function(e, t) {
            t && (e = k1({
                content: e
            }, t)), this.execCommand("mceInsertContent", !1, e)
        },
        isDirty: function() {
            return !this.isNotDirty
        },
        setDirty: function(e) {
            var t = !this.isNotDirty;
            this.isNotDirty = !e, e && e !== t && this.fire("dirty")
        },
        setMode: function(e) {
            var t, n;
            (n = e) !== vh(t = this) && (t.initialized ? gh(t, "readonly" === n) : t.on("init", function() {
                gh(t, "readonly" === n)
            }), dh(t, n))
        },
        getContainer: function() {
            return this.container || (this.container = E1.get(this.editorContainer || this.id + "_parent")), this.container
        },
        getContentAreaContainer: function() {
            return this.contentAreaContainer
        },
        getElement: function() {
            return this.targetElm || (this.targetElm = E1.get(this.id)), this.targetElm
        },
        getWin: function() {
            var e;
            return this.contentWindow || (e = this.iframeElement) && (this.contentWindow = e.contentWindow), this.contentWindow
        },
        getDoc: function() {
            var e;
            return this.contentDocument || (e = this.getWin()) && (this.contentDocument = e.document), this.contentDocument
        },
        getBody: function() {
            var e = this.getDoc();
            return this.bodyElement || (e ? e.body : null)
        },
        convertURL: function(e, t, n) {
            var r = this.settings;
            return r.urlconverter_callback ? this.execCallback("urlconverter_callback", e, n, !0, t) : !r.convert_urls || n && "LINK" === n.nodeName || 0 === e.indexOf("file:") || 0 === e.length ? e : r.relative_urls ? this.documentBaseURI.toRelative(e) : e = this.documentBaseURI.toAbsolute(e, r.remove_script_host)
        },
        addVisual: function(e) {
            var n, r = this,
                i = r.settings,
                o = r.dom;
            e = e || r.getBody(), r.hasVisual === undefined && (r.hasVisual = i.visual), S1(o.select("table,a", e), function(e) {
                var t;
                switch (e.nodeName) {
                    case "TABLE":
                        return n = i.visual_table_class || "mce-item-table", void((t = o.getAttrib(e, "border")) && "0" !== t || !r.hasVisual ? o.removeClass(e, n) : o.addClass(e, n));
                    case "A":
                        return void(o.getAttrib(e, "href") || (t = o.getAttrib(e, "name") || e.id, n = i.visual_anchor_class || "mce-item-anchor", t && r.hasVisual ? o.addClass(e, n) : o.removeClass(e, n)))
                }
            }), r.fire("VisualAid", {
                element: e,
                hasVisual: r.hasVisual
            })
        },
        remove: function() {
            w1(this)
        },
        destroy: function(e) {
            C1(this, e)
        },
        uploadImages: function(e) {
            return this.editorUpload.uploadImages(e)
        },
        _scanForImages: function() {
            return this.editorUpload.scanForImages()
        }
    }, Eh);
    var D1, _1, R1, O1 = {
            isEditorUIElement: function(e) {
                return -1 !== e.className.toString().indexOf("mce-")
            }
        },
        F1 = function(n, e) {
            var t, r;
            qn.detect().browser.isIE() ? (r = n).on("focusout", function() {
                Pp(r)
            }) : (t = e, n.on("mouseup touchend", function(e) {
                t.throttle()
            })), n.on("keyup nodechange", function(e) {
                var t;
                "nodechange" === (t = e).type && t.selectionChange || Pp(n)
            })
        },
        B1 = function(e) {
            var t, n, r, i = ag(function() {
                Pp(e)
            }, 0);
            e.inline && (t = e, n = i, r = function() {
                n.throttle()
            }, vo.DOM.bind(document, "mouseup", r), t.on("remove", function() {
                vo.DOM.unbind(document, "mouseup", r)
            })), e.on("init", function() {
                F1(e, i)
            }), e.on("remove", function() {
                i.cancel()
            })
        },
        P1 = vo.DOM,
        L1 = function(e) {
            return O1.isEditorUIElement(e)
        },
        I1 = function(t, e) {
            var n = t ? t.settings.custom_ui_selector : "";
            return null !== P1.getParent(e, function(e) {
                return L1(e) || !!n && t.dom.is(e, n)
            })
        },
        j1 = function(r, e) {
            var t = e.editor;
            B1(t), t.on("focusin", function() {
                var e = r.focusedEditor;
                e !== this && (e && e.fire("blur", {
                    focusedEditor: this
                }), r.setActive(this), (r.focusedEditor = this).fire("focus", {
                    blurredEditor: e
                }), this.focus(!0))
            }), t.on("focusout", function() {
                var t = this;
                Ce.setEditorTimeout(t, function() {
                    var e = r.focusedEditor;
                    I1(t, function() {
                        try {
                            return document.activeElement
                        } catch (e) {
                            return document.body
                        }
                    }()) || e !== t || (t.fire("blur", {
                        focusedEditor: null
                    }), r.focusedEditor = null)
                })
            }), D1 || (D1 = function(e) {
                var t, n = r.activeEditor;
                t = e.target, n && t.ownerDocument === document && (t === document.body || I1(n, t) || r.focusedEditor !== n || (n.fire("blur", {
                    focusedEditor: null
                }), r.focusedEditor = null))
            }, P1.bind(document, "focusin", D1))
        },
        M1 = function(e, t) {
            e.focusedEditor === t.editor && (e.focusedEditor = null), e.activeEditor || (P1.unbind(document, "focusin", D1), D1 = null)
        },
        q1 = function(e) {
            e.on("AddEditor", z.curry(j1, e)), e.on("RemoveEditor", z.curry(M1, e))
        },
        H1 = {},
        z1 = "en",
        U1 = {
            setCode: function(e) {
                e && (z1 = e, this.rtl = !!this.data[e] && "rtl" === this.data[e]._dir)
            },
            getCode: function() {
                return z1
            },
            rtl: !1,
            add: function(e, t) {
                var n = H1[e];
                for (var r in n || (H1[e] = n = {}), t) n[r] = t[r];
                this.setCode(e)
            },
            translate: function(e) {
                var t = H1[z1] || {},
                    n = function(e) {
                        return Lt.is(e, "function") ? Object.prototype.toString.call(e) : r(e) ? "" : "" + e
                    },
                    r = function(e) {
                        return "" === e || null === e || Lt.is(e, "undefined")
                    },
                    i = function(e) {
                        return e = n(e), Lt.hasOwn(t, e) ? n(t[e]) : e
                    };
                if (r(e)) return "";
                if (Lt.is(e, "object") && Lt.hasOwn(e, "raw")) return n(e.raw);
                if (Lt.is(e, "array")) {
                    var o = e.slice(1);
                    e = i(e[0]).replace(/\{([0-9]+)\}/g, function(e, t) {
                        return Lt.hasOwn(o, t) ? n(o[t]) : e
                    })
                }
                return i(e).replace(/{context:\w+}$/, "")
            },
            data: H1
        },
        $1 = vo.DOM,
        V1 = Lt.explode,
        W1 = Lt.each,
        X1 = Lt.extend,
        K1 = 0,
        Y1 = !1,
        G1 = [],
        Q1 = [],
        J1 = function(t) {
            W1(R1.get(), function(e) {
                "scroll" === t.type ? e.fire("ScrollWindow", t) : e.fire("ResizeWindow", t)
            })
        },
        Z1 = function(e) {
            e !== Y1 && (e ? tn(window).on("resize scroll", J1) : tn(window).off("resize scroll", J1), Y1 = e)
        },
        ex = function(t) {
            var e = Q1;
            delete G1[t.id];
            for (var n = 0; n < G1.length; n++)
                if (G1[n] === t) {
                    G1.splice(n, 1);
                    break
                }
            return Q1 = U.filter(Q1, function(e) {
                return t !== e
            }), R1.activeEditor === t && (R1.activeEditor = 0 < Q1.length ? Q1[0] : null), R1.focusedEditor === t && (R1.focusedEditor = null), e.length !== Q1.length
        };
    X1(R1 = {
        defaultSettings: {},
        $: tn,
        majorVersion: "4",
        minorVersion: "7.13",
        releaseDate: "2018-05-16",
        editors: G1,
        i18n: U1,
        activeEditor: null,
        settings: {},
        setup: function() {
            var e, t, n, r, i = "";
            if (t = d1.getDocumentBaseUrl(document.location), /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), n = window.tinymce || window.tinyMCEPreInit) e = n.base || n.baseURL, i = n.suffix;
            else {
                for (var o = document.getElementsByTagName("script"), a = 0; a < o.length; a++) {
                    var u = (r = o[a].src).substring(r.lastIndexOf("/"));
                    if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)) {
                        -1 !== u.indexOf(".min") && (i = ".min"), e = r.substring(0, r.lastIndexOf("/"));
                        break
                    }
                }!e && document.currentScript && (-1 !== (r = document.currentScript.src).indexOf(".min") && (i = ".min"), e = r.substring(0, r.lastIndexOf("/")))
            }
            this.baseURL = new d1(t).toAbsolute(e), this.documentBaseURL = t, this.baseURI = new d1(this.baseURL), this.suffix = i, q1(this)
        },
        overrideDefaults: function(e) {
            var t, n;
            (t = e.base_url) && (this.baseURL = new d1(this.documentBaseURL).toAbsolute(t.replace(/\/+$/, "")), this.baseURI = new d1(this.baseURL)), n = e.suffix, e.suffix && (this.suffix = n);
            var r = (this.defaultSettings = e).plugin_base_urls;
            for (var i in r) So.PluginManager.urls[i] = r[i]
        },
        init: function(r) {
            var n, u, s = this;
            u = Lt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu", " ");
            var l = function(e) {
                    var t = e.id;
                    return t || (t = (t = e.name) && !$1.get(t) ? e.name : $1.uniqueId(), e.setAttribute("id", t)), t
                },
                f = function(e, t) {
                    return t.constructor === RegExp ? t.test(e.className) : $1.hasClass(e, t)
                },
                c = function(e) {
                    n = e
                },
                e = function() {
                    var i, o = 0,
                        a = [],
                        n = function(e, t, n) {
                            var r = new A1(e, t, s);
                            a.push(r), r.on("init", function() {
                                ++o === i.length && c(a)
                            }), r.targetElm = r.targetElm || n, r.render()
                        };
                    $1.unbind(window, "ready", e),
                        function(e) {
                            var t = r[e];
                            t && t.apply(s, Array.prototype.slice.call(arguments, 2))
                        }("onpageload"), i = tn.unique(function(t) {
                            var e, n = [];
                            if (ve.ie && ve.ie < 11) return rm("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"), [];
                            if (t.types) return W1(t.types, function(e) {
                                n = n.concat($1.select(e.selector))
                            }), n;
                            if (t.selector) return $1.select(t.selector);
                            if (t.target) return [t.target];
                            switch (t.mode) {
                                case "exact":
                                    0 < (e = t.elements || "").length && W1(V1(e), function(t) {
                                        var e;
                                        (e = $1.get(t)) ? n.push(e): W1(document.forms, function(e) {
                                            W1(e.elements, function(e) {
                                                e.name === t && (t = "mce_editor_" + K1++, $1.setAttrib(e, "id", t), n.push(e))
                                            })
                                        })
                                    });
                                    break;
                                case "textareas":
                                case "specific_textareas":
                                    W1($1.select("textarea"), function(e) {
                                        t.editor_deselector && f(e, t.editor_deselector) || t.editor_selector && !f(e, t.editor_selector) || n.push(e)
                                    })
                            }
                            return n
                        }(r)), r.types ? W1(r.types, function(t) {
                            Lt.each(i, function(e) {
                                return !$1.is(e, t.selector) || (n(l(e), X1({}, r, t), e), !1)
                            })
                        }) : (Lt.each(i, function(e) {
                            var t;
                            (t = s.get(e.id)) && t.initialized && !(t.getContainer() || t.getBody()).parentNode && (ex(t), t.unbindAllNativeEvents(), t.destroy(!0), t.removed = !0, t = null)
                        }), 0 === (i = Lt.grep(i, function(e) {
                            return !s.get(e.id)
                        })).length ? c([]) : W1(i, function(e) {
                            var t;
                            t = e, r.inline && t.tagName.toLowerCase() in u ? rm("Could not initialize inline editor on invalid inline target element", e) : n(l(e), r, e)
                        }))
                };
            return s.settings = r, $1.bind(window, "ready", e), new ye(function(t) {
                n ? t(n) : c = function(e) {
                    t(e)
                }
            })
        },
        get: function(t) {
            return 0 === arguments.length ? Q1.slice(0) : N.isString(t) ? U.find(Q1, function(e) {
                return e.id === t
            }).getOr(null) : N.isNumber(t) && Q1[t] ? Q1[t] : null
        },
        add: function(e) {
            var t = this;
            return G1[e.id] === e || (null === t.get(e.id) && ("length" !== e.id && (G1[e.id] = e), G1.push(e), Q1.push(e)), Z1(!0), t.activeEditor = e, t.fire("AddEditor", {
                editor: e
            }), _1 || (_1 = function() {
                t.fire("BeforeUnload")
            }, $1.bind(window, "beforeunload", _1))), e
        },
        createEditor: function(e, t) {
            return this.add(new A1(e, t, this))
        },
        remove: function(e) {
            var t, n, r = this;
            if (e) return N.isString(e) ? (e = e.selector || e, void W1($1.select(e), function(e) {
                (n = r.get(e.id)) && r.remove(n)
            })) : (n = e, N.isNull(r.get(n.id)) ? null : (ex(n) && r.fire("RemoveEditor", {
                editor: n
            }), 0 === Q1.length && $1.unbind(window, "beforeunload", _1), n.remove(), Z1(0 < Q1.length), n));
            for (t = Q1.length - 1; 0 <= t; t--) r.remove(Q1[t])
        },
        execCommand: function(e, t, n) {
            var r = this.get(n);
            switch (e) {
                case "mceAddEditor":
                    return this.get(n) || new A1(n, this.settings, this).render(), !0;
                case "mceRemoveEditor":
                    return r && r.remove(), !0;
                case "mceToggleEditor":
                    return r ? r.isHidden() ? r.show() : r.hide() : this.execCommand("mceAddEditor", 0, n), !0
            }
            return !!this.activeEditor && this.activeEditor.execCommand(e, t, n)
        },
        triggerSave: function() {
            W1(Q1, function(e) {
                e.save()
            })
        },
        addI18n: function(e, t) {
            U1.add(e, t)
        },
        translate: function(e) {
            return U1.translate(e)
        },
        setActive: function(e) {
            var t = this.activeEditor;
            this.activeEditor !== e && (t && t.fire("deactivate", {
                relatedTarget: e
            }), e.fire("activate", {
                relatedTarget: t
            })), this.activeEditor = e
        }
    }, Kp), R1.setup();
    var tx, nx = R1;

    function rx(n) {
        return {
            walk: function(e, t) {
                return Rv(n, e, t)
            },
            split: pv,
            normalize: function(t) {
                return up(n, t).fold(z.constant(!1), function(e) {
                    return t.setStart(e.startContainer, e.startOffset), t.setEnd(e.endContainer, e.endOffset), !0
                })
            }
        }
    }(tx = rx || (rx = {})).compareRanges = ep, tx.getCaretRangeFromPoint = Zy, tx.getSelectedNode = aa, tx.getNode = ua;
    var ix, ox, ax = rx,
        ux = Math.min,
        sx = Math.max,
        lx = Math.round,
        fx = function(e, t, n) {
            var r, i, o, a, u, s;
            return r = t.x, i = t.y, o = e.w, a = e.h, u = t.w, s = t.h, "b" === (n = (n || "").split(""))[0] && (i += s), "r" === n[1] && (r += u), "c" === n[0] && (i += lx(s / 2)), "c" === n[1] && (r += lx(u / 2)), "b" === n[3] && (i -= a), "r" === n[4] && (r -= o), "c" === n[3] && (i -= lx(a / 2)), "c" === n[4] && (r -= lx(o / 2)), cx(r, i, o, a)
        },
        cx = function(e, t, n, r) {
            return {
                x: e,
                y: t,
                w: n,
                h: r
            }
        },
        dx = {
            inflate: function(e, t, n) {
                return cx(e.x - t, e.y - n, e.w + 2 * t, e.h + 2 * n)
            },
            relativePosition: fx,
            findBestRelativePosition: function(e, t, n, r) {
                var i, o;
                for (o = 0; o < r.length; o++)
                    if ((i = fx(e, t, r[o])).x >= n.x && i.x + i.w <= n.w + n.x && i.y >= n.y && i.y + i.h <= n.h + n.y) return r[o];
                return null
            },
            intersect: function(e, t) {
                var n, r, i, o;
                return n = sx(e.x, t.x), r = sx(e.y, t.y), i = ux(e.x + e.w, t.x + t.w), o = ux(e.y + e.h, t.y + t.h), i - n < 0 || o - r < 0 ? null : cx(n, r, i - n, o - r)
            },
            clamp: function(e, t, n) {
                var r, i, o, a, u, s, l, f, c, d;
                return u = e.x, s = e.y, l = e.x + e.w, f = e.y + e.h, c = t.x + t.w, d = t.y + t.h, r = sx(0, t.x - u), i = sx(0, t.y - s), o = sx(0, l - c), a = sx(0, f - d), u += r, s += i, n && (l += r, f += i, u -= o, s -= a), cx(u, s, (l -= o) - u, (f -= a) - s)
            },
            create: cx,
            fromClientRect: function(e) {
                return cx(e.left, e.top, e.width, e.height)
            }
        },
        px = {},
        hx = {
            add: function(e, t) {
                px[e.toLowerCase()] = t
            },
            has: function(e) {
                return !!px[e.toLowerCase()]
            },
            get: function(e) {
                var t = e.toLowerCase(),
                    n = px.hasOwnProperty(t) ? px[t] : null;
                if (null === n) throw new Error("Could not find module for type: " + e);
                return n
            },
            create: function(e, t) {
                var n;
                if ("string" == typeof e ? (t = t || {}).type = e : e = (t = e).type, e = e.toLowerCase(), !(n = px[e])) throw new Error("Could not find control by type: " + e);
                return (n = new n(t)).type = e, n
            }
        },
        mx = Lt.each,
        gx = Lt.extend,
        vx = function() {};
    vx.extend = ix = function(n) {
        var e, t, r, i = this.prototype,
            o = function() {
                var e, t, n;
                if (!ox && (this.init && this.init.apply(this, arguments), t = this.Mixins))
                    for (e = t.length; e--;)(n = t[e]).init && n.init.apply(this, arguments)
            },
            a = function() {
                return this
            },
            u = function(n, r) {
                return function() {
                    var e, t = this._super;
                    return this._super = i[n], e = r.apply(this, arguments), this._super = t, e
                }
            };
        for (t in ox = !0, e = new this, ox = !1, n.Mixins && (mx(n.Mixins, function(e) {
                for (var t in e) "init" !== t && (n[t] = e[t])
            }), i.Mixins && (n.Mixins = i.Mixins.concat(n.Mixins))), n.Methods && mx(n.Methods.split(","), function(e) {
                n[e] = a
            }), n.Properties && mx(n.Properties.split(","), function(e) {
                var t = "_" + e;
                n[e] = function(e) {
                    return e !== undefined ? (this[t] = e, this) : this[t]
                }
            }), n.Statics && mx(n.Statics, function(e, t) {
                o[t] = e
            }), n.Defaults && i.Defaults && (n.Defaults = gx({}, i.Defaults, n.Defaults)), n) "function" == typeof(r = n[t]) && i[t] ? e[t] = u(t, r) : e[t] = r;
        return o.prototype = e, (o.constructor = o).extend = ix, o
    };
    var yx = Math.min,
        bx = Math.max,
        xx = Math.round,
        wx = function(e, n) {
            var r, i, t, o;
            if (n = n || '"', null === e) return "null";
            if ("string" == (t = typeof e)) return i = "\bb\tt\nn\ff\rr\"\"''\\\\", n + e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g, function(e, t) {
                return '"' === n && "'" === e ? e : (r = i.indexOf(t)) + 1 ? "\\" + i.charAt(r + 1) : (e = t.charCodeAt().toString(16), "\\u" + "0000".substring(e.length) + e)
            }) + n;
            if ("object" === t) {
                if (e.hasOwnProperty && "[object Array]" === Object.prototype.toString.call(e)) {
                    for (r = 0, i = "["; r < e.length; r++) i += (0 < r ? "," : "") + wx(e[r], n);
                    return i + "]"
                }
                for (o in i = "{", e) e.hasOwnProperty(o) && (i += "function" != typeof e[o] ? (1 < i.length ? "," + n : n) + o + n + ":" + wx(e[o], n) : "");
                return i + "}"
            }
            return "" + e
        },
        Cx = {
            serialize: wx,
            parse: function(e) {
                try {
                    return JSON.parse(e)
                } catch (e) {}
            }
        },
        Ex = {
            callbacks: {},
            count: 0,
            send: function(t) {
                var n = this,
                    r = vo.DOM,
                    i = t.count !== undefined ? t.count : n.count,
                    o = "tinymce_jsonp_" + i;
                n.callbacks[i] = function(e) {
                    r.remove(o), delete n.callbacks[i], t.callback(e)
                }, r.add(r.doc.body, "script", {
                    id: o,
                    src: t.url,
                    type: "text/javascript"
                }), n.count++
            }
        },
        kx = {
            send: function(e) {
                var t, n = 0,
                    r = function() {
                        !e.async || 4 === t.readyState || 1e4 < n++ ? (e.success && n < 1e4 && 200 === t.status ? e.success.call(e.success_scope, "" + t.responseText, t, e) : e.error && e.error.call(e.error_scope, 1e4 < n ? "TIMED_OUT" : "GENERAL", t, e), t = null) : setTimeout(r, 10)
                    };
                if (e.scope = e.scope || this, e.success_scope = e.success_scope || e.scope, e.error_scope = e.error_scope || e.scope, e.async = !1 !== e.async, e.data = e.data || "", kx.fire("beforeInitialize", {
                        settings: e
                    }), t = new am) {
                    if (t.overrideMimeType && t.overrideMimeType(e.content_type), t.open(e.type || (e.data ? "POST" : "GET"), e.url, e.async), e.crossDomain && (t.withCredentials = !0), e.content_type && t.setRequestHeader("Content-Type", e.content_type), e.requestheaders && Lt.each(e.requestheaders, function(e) {
                            t.setRequestHeader(e.key, e.value)
                        }), t.setRequestHeader("X-Requested-With", "XMLHttpRequest"), (t = kx.fire("beforeSend", {
                            xhr: t,
                            settings: e
                        }).xhr).send(e.data), !e.async) return r();
                    setTimeout(r, 10)
                }
            }
        };
    Lt.extend(kx, Kp);
    var Sx = Lt.extend,
        Nx = function(e) {
            this.settings = Sx({}, e), this.count = 0
        };
    Nx.sendRPC = function(e) {
        return (new Nx).send(e)
    }, Nx.prototype = {
        send: function(n) {
            var r = n.error,
                i = n.success;
            (n = Sx(this.settings, n)).success = function(e, t) {
                void 0 === (e = Cx.parse(e)) && (e = {
                    error: "JSON Parse error."
                }), e.error ? r.call(n.error_scope || n.scope, e.error, t) : i.call(n.success_scope || n.scope, e.result)
            }, n.error = function(e, t) {
                r && r.call(n.error_scope || n.scope, e, t)
            }, n.data = Cx.serialize({
                id: n.id || "c" + this.count++,
                method: n.method,
                params: n.params
            }), n.content_type = "application/json", kx.send(n)
        }
    };
    var Tx, Ax = window.localStorage,
        Dx = nx,
        _x = {
            geom: {
                Rect: dx
            },
            util: {
                Promise: ye,
                Delay: Ce,
                Tools: Lt,
                VK: sg,
                URI: d1,
                Class: vx,
                EventDispatcher: Vp,
                Observable: Kp,
                I18n: U1,
                XHR: kx,
                JSON: Cx,
                JSONRequest: Nx,
                JSONP: Ex,
                LocalStorage: Ax,
                Color: function(e) {
                    var n = {},
                        u = 0,
                        s = 0,
                        l = 0,
                        t = function(e) {
                            var t;
                            return "object" == typeof e ? "r" in e ? (u = e.r, s = e.g, l = e.b) : "v" in e && function(e, t, n) {
                                var r, i, o, a;
                                if (e = (parseInt(e, 10) || 0) % 360, t = parseInt(t, 10) / 100, n = parseInt(n, 10) / 100, t = bx(0, yx(t, 1)), n = bx(0, yx(n, 1)), 0 !== t) {
                                    switch (r = e / 60, o = (i = n * t) * (1 - Math.abs(r % 2 - 1)), a = n - i, Math.floor(r)) {
                                        case 0:
                                            u = i, s = o, l = 0;
                                            break;
                                        case 1:
                                            u = o, s = i, l = 0;
                                            break;
                                        case 2:
                                            u = 0, s = i, l = o;
                                            break;
                                        case 3:
                                            u = 0, s = o, l = i;
                                            break;
                                        case 4:
                                            u = o, s = 0, l = i;
                                            break;
                                        case 5:
                                            u = i, s = 0, l = o;
                                            break;
                                        default:
                                            u = s = l = 0
                                    }
                                    u = xx(255 * (u + a)), s = xx(255 * (s + a)), l = xx(255 * (l + a))
                                } else u = s = l = xx(255 * n)
                            }(e.h, e.s, e.v) : (t = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)) ? (u = parseInt(t[1], 10), s = parseInt(t[2], 10), l = parseInt(t[3], 10)) : (t = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)) ? (u = parseInt(t[1], 16), s = parseInt(t[2], 16), l = parseInt(t[3], 16)) : (t = /#([0-F])([0-F])([0-F])/gi.exec(e)) && (u = parseInt(t[1] + t[1], 16), s = parseInt(t[2] + t[2], 16), l = parseInt(t[3] + t[3], 16)), u = u < 0 ? 0 : 255 < u ? 255 : u, s = s < 0 ? 0 : 255 < s ? 255 : s, l = l < 0 ? 0 : 255 < l ? 255 : l, n
                        };
                    return e && t(e), n.toRgb = function() {
                        return {
                            r: u,
                            g: s,
                            b: l
                        }
                    }, n.toHsv = function() {
                        return e = u, t = s, n = l, i = 0, (o = yx(e /= 255, yx(t /= 255, n /= 255))) === (a = bx(e, bx(t, n))) ? {
                            h: 0,
                            s: 0,
                            v: 100 * (i = o)
                        } : (r = (a - o) / a, {
                            h: xx(60 * ((e === o ? 3 : n === o ? 1 : 5) - (e === o ? t - n : n === o ? e - t : n - e) / ((i = a) - o))),
                            s: xx(100 * r),
                            v: xx(100 * i)
                        });
                        var e, t, n, r, i, o, a
                    }, n.toHex = function() {
                        var e = function(e) {
                            return 1 < (e = parseInt(e, 10).toString(16)).length ? e : "0" + e
                        };
                        return "#" + e(u) + e(s) + e(l)
                    }, n.parse = t, n
                }
            },
            dom: {
                EventUtils: Re,
                Sizzle: pt,
                DomQuery: tn,
                TreeWalker: ai,
                DOMUtils: vo,
                ScriptLoader: Co,
                RangeUtils: ax,
                Serializer: Wy,
                ControlSelection: Qy,
                BookmarkManager: Ky,
                Selection: Rb,
                Event: Re.Event
            },
            html: {
                Styles: oo,
                Entities: Wi,
                Node: _y,
                Schema: ro,
                SaxParser: vg,
                DomParser: Hy,
                Writer: Gl,
                Serializer: Ql
            },
            ui: {
                Factory: hx
            },
            Env: ve,
            AddOnManager: So,
            Formatter: vy,
            UndoManager: qg,
            EditorCommands: Up,
            WindowManager: Yh,
            NotificationManager: Kh,
            EditorObservable: Eh,
            Shortcuts: Ah,
            Editor: A1,
            FocusManager: O1,
            EditorManager: nx,
            DOM: vo.DOM,
            ScriptLoader: Co.ScriptLoader,
            PluginManager: So.PluginManager,
            ThemeManager: So.ThemeManager,
            trim: Lt.trim,
            isArray: Lt.isArray,
            is: Lt.is,
            toArray: Lt.toArray,
            makeMap: Lt.makeMap,
            each: Lt.each,
            map: Lt.map,
            grep: Lt.grep,
            inArray: Lt.inArray,
            extend: Lt.extend,
            create: Lt.create,
            walk: Lt.walk,
            createNS: Lt.createNS,
            resolve: Lt.resolve,
            explode: Lt.explode,
            _addCacheSuffix: Lt._addCacheSuffix,
            isOpera: ve.opera,
            isWebKit: ve.webkit,
            isIE: ve.ie,
            isGecko: ve.gecko,
            isMac: ve.mac
        },
        Rx = Dx = Lt.extend(Dx, _x);
    Tx = Rx, window.tinymce = Tx, window.tinyMCE = Tx,
        function(e) {
            if ("object" == typeof module) try {
                module.exports = e
            } catch (e) {}
        }(Rx)
}();